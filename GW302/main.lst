   1              		.cpu arm7tdmi
   2              		.fpu softvfp
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 0
  11              		.eabi_attribute 18, 4
  12              		.code	16
  13              		.file	"main.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.main,"ax",%progbits
  18              		.align	2
  19              		.global	main
  20              		.code	16
  21              		.thumb_func
  23              	main:
  24              	.LFB376:
  25              		.file 1 "main.c"
   1:main.c        **** // -----------------------------------------------------------
   2:main.c        **** // Software:         GW302 - McHale V6 Fixed Chamber Round Baler
   3:main.c        **** // C Source File:    main.c
   4:main.c        **** // Description:      Graphic Wizard Main Files
   5:main.c        **** // -----------------------------------------------------------
   6:main.c        ****  
   7:main.c        **** 
   8:main.c        **** // Include Standard files
   9:main.c        **** #include "Board.h"
  10:main.c        **** 
  11:main.c        **** #include "stdio.h"
  12:main.c        **** 
  13:main.c        **** 
  14:main.c        **** // functions
  15:main.c        **** 
  16:main.c        **** // -----------------------------------------------------------
  17:main.c        **** // Function Name       : Main
  18:main.c        **** // Object              : Software entry point
  19:main.c        **** // Input Parameters    : none.
  20:main.c        **** // Output Parameters   : none.
  21:main.c        **** // -----------------------------------------------------------
  22:main.c        **** int main( void )
  23:main.c        **** {
  26              		.loc 1 23 0
  27              		.cfi_startproc
  28 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  29              	.LCFI0:
  30              		.cfi_def_cfa_offset 24
  31              		.cfi_offset 3, -24
  32              		.cfi_offset 4, -20
  33              		.cfi_offset 5, -16
  34              		.cfi_offset 6, -12
  35              		.cfi_offset 7, -8
  36              		.cfi_offset 14, -4
  37 0002 5F46     		mov	r7, fp
  38 0004 5646     		mov	r6, sl
  39 0006 4D46     		mov	r5, r9
  40 0008 4446     		mov	r4, r8
  41 000a F0B4     		push	{r4, r5, r6, r7}
  42              	.LCFI1:
  43              		.cfi_def_cfa_offset 40
  44              		.cfi_offset 8, -40
  45              		.cfi_offset 9, -36
  46              		.cfi_offset 10, -32
  47              		.cfi_offset 11, -28
  24:main.c        **** 	
  25:main.c        **** // turn off wakeup on WKUP1/0
  26:main.c        **** AT91C_BASE_SHDWC->SHDWC_SHMR = AT91C_SHDWC_WKMODE1_NONE | AT91C_SHDWC_WKMODE0_NONE;
  48              		.loc 1 26 0
  49 000c 0020     		mov	r0, #0
  50 000e 8346     		mov	fp, r0
  51 0010 714B     		ldr	r3, .L2
  52 0012 5860     		str	r0, [r3, #4]
  53              	.LVL0:
  54              	.LBB142:
  55              	.LBB143:
  56              		.file 2 "./include/lib_AT91SAM7A3.h"
   1:./include/lib_AT91SAM7A3.h **** //* ----------------------------------------------------------------------------
   2:./include/lib_AT91SAM7A3.h **** //*         ATMEL Microcontroller Software Support  -  ROUSSET  -
   3:./include/lib_AT91SAM7A3.h **** //* ----------------------------------------------------------------------------
   4:./include/lib_AT91SAM7A3.h **** //* DISCLAIMER:  THIS SOFTWARE IS PROVIDED BY ATMEL "AS IS" AND ANY EXPRESS OR
   5:./include/lib_AT91SAM7A3.h **** //* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
   6:./include/lib_AT91SAM7A3.h **** //* MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE
   7:./include/lib_AT91SAM7A3.h **** //* DISCLAIMED. IN NO EVENT SHALL ATMEL BE LIABLE FOR ANY DIRECT, INDIRECT,
   8:./include/lib_AT91SAM7A3.h **** //* INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
   9:./include/lib_AT91SAM7A3.h **** //* LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
  10:./include/lib_AT91SAM7A3.h **** //* OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  11:./include/lib_AT91SAM7A3.h **** //* LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  12:./include/lib_AT91SAM7A3.h **** //* NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
  13:./include/lib_AT91SAM7A3.h **** //* EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  14:./include/lib_AT91SAM7A3.h **** //* ----------------------------------------------------------------------------
  15:./include/lib_AT91SAM7A3.h **** //* File Name           : lib_AT91SAM7A3.h
  16:./include/lib_AT91SAM7A3.h **** //* Object              : AT91SAM7A3 inlined functions
  17:./include/lib_AT91SAM7A3.h **** //* Generated           : AT91 SW Application Group  01/16/2006 (16:35:45)
  18:./include/lib_AT91SAM7A3.h **** //*
  19:./include/lib_AT91SAM7A3.h **** //* CVS Reference       : /lib_MC_SAM.h/1.3/Thu Mar 25 15:19:14 2004//
  20:./include/lib_AT91SAM7A3.h **** //* CVS Reference       : /lib_pdc.h/1.2/Tue Jul  2 13:29:40 2002//
  21:./include/lib_AT91SAM7A3.h **** //* CVS Reference       : /lib_dbgu.h/1.1/Thu Aug 25 12:56:22 2005//
  22:./include/lib_AT91SAM7A3.h **** //* CVS Reference       : /lib_shdwc_6122A.h/1.1/Wed Oct  6 14:06:00 2004//
  23:./include/lib_AT91SAM7A3.h **** //* CVS Reference       : /lib_spi2.h/1.2/Tue Aug 23 15:37:28 2005//
  24:./include/lib_AT91SAM7A3.h **** //* CVS Reference       : /lib_ssc.h/1.4/Fri Jan 31 12:19:20 2003//
  25:./include/lib_AT91SAM7A3.h **** //* CVS Reference       : /lib_PWM_SAM.h/1.3/Thu Jan 22 10:10:50 2004//
  26:./include/lib_AT91SAM7A3.h **** //* CVS Reference       : /lib_tc_1753b.h/1.1/Fri Jan 31 12:20:02 2003//
  27:./include/lib_AT91SAM7A3.h **** //* CVS Reference       : /lib_pitc_6079A.h/1.2/Tue Nov  9 14:43:56 2004//
  28:./include/lib_AT91SAM7A3.h **** //* CVS Reference       : /lib_adc.h/1.6/Fri Oct 17 09:12:38 2003//
  29:./include/lib_AT91SAM7A3.h **** //* CVS Reference       : /lib_pmc_SAM.h/1.10/Fri Nov  4 09:39:44 2005//
  30:./include/lib_AT91SAM7A3.h **** //* CVS Reference       : /lib_rstc_6098A.h/1.1/Wed Oct  6 10:39:20 2004//
  31:./include/lib_AT91SAM7A3.h **** //* CVS Reference       : /lib_pio.h/1.3/Fri Jan 31 12:18:56 2003//
  32:./include/lib_AT91SAM7A3.h **** //* CVS Reference       : /lib_rttc_6081A.h/1.1/Wed Oct  6 10:39:38 2004//
  33:./include/lib_AT91SAM7A3.h **** //* CVS Reference       : /lib_twi.h/1.3/Mon Jul 19 14:27:58 2004//
  34:./include/lib_AT91SAM7A3.h **** //* CVS Reference       : /lib_usart.h/1.5/Thu Nov 21 16:01:54 2002//
  35:./include/lib_AT91SAM7A3.h **** //* CVS Reference       : /lib_mci.h/1.7/Wed May 19 09:27:28 2004//
  36:./include/lib_AT91SAM7A3.h **** //* CVS Reference       : /lib_wdtc_6080A.h/1.1/Wed Oct  6 10:38:30 2004//
  37:./include/lib_AT91SAM7A3.h **** //* CVS Reference       : /lib_udp.h/1.5/Tue Aug 30 12:13:47 2005//
  38:./include/lib_AT91SAM7A3.h **** //* CVS Reference       : /lib_aic_6075b.h/1.2/Thu Jul  7 07:48:22 2005//
  39:./include/lib_AT91SAM7A3.h **** //* CVS Reference       : /lib_can_AT91.h/1.5/Tue Aug 23 15:37:07 2005//
  40:./include/lib_AT91SAM7A3.h **** //* ----------------------------------------------------------------------------
  41:./include/lib_AT91SAM7A3.h **** 
  42:./include/lib_AT91SAM7A3.h **** #ifndef lib_AT91SAM7A3_H
  43:./include/lib_AT91SAM7A3.h **** #define lib_AT91SAM7A3_H
  44:./include/lib_AT91SAM7A3.h **** 
  45:./include/lib_AT91SAM7A3.h **** /* *****************************************************************************
  46:./include/lib_AT91SAM7A3.h ****                 SOFTWARE API FOR AIC
  47:./include/lib_AT91SAM7A3.h ****    ***************************************************************************** */
  48:./include/lib_AT91SAM7A3.h **** #define AT91C_AIC_BRANCH_OPCODE ((void (*) ()) 0xE51FFF20) // ldr, pc, [pc, #-&F20]
  49:./include/lib_AT91SAM7A3.h **** 
  50:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
  51:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_AIC_ConfigureIt
  52:./include/lib_AT91SAM7A3.h **** //* \brief Interrupt Handler Initialization
  53:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
  54:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_AIC_ConfigureIt (
  55:./include/lib_AT91SAM7A3.h **** 	AT91PS_AIC pAic,  // \arg pointer to the AIC registers
  56:./include/lib_AT91SAM7A3.h **** 	unsigned int irq_id,     // \arg interrupt number to initialize
  57:./include/lib_AT91SAM7A3.h **** 	unsigned int priority,   // \arg priority to give to the interrupt
  58:./include/lib_AT91SAM7A3.h **** 	unsigned int src_type,   // \arg activation and sense of activation
  59:./include/lib_AT91SAM7A3.h **** 	void (*newHandler) () ) // \arg address of the interrupt handler
  60:./include/lib_AT91SAM7A3.h **** {
  61:./include/lib_AT91SAM7A3.h **** 	unsigned int oldHandler;
  62:./include/lib_AT91SAM7A3.h ****     unsigned int mask ;
  63:./include/lib_AT91SAM7A3.h **** 
  64:./include/lib_AT91SAM7A3.h ****     oldHandler = pAic->AIC_SVR[irq_id];
  65:./include/lib_AT91SAM7A3.h **** 
  66:./include/lib_AT91SAM7A3.h ****     mask = 0x1 << irq_id ;
  67:./include/lib_AT91SAM7A3.h ****     //* Disable the interrupt on the interrupt controller
  68:./include/lib_AT91SAM7A3.h ****     pAic->AIC_IDCR = mask ;
  69:./include/lib_AT91SAM7A3.h ****     //* Save the interrupt handler routine pointer and the interrupt priority
  70:./include/lib_AT91SAM7A3.h ****     pAic->AIC_SVR[irq_id] = (unsigned int) newHandler ;
  71:./include/lib_AT91SAM7A3.h ****     //* Store the Source Mode Register
  72:./include/lib_AT91SAM7A3.h ****     pAic->AIC_SMR[irq_id] = src_type | priority  ;
  73:./include/lib_AT91SAM7A3.h ****     //* Clear the interrupt on the interrupt controller
  74:./include/lib_AT91SAM7A3.h ****     pAic->AIC_ICCR = mask ;
  75:./include/lib_AT91SAM7A3.h **** 
  76:./include/lib_AT91SAM7A3.h **** 	return oldHandler;
  77:./include/lib_AT91SAM7A3.h **** }
  78:./include/lib_AT91SAM7A3.h **** 
  79:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
  80:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_AIC_EnableIt
  81:./include/lib_AT91SAM7A3.h **** //* \brief Enable corresponding IT number
  82:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
  83:./include/lib_AT91SAM7A3.h **** __inline void AT91F_AIC_EnableIt (
  84:./include/lib_AT91SAM7A3.h **** 	AT91PS_AIC pAic,      // \arg pointer to the AIC registers
  85:./include/lib_AT91SAM7A3.h **** 	unsigned int irq_id ) // \arg interrupt number to initialize
  86:./include/lib_AT91SAM7A3.h **** {
  87:./include/lib_AT91SAM7A3.h ****     //* Enable the interrupt on the interrupt controller
  88:./include/lib_AT91SAM7A3.h ****     pAic->AIC_IECR = 0x1 << irq_id ;
  89:./include/lib_AT91SAM7A3.h **** }
  90:./include/lib_AT91SAM7A3.h **** 
  91:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
  92:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_AIC_DisableIt
  93:./include/lib_AT91SAM7A3.h **** //* \brief Disable corresponding IT number
  94:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
  95:./include/lib_AT91SAM7A3.h **** __inline void AT91F_AIC_DisableIt (
  96:./include/lib_AT91SAM7A3.h **** 	AT91PS_AIC pAic,      // \arg pointer to the AIC registers
  97:./include/lib_AT91SAM7A3.h **** 	unsigned int irq_id ) // \arg interrupt number to initialize
  98:./include/lib_AT91SAM7A3.h **** {
  99:./include/lib_AT91SAM7A3.h ****     unsigned int mask = 0x1 << irq_id;
 100:./include/lib_AT91SAM7A3.h ****     //* Disable the interrupt on the interrupt controller
 101:./include/lib_AT91SAM7A3.h ****     pAic->AIC_IDCR = mask ;
 102:./include/lib_AT91SAM7A3.h ****     //* Clear the interrupt on the Interrupt Controller ( if one is pending )
 103:./include/lib_AT91SAM7A3.h ****     pAic->AIC_ICCR = mask ;
 104:./include/lib_AT91SAM7A3.h **** }
 105:./include/lib_AT91SAM7A3.h **** 
 106:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 107:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_AIC_ClearIt
 108:./include/lib_AT91SAM7A3.h **** //* \brief Clear corresponding IT number
 109:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 110:./include/lib_AT91SAM7A3.h **** __inline void AT91F_AIC_ClearIt (
 111:./include/lib_AT91SAM7A3.h **** 	AT91PS_AIC pAic,     // \arg pointer to the AIC registers
 112:./include/lib_AT91SAM7A3.h **** 	unsigned int irq_id) // \arg interrupt number to initialize
 113:./include/lib_AT91SAM7A3.h **** {
 114:./include/lib_AT91SAM7A3.h ****     //* Clear the interrupt on the Interrupt Controller ( if one is pending )
 115:./include/lib_AT91SAM7A3.h ****     pAic->AIC_ICCR = (0x1 << irq_id);
 116:./include/lib_AT91SAM7A3.h **** }
 117:./include/lib_AT91SAM7A3.h **** 
 118:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 119:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_AIC_AcknowledgeIt
 120:./include/lib_AT91SAM7A3.h **** //* \brief Acknowledge corresponding IT number
 121:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 122:./include/lib_AT91SAM7A3.h **** __inline void AT91F_AIC_AcknowledgeIt (
 123:./include/lib_AT91SAM7A3.h **** 	AT91PS_AIC pAic)     // \arg pointer to the AIC registers
 124:./include/lib_AT91SAM7A3.h **** {
 125:./include/lib_AT91SAM7A3.h ****     pAic->AIC_EOICR = pAic->AIC_EOICR;
 126:./include/lib_AT91SAM7A3.h **** }
 127:./include/lib_AT91SAM7A3.h **** 
 128:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 129:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_AIC_SetExceptionVector
 130:./include/lib_AT91SAM7A3.h **** //* \brief Configure vector handler
 131:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 132:./include/lib_AT91SAM7A3.h **** __inline unsigned int  AT91F_AIC_SetExceptionVector (
 133:./include/lib_AT91SAM7A3.h **** 	unsigned int *pVector, // \arg pointer to the AIC registers
 134:./include/lib_AT91SAM7A3.h **** 	void (*Handler) () )   // \arg Interrupt Handler
 135:./include/lib_AT91SAM7A3.h **** {
 136:./include/lib_AT91SAM7A3.h **** 	unsigned int oldVector = *pVector;
 137:./include/lib_AT91SAM7A3.h **** 
 138:./include/lib_AT91SAM7A3.h **** 	if ((unsigned int) Handler == (unsigned int) AT91C_AIC_BRANCH_OPCODE)
 139:./include/lib_AT91SAM7A3.h **** 		*pVector = (unsigned int) AT91C_AIC_BRANCH_OPCODE;
 140:./include/lib_AT91SAM7A3.h **** 	else
 141:./include/lib_AT91SAM7A3.h **** 		*pVector = (((((unsigned int) Handler) - ((unsigned int) pVector) - 0x8) >> 2) & 0x00FFFFFF) | 0x
 142:./include/lib_AT91SAM7A3.h **** 
 143:./include/lib_AT91SAM7A3.h **** 	return oldVector;
 144:./include/lib_AT91SAM7A3.h **** }
 145:./include/lib_AT91SAM7A3.h **** 
 146:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 147:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_AIC_Trig
 148:./include/lib_AT91SAM7A3.h **** //* \brief Trig an IT
 149:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 150:./include/lib_AT91SAM7A3.h **** __inline void  AT91F_AIC_Trig (
 151:./include/lib_AT91SAM7A3.h **** 	AT91PS_AIC pAic,     // \arg pointer to the AIC registers
 152:./include/lib_AT91SAM7A3.h **** 	unsigned int irq_id) // \arg interrupt number
 153:./include/lib_AT91SAM7A3.h **** {
 154:./include/lib_AT91SAM7A3.h **** 	pAic->AIC_ISCR = (0x1 << irq_id) ;
 155:./include/lib_AT91SAM7A3.h **** }
 156:./include/lib_AT91SAM7A3.h **** 
 157:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 158:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_AIC_IsActive
 159:./include/lib_AT91SAM7A3.h **** //* \brief Test if an IT is active
 160:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 161:./include/lib_AT91SAM7A3.h **** __inline unsigned int  AT91F_AIC_IsActive (
 162:./include/lib_AT91SAM7A3.h **** 	AT91PS_AIC pAic,     // \arg pointer to the AIC registers
 163:./include/lib_AT91SAM7A3.h **** 	unsigned int irq_id) // \arg Interrupt Number
 164:./include/lib_AT91SAM7A3.h **** {
 165:./include/lib_AT91SAM7A3.h **** 	return (pAic->AIC_ISR & (0x1 << irq_id));
 166:./include/lib_AT91SAM7A3.h **** }
 167:./include/lib_AT91SAM7A3.h **** 
 168:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 169:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_AIC_IsPending
 170:./include/lib_AT91SAM7A3.h **** //* \brief Test if an IT is pending
 171:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 172:./include/lib_AT91SAM7A3.h **** __inline unsigned int  AT91F_AIC_IsPending (
 173:./include/lib_AT91SAM7A3.h **** 	AT91PS_AIC pAic,     // \arg pointer to the AIC registers
 174:./include/lib_AT91SAM7A3.h **** 	unsigned int irq_id) // \arg Interrupt Number
 175:./include/lib_AT91SAM7A3.h **** {
 176:./include/lib_AT91SAM7A3.h **** 	return (pAic->AIC_IPR & (0x1 << irq_id));
 177:./include/lib_AT91SAM7A3.h **** }
 178:./include/lib_AT91SAM7A3.h **** 
 179:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 180:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_AIC_Open
 181:./include/lib_AT91SAM7A3.h **** //* \brief Set exception vectors and AIC registers to default values
 182:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 183:./include/lib_AT91SAM7A3.h **** __inline void AT91F_AIC_Open(
 184:./include/lib_AT91SAM7A3.h **** 	AT91PS_AIC pAic,        // \arg pointer to the AIC registers
 185:./include/lib_AT91SAM7A3.h **** 	void (*IrqHandler) (),  // \arg Default IRQ vector exception
 186:./include/lib_AT91SAM7A3.h **** 	void (*FiqHandler) (),  // \arg Default FIQ vector exception
 187:./include/lib_AT91SAM7A3.h **** 	void (*DefaultHandler)  (), // \arg Default Handler set in ISR
 188:./include/lib_AT91SAM7A3.h **** 	void (*SpuriousHandler) (), // \arg Default Spurious Handler
 189:./include/lib_AT91SAM7A3.h **** 	unsigned int protectMode)   // \arg Debug Control Register
 190:./include/lib_AT91SAM7A3.h **** {
 191:./include/lib_AT91SAM7A3.h **** 	int i;
 192:./include/lib_AT91SAM7A3.h **** 
 193:./include/lib_AT91SAM7A3.h **** 	// Disable all interrupts and set IVR to the default handler
 194:./include/lib_AT91SAM7A3.h **** 	for (i = 0; i < 32; ++i) {
 195:./include/lib_AT91SAM7A3.h **** 		AT91F_AIC_DisableIt(pAic, i);
 196:./include/lib_AT91SAM7A3.h **** 		AT91F_AIC_ConfigureIt(pAic, i, AT91C_AIC_PRIOR_LOWEST, AT91C_AIC_SRCTYPE_HIGH_LEVEL, DefaultHandl
 197:./include/lib_AT91SAM7A3.h **** 	}
 198:./include/lib_AT91SAM7A3.h **** 
 199:./include/lib_AT91SAM7A3.h **** 	// Set the IRQ exception vector
 200:./include/lib_AT91SAM7A3.h **** 	AT91F_AIC_SetExceptionVector((unsigned int *) 0x18, IrqHandler);
 201:./include/lib_AT91SAM7A3.h **** 	// Set the Fast Interrupt exception vector
 202:./include/lib_AT91SAM7A3.h **** 	AT91F_AIC_SetExceptionVector((unsigned int *) 0x1C, FiqHandler);
 203:./include/lib_AT91SAM7A3.h **** 
 204:./include/lib_AT91SAM7A3.h **** 	pAic->AIC_SPU = (unsigned int) SpuriousHandler;
 205:./include/lib_AT91SAM7A3.h **** 	pAic->AIC_DCR = protectMode;
 206:./include/lib_AT91SAM7A3.h **** }
 207:./include/lib_AT91SAM7A3.h **** /* *****************************************************************************
 208:./include/lib_AT91SAM7A3.h ****                 SOFTWARE API FOR PDC
 209:./include/lib_AT91SAM7A3.h ****    ***************************************************************************** */
 210:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 211:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PDC_SetNextRx
 212:./include/lib_AT91SAM7A3.h **** //* \brief Set the next receive transfer descriptor
 213:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 214:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PDC_SetNextRx (
 215:./include/lib_AT91SAM7A3.h **** 	AT91PS_PDC pPDC,     // \arg pointer to a PDC controller
 216:./include/lib_AT91SAM7A3.h **** 	char *address,       // \arg address to the next bloc to be received
 217:./include/lib_AT91SAM7A3.h **** 	unsigned int bytes)  // \arg number of bytes to be received
 218:./include/lib_AT91SAM7A3.h **** {
 219:./include/lib_AT91SAM7A3.h **** 	pPDC->PDC_RNPR = (unsigned int) address;
 220:./include/lib_AT91SAM7A3.h **** 	pPDC->PDC_RNCR = bytes;
 221:./include/lib_AT91SAM7A3.h **** }
 222:./include/lib_AT91SAM7A3.h **** 
 223:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 224:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PDC_SetNextTx
 225:./include/lib_AT91SAM7A3.h **** //* \brief Set the next transmit transfer descriptor
 226:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 227:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PDC_SetNextTx (
 228:./include/lib_AT91SAM7A3.h **** 	AT91PS_PDC pPDC,       // \arg pointer to a PDC controller
 229:./include/lib_AT91SAM7A3.h **** 	char *address,         // \arg address to the next bloc to be transmitted
 230:./include/lib_AT91SAM7A3.h **** 	unsigned int bytes)    // \arg number of bytes to be transmitted
 231:./include/lib_AT91SAM7A3.h **** {
 232:./include/lib_AT91SAM7A3.h **** 	pPDC->PDC_TNPR = (unsigned int) address;
 233:./include/lib_AT91SAM7A3.h **** 	pPDC->PDC_TNCR = bytes;
 234:./include/lib_AT91SAM7A3.h **** }
 235:./include/lib_AT91SAM7A3.h **** 
 236:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 237:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PDC_SetRx
 238:./include/lib_AT91SAM7A3.h **** //* \brief Set the receive transfer descriptor
 239:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 240:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PDC_SetRx (
 241:./include/lib_AT91SAM7A3.h **** 	AT91PS_PDC pPDC,       // \arg pointer to a PDC controller
 242:./include/lib_AT91SAM7A3.h **** 	char *address,         // \arg address to the next bloc to be received
 243:./include/lib_AT91SAM7A3.h **** 	unsigned int bytes)    // \arg number of bytes to be received
 244:./include/lib_AT91SAM7A3.h **** {
 245:./include/lib_AT91SAM7A3.h **** 	pPDC->PDC_RPR = (unsigned int) address;
 246:./include/lib_AT91SAM7A3.h **** 	pPDC->PDC_RCR = bytes;
 247:./include/lib_AT91SAM7A3.h **** }
 248:./include/lib_AT91SAM7A3.h **** 
 249:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 250:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PDC_SetTx
 251:./include/lib_AT91SAM7A3.h **** //* \brief Set the transmit transfer descriptor
 252:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 253:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PDC_SetTx (
 254:./include/lib_AT91SAM7A3.h **** 	AT91PS_PDC pPDC,       // \arg pointer to a PDC controller
 255:./include/lib_AT91SAM7A3.h **** 	char *address,         // \arg address to the next bloc to be transmitted
 256:./include/lib_AT91SAM7A3.h **** 	unsigned int bytes)    // \arg number of bytes to be transmitted
 257:./include/lib_AT91SAM7A3.h **** {
 258:./include/lib_AT91SAM7A3.h **** 	pPDC->PDC_TPR = (unsigned int) address;
 259:./include/lib_AT91SAM7A3.h **** 	pPDC->PDC_TCR = bytes;
 260:./include/lib_AT91SAM7A3.h **** }
 261:./include/lib_AT91SAM7A3.h **** 
 262:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 263:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PDC_EnableTx
 264:./include/lib_AT91SAM7A3.h **** //* \brief Enable transmit
 265:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 266:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PDC_EnableTx (
 267:./include/lib_AT91SAM7A3.h **** 	AT91PS_PDC pPDC )       // \arg pointer to a PDC controller
 268:./include/lib_AT91SAM7A3.h **** {
 269:./include/lib_AT91SAM7A3.h **** 	pPDC->PDC_PTCR = AT91C_PDC_TXTEN;
 270:./include/lib_AT91SAM7A3.h **** }
 271:./include/lib_AT91SAM7A3.h **** 
 272:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 273:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PDC_EnableRx
 274:./include/lib_AT91SAM7A3.h **** //* \brief Enable receive
 275:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 276:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PDC_EnableRx (
 277:./include/lib_AT91SAM7A3.h **** 	AT91PS_PDC pPDC )       // \arg pointer to a PDC controller
 278:./include/lib_AT91SAM7A3.h **** {
 279:./include/lib_AT91SAM7A3.h **** 	pPDC->PDC_PTCR = AT91C_PDC_RXTEN;
 280:./include/lib_AT91SAM7A3.h **** }
 281:./include/lib_AT91SAM7A3.h **** 
 282:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 283:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PDC_DisableTx
 284:./include/lib_AT91SAM7A3.h **** //* \brief Disable transmit
 285:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 286:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PDC_DisableTx (
 287:./include/lib_AT91SAM7A3.h **** 	AT91PS_PDC pPDC )       // \arg pointer to a PDC controller
 288:./include/lib_AT91SAM7A3.h **** {
 289:./include/lib_AT91SAM7A3.h **** 	pPDC->PDC_PTCR = AT91C_PDC_TXTDIS;
 290:./include/lib_AT91SAM7A3.h **** }
 291:./include/lib_AT91SAM7A3.h **** 
 292:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 293:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PDC_DisableRx
 294:./include/lib_AT91SAM7A3.h **** //* \brief Disable receive
 295:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 296:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PDC_DisableRx (
 297:./include/lib_AT91SAM7A3.h **** 	AT91PS_PDC pPDC )       // \arg pointer to a PDC controller
 298:./include/lib_AT91SAM7A3.h **** {
 299:./include/lib_AT91SAM7A3.h **** 	pPDC->PDC_PTCR = AT91C_PDC_RXTDIS;
 300:./include/lib_AT91SAM7A3.h **** }
 301:./include/lib_AT91SAM7A3.h **** 
 302:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 303:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PDC_IsTxEmpty
 304:./include/lib_AT91SAM7A3.h **** //* \brief Test if the current transfer descriptor has been sent
 305:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 306:./include/lib_AT91SAM7A3.h **** __inline int AT91F_PDC_IsTxEmpty ( // \return return 1 if transfer is complete
 307:./include/lib_AT91SAM7A3.h **** 	AT91PS_PDC pPDC )       // \arg pointer to a PDC controller
 308:./include/lib_AT91SAM7A3.h **** {
 309:./include/lib_AT91SAM7A3.h **** 	return !(pPDC->PDC_TCR);
 310:./include/lib_AT91SAM7A3.h **** }
 311:./include/lib_AT91SAM7A3.h **** 
 312:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 313:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PDC_IsNextTxEmpty
 314:./include/lib_AT91SAM7A3.h **** //* \brief Test if the next transfer descriptor has been moved to the current td
 315:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 316:./include/lib_AT91SAM7A3.h **** __inline int AT91F_PDC_IsNextTxEmpty ( // \return return 1 if transfer is complete
 317:./include/lib_AT91SAM7A3.h **** 	AT91PS_PDC pPDC )       // \arg pointer to a PDC controller
 318:./include/lib_AT91SAM7A3.h **** {
 319:./include/lib_AT91SAM7A3.h **** 	return !(pPDC->PDC_TNCR);
 320:./include/lib_AT91SAM7A3.h **** }
 321:./include/lib_AT91SAM7A3.h **** 
 322:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 323:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PDC_IsRxEmpty
 324:./include/lib_AT91SAM7A3.h **** //* \brief Test if the current transfer descriptor has been filled
 325:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 326:./include/lib_AT91SAM7A3.h **** __inline int AT91F_PDC_IsRxEmpty ( // \return return 1 if transfer is complete
 327:./include/lib_AT91SAM7A3.h **** 	AT91PS_PDC pPDC )       // \arg pointer to a PDC controller
 328:./include/lib_AT91SAM7A3.h **** {
 329:./include/lib_AT91SAM7A3.h **** 	return !(pPDC->PDC_RCR);
 330:./include/lib_AT91SAM7A3.h **** }
 331:./include/lib_AT91SAM7A3.h **** 
 332:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 333:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PDC_IsNextRxEmpty
 334:./include/lib_AT91SAM7A3.h **** //* \brief Test if the next transfer descriptor has been moved to the current td
 335:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 336:./include/lib_AT91SAM7A3.h **** __inline int AT91F_PDC_IsNextRxEmpty ( // \return return 1 if transfer is complete
 337:./include/lib_AT91SAM7A3.h **** 	AT91PS_PDC pPDC )       // \arg pointer to a PDC controller
 338:./include/lib_AT91SAM7A3.h **** {
 339:./include/lib_AT91SAM7A3.h **** 	return !(pPDC->PDC_RNCR);
 340:./include/lib_AT91SAM7A3.h **** }
 341:./include/lib_AT91SAM7A3.h **** 
 342:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 343:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PDC_Open
 344:./include/lib_AT91SAM7A3.h **** //* \brief Open PDC: disable TX and RX reset transfer descriptors, re-enable RX and TX
 345:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 346:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PDC_Open (
 347:./include/lib_AT91SAM7A3.h **** 	AT91PS_PDC pPDC)       // \arg pointer to a PDC controller
 348:./include/lib_AT91SAM7A3.h **** {
 349:./include/lib_AT91SAM7A3.h ****     //* Disable the RX and TX PDC transfer requests
 350:./include/lib_AT91SAM7A3.h **** 	AT91F_PDC_DisableRx(pPDC);
 351:./include/lib_AT91SAM7A3.h **** 	AT91F_PDC_DisableTx(pPDC);
 352:./include/lib_AT91SAM7A3.h **** 
 353:./include/lib_AT91SAM7A3.h **** 	//* Reset all Counter register Next buffer first
 354:./include/lib_AT91SAM7A3.h **** 	AT91F_PDC_SetNextTx(pPDC, (char *) 0, 0);
 355:./include/lib_AT91SAM7A3.h **** 	AT91F_PDC_SetNextRx(pPDC, (char *) 0, 0);
 356:./include/lib_AT91SAM7A3.h **** 	AT91F_PDC_SetTx(pPDC, (char *) 0, 0);
 357:./include/lib_AT91SAM7A3.h **** 	AT91F_PDC_SetRx(pPDC, (char *) 0, 0);
 358:./include/lib_AT91SAM7A3.h **** 
 359:./include/lib_AT91SAM7A3.h ****     //* Enable the RX and TX PDC transfer requests
 360:./include/lib_AT91SAM7A3.h **** 	AT91F_PDC_EnableRx(pPDC);
 361:./include/lib_AT91SAM7A3.h **** 	AT91F_PDC_EnableTx(pPDC);
 362:./include/lib_AT91SAM7A3.h **** }
 363:./include/lib_AT91SAM7A3.h **** 
 364:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 365:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PDC_Close
 366:./include/lib_AT91SAM7A3.h **** //* \brief Close PDC: disable TX and RX reset transfer descriptors
 367:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 368:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PDC_Close (
 369:./include/lib_AT91SAM7A3.h **** 	AT91PS_PDC pPDC)       // \arg pointer to a PDC controller
 370:./include/lib_AT91SAM7A3.h **** {
 371:./include/lib_AT91SAM7A3.h ****     //* Disable the RX and TX PDC transfer requests
 372:./include/lib_AT91SAM7A3.h **** 	AT91F_PDC_DisableRx(pPDC);
 373:./include/lib_AT91SAM7A3.h **** 	AT91F_PDC_DisableTx(pPDC);
 374:./include/lib_AT91SAM7A3.h **** 
 375:./include/lib_AT91SAM7A3.h **** 	//* Reset all Counter register Next buffer first
 376:./include/lib_AT91SAM7A3.h **** 	AT91F_PDC_SetNextTx(pPDC, (char *) 0, 0);
 377:./include/lib_AT91SAM7A3.h **** 	AT91F_PDC_SetNextRx(pPDC, (char *) 0, 0);
 378:./include/lib_AT91SAM7A3.h **** 	AT91F_PDC_SetTx(pPDC, (char *) 0, 0);
 379:./include/lib_AT91SAM7A3.h **** 	AT91F_PDC_SetRx(pPDC, (char *) 0, 0);
 380:./include/lib_AT91SAM7A3.h **** 
 381:./include/lib_AT91SAM7A3.h **** }
 382:./include/lib_AT91SAM7A3.h **** 
 383:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 384:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PDC_SendFrame
 385:./include/lib_AT91SAM7A3.h **** //* \brief Close PDC: disable TX and RX reset transfer descriptors
 386:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 387:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PDC_SendFrame(
 388:./include/lib_AT91SAM7A3.h **** 	AT91PS_PDC pPDC,
 389:./include/lib_AT91SAM7A3.h **** 	char *pBuffer,
 390:./include/lib_AT91SAM7A3.h **** 	unsigned int szBuffer,
 391:./include/lib_AT91SAM7A3.h **** 	char *pNextBuffer,
 392:./include/lib_AT91SAM7A3.h **** 	unsigned int szNextBuffer )
 393:./include/lib_AT91SAM7A3.h **** {
 394:./include/lib_AT91SAM7A3.h **** 	if (AT91F_PDC_IsTxEmpty(pPDC)) {
 395:./include/lib_AT91SAM7A3.h **** 		//* Buffer and next buffer can be initialized
 396:./include/lib_AT91SAM7A3.h **** 		AT91F_PDC_SetTx(pPDC, pBuffer, szBuffer);
 397:./include/lib_AT91SAM7A3.h **** 		AT91F_PDC_SetNextTx(pPDC, pNextBuffer, szNextBuffer);
 398:./include/lib_AT91SAM7A3.h **** 		return 2;
 399:./include/lib_AT91SAM7A3.h **** 	}
 400:./include/lib_AT91SAM7A3.h **** 	else if (AT91F_PDC_IsNextTxEmpty(pPDC)) {
 401:./include/lib_AT91SAM7A3.h **** 		//* Only one buffer can be initialized
 402:./include/lib_AT91SAM7A3.h **** 		AT91F_PDC_SetNextTx(pPDC, pBuffer, szBuffer);
 403:./include/lib_AT91SAM7A3.h **** 		return 1;
 404:./include/lib_AT91SAM7A3.h **** 	}
 405:./include/lib_AT91SAM7A3.h **** 	else {
 406:./include/lib_AT91SAM7A3.h **** 		//* All buffer are in use...
 407:./include/lib_AT91SAM7A3.h **** 		return 0;
 408:./include/lib_AT91SAM7A3.h **** 	}
 409:./include/lib_AT91SAM7A3.h **** }
 410:./include/lib_AT91SAM7A3.h **** 
 411:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 412:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PDC_ReceiveFrame
 413:./include/lib_AT91SAM7A3.h **** //* \brief Close PDC: disable TX and RX reset transfer descriptors
 414:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 415:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PDC_ReceiveFrame (
 416:./include/lib_AT91SAM7A3.h **** 	AT91PS_PDC pPDC,
 417:./include/lib_AT91SAM7A3.h **** 	char *pBuffer,
 418:./include/lib_AT91SAM7A3.h **** 	unsigned int szBuffer,
 419:./include/lib_AT91SAM7A3.h **** 	char *pNextBuffer,
 420:./include/lib_AT91SAM7A3.h **** 	unsigned int szNextBuffer )
 421:./include/lib_AT91SAM7A3.h **** {
 422:./include/lib_AT91SAM7A3.h **** 	if (AT91F_PDC_IsRxEmpty(pPDC)) {
 423:./include/lib_AT91SAM7A3.h **** 		//* Buffer and next buffer can be initialized
 424:./include/lib_AT91SAM7A3.h **** 		AT91F_PDC_SetRx(pPDC, pBuffer, szBuffer);
 425:./include/lib_AT91SAM7A3.h **** 		AT91F_PDC_SetNextRx(pPDC, pNextBuffer, szNextBuffer);
 426:./include/lib_AT91SAM7A3.h **** 		return 2;
 427:./include/lib_AT91SAM7A3.h **** 	}
 428:./include/lib_AT91SAM7A3.h **** 	else if (AT91F_PDC_IsNextRxEmpty(pPDC)) {
 429:./include/lib_AT91SAM7A3.h **** 		//* Only one buffer can be initialized
 430:./include/lib_AT91SAM7A3.h **** 		AT91F_PDC_SetNextRx(pPDC, pBuffer, szBuffer);
 431:./include/lib_AT91SAM7A3.h **** 		return 1;
 432:./include/lib_AT91SAM7A3.h **** 	}
 433:./include/lib_AT91SAM7A3.h **** 	else {
 434:./include/lib_AT91SAM7A3.h **** 		//* All buffer are in use...
 435:./include/lib_AT91SAM7A3.h **** 		return 0;
 436:./include/lib_AT91SAM7A3.h **** 	}
 437:./include/lib_AT91SAM7A3.h **** }
 438:./include/lib_AT91SAM7A3.h **** /* *****************************************************************************
 439:./include/lib_AT91SAM7A3.h ****                 SOFTWARE API FOR DBGU
 440:./include/lib_AT91SAM7A3.h ****    ***************************************************************************** */
 441:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 442:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_DBGU_InterruptEnable
 443:./include/lib_AT91SAM7A3.h **** //* \brief Enable DBGU Interrupt
 444:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 445:./include/lib_AT91SAM7A3.h **** __inline void AT91F_DBGU_InterruptEnable(
 446:./include/lib_AT91SAM7A3.h ****         AT91PS_DBGU pDbgu,   // \arg  pointer to a DBGU controller
 447:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  dbgu interrupt to be enabled
 448:./include/lib_AT91SAM7A3.h **** {
 449:./include/lib_AT91SAM7A3.h ****         pDbgu->DBGU_IER = flag;
 450:./include/lib_AT91SAM7A3.h **** }
 451:./include/lib_AT91SAM7A3.h **** 
 452:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 453:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_DBGU_InterruptDisable
 454:./include/lib_AT91SAM7A3.h **** //* \brief Disable DBGU Interrupt
 455:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 456:./include/lib_AT91SAM7A3.h **** __inline void AT91F_DBGU_InterruptDisable(
 457:./include/lib_AT91SAM7A3.h ****         AT91PS_DBGU pDbgu,   // \arg  pointer to a DBGU controller
 458:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  dbgu interrupt to be disabled
 459:./include/lib_AT91SAM7A3.h **** {
 460:./include/lib_AT91SAM7A3.h ****         pDbgu->DBGU_IDR = flag;
 461:./include/lib_AT91SAM7A3.h **** }
 462:./include/lib_AT91SAM7A3.h **** 
 463:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 464:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_DBGU_GetInterruptMaskStatus
 465:./include/lib_AT91SAM7A3.h **** //* \brief Return DBGU Interrupt Mask Status
 466:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 467:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_DBGU_GetInterruptMaskStatus( // \return DBGU Interrupt Mask Status
 468:./include/lib_AT91SAM7A3.h ****         AT91PS_DBGU pDbgu) // \arg  pointer to a DBGU controller
 469:./include/lib_AT91SAM7A3.h **** {
 470:./include/lib_AT91SAM7A3.h ****         return pDbgu->DBGU_IMR;
 471:./include/lib_AT91SAM7A3.h **** }
 472:./include/lib_AT91SAM7A3.h **** 
 473:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 474:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_DBGU_IsInterruptMasked
 475:./include/lib_AT91SAM7A3.h **** //* \brief Test if DBGU Interrupt is Masked 
 476:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 477:./include/lib_AT91SAM7A3.h **** __inline int AT91F_DBGU_IsInterruptMasked(
 478:./include/lib_AT91SAM7A3.h ****         AT91PS_DBGU pDbgu,   // \arg  pointer to a DBGU controller
 479:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
 480:./include/lib_AT91SAM7A3.h **** {
 481:./include/lib_AT91SAM7A3.h ****         return (AT91F_DBGU_GetInterruptMaskStatus(pDbgu) & flag);
 482:./include/lib_AT91SAM7A3.h **** }
 483:./include/lib_AT91SAM7A3.h **** 
 484:./include/lib_AT91SAM7A3.h **** /* *****************************************************************************
 485:./include/lib_AT91SAM7A3.h ****                 SOFTWARE API FOR PIO
 486:./include/lib_AT91SAM7A3.h ****    ***************************************************************************** */
 487:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 488:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_CfgPeriph
 489:./include/lib_AT91SAM7A3.h **** //* \brief Enable pins to be drived by peripheral
 490:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 491:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_CfgPeriph(
 492:./include/lib_AT91SAM7A3.h **** 	AT91PS_PIO pPio,             // \arg pointer to a PIO controller
 493:./include/lib_AT91SAM7A3.h **** 	unsigned int periphAEnable,  // \arg PERIPH A to enable
 494:./include/lib_AT91SAM7A3.h **** 	unsigned int periphBEnable)  // \arg PERIPH B to enable
 495:./include/lib_AT91SAM7A3.h **** 
 496:./include/lib_AT91SAM7A3.h **** {
 497:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_ASR = periphAEnable;
 498:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_BSR = periphBEnable;
 499:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_PDR = (periphAEnable | periphBEnable); // Set in Periph mode
 500:./include/lib_AT91SAM7A3.h **** }
 501:./include/lib_AT91SAM7A3.h **** 
 502:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 503:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_CfgOutput
 504:./include/lib_AT91SAM7A3.h **** //* \brief Enable PIO in output mode
 505:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 506:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_CfgOutput(
 507:./include/lib_AT91SAM7A3.h **** 	AT91PS_PIO pPio,             // \arg pointer to a PIO controller
 508:./include/lib_AT91SAM7A3.h **** 	unsigned int pioEnable)      // \arg PIO to be enabled
 509:./include/lib_AT91SAM7A3.h **** {
 510:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_PER = pioEnable; // Set in PIO mode
 511:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_OER = pioEnable; // Configure in Output
 512:./include/lib_AT91SAM7A3.h **** }
 513:./include/lib_AT91SAM7A3.h **** 
 514:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 515:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_CfgInput
 516:./include/lib_AT91SAM7A3.h **** //* \brief Enable PIO in input mode
 517:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 518:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_CfgInput(
 519:./include/lib_AT91SAM7A3.h **** 	AT91PS_PIO pPio,             // \arg pointer to a PIO controller
 520:./include/lib_AT91SAM7A3.h **** 	unsigned int inputEnable)      // \arg PIO to be enabled
 521:./include/lib_AT91SAM7A3.h **** {
 522:./include/lib_AT91SAM7A3.h **** 	// Disable output
 523:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_ODR  = inputEnable;
 524:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_PER  = inputEnable;
 525:./include/lib_AT91SAM7A3.h **** }
 526:./include/lib_AT91SAM7A3.h **** 
 527:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 528:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_CfgOpendrain
 529:./include/lib_AT91SAM7A3.h **** //* \brief Configure PIO in open drain
 530:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 531:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_CfgOpendrain(
 532:./include/lib_AT91SAM7A3.h **** 	AT91PS_PIO pPio,             // \arg pointer to a PIO controller
 533:./include/lib_AT91SAM7A3.h **** 	unsigned int multiDrvEnable) // \arg pio to be configured in open drain
 534:./include/lib_AT91SAM7A3.h **** {
 535:./include/lib_AT91SAM7A3.h **** 	// Configure the multi-drive option
 536:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_MDDR = ~multiDrvEnable;
 537:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_MDER = multiDrvEnable;
 538:./include/lib_AT91SAM7A3.h **** }
 539:./include/lib_AT91SAM7A3.h **** 
 540:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 541:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_CfgPullup
 542:./include/lib_AT91SAM7A3.h **** //* \brief Enable pullup on PIO
 543:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 544:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_CfgPullup(
 545:./include/lib_AT91SAM7A3.h **** 	AT91PS_PIO pPio,             // \arg pointer to a PIO controller
 546:./include/lib_AT91SAM7A3.h **** 	unsigned int pullupEnable)   // \arg enable pullup on PIO
 547:./include/lib_AT91SAM7A3.h **** {
 548:./include/lib_AT91SAM7A3.h **** 		// Connect or not Pullup
 549:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_PPUDR = ~pullupEnable;
 550:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_PPUER = pullupEnable;
 551:./include/lib_AT91SAM7A3.h **** }
 552:./include/lib_AT91SAM7A3.h **** 
 553:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 554:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_CfgDirectDrive
 555:./include/lib_AT91SAM7A3.h **** //* \brief Enable direct drive on PIO
 556:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 557:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_CfgDirectDrive(
 558:./include/lib_AT91SAM7A3.h **** 	AT91PS_PIO pPio,             // \arg pointer to a PIO controller
 559:./include/lib_AT91SAM7A3.h **** 	unsigned int directDrive)    // \arg PIO to be configured with direct drive
 560:./include/lib_AT91SAM7A3.h **** 
 561:./include/lib_AT91SAM7A3.h **** {
 562:./include/lib_AT91SAM7A3.h **** 	// Configure the Direct Drive
 563:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_OWDR  = ~directDrive;
 564:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_OWER  = directDrive;
 565:./include/lib_AT91SAM7A3.h **** }
 566:./include/lib_AT91SAM7A3.h **** 
 567:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 568:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_CfgInputFilter
 569:./include/lib_AT91SAM7A3.h **** //* \brief Enable input filter on input PIO
 570:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 571:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_CfgInputFilter(
 572:./include/lib_AT91SAM7A3.h **** 	AT91PS_PIO pPio,             // \arg pointer to a PIO controller
 573:./include/lib_AT91SAM7A3.h **** 	unsigned int inputFilter)    // \arg PIO to be configured with input filter
 574:./include/lib_AT91SAM7A3.h **** 
 575:./include/lib_AT91SAM7A3.h **** {
 576:./include/lib_AT91SAM7A3.h **** 	// Configure the Direct Drive
 577:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_IFDR  = ~inputFilter;
 578:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_IFER  = inputFilter;
 579:./include/lib_AT91SAM7A3.h **** }
 580:./include/lib_AT91SAM7A3.h **** 
 581:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 582:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_GetInput
 583:./include/lib_AT91SAM7A3.h **** //* \brief Return PIO input value
 584:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 585:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PIO_GetInput( // \return PIO input
 586:./include/lib_AT91SAM7A3.h **** 	AT91PS_PIO pPio) // \arg  pointer to a PIO controller
 587:./include/lib_AT91SAM7A3.h **** {
 588:./include/lib_AT91SAM7A3.h **** 	return pPio->PIO_PDSR;
 589:./include/lib_AT91SAM7A3.h **** }
 590:./include/lib_AT91SAM7A3.h **** 
 591:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 592:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_IsInputSet
 593:./include/lib_AT91SAM7A3.h **** //* \brief Test if PIO is input flag is active
 594:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 595:./include/lib_AT91SAM7A3.h **** __inline int AT91F_PIO_IsInputSet(
 596:./include/lib_AT91SAM7A3.h **** 	AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 597:./include/lib_AT91SAM7A3.h **** 	unsigned int flag) // \arg  flag to be tested
 598:./include/lib_AT91SAM7A3.h **** {
 599:./include/lib_AT91SAM7A3.h **** 	return (AT91F_PIO_GetInput(pPio) & flag);
 600:./include/lib_AT91SAM7A3.h **** }
 601:./include/lib_AT91SAM7A3.h **** 
 602:./include/lib_AT91SAM7A3.h **** 
 603:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 604:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_SetOutput
 605:./include/lib_AT91SAM7A3.h **** //* \brief Set to 1 output PIO
 606:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 607:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_SetOutput(
 608:./include/lib_AT91SAM7A3.h **** 	AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 609:./include/lib_AT91SAM7A3.h **** 	unsigned int flag) // \arg  output to be set
 610:./include/lib_AT91SAM7A3.h **** {
 611:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_SODR = flag;
 612:./include/lib_AT91SAM7A3.h **** }
 613:./include/lib_AT91SAM7A3.h **** 
 614:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 615:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_ClearOutput
 616:./include/lib_AT91SAM7A3.h **** //* \brief Set to 0 output PIO
 617:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 618:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_ClearOutput(
 619:./include/lib_AT91SAM7A3.h **** 	AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 620:./include/lib_AT91SAM7A3.h **** 	unsigned int flag) // \arg  output to be cleared
 621:./include/lib_AT91SAM7A3.h **** {
 622:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_CODR = flag;
 623:./include/lib_AT91SAM7A3.h **** }
 624:./include/lib_AT91SAM7A3.h **** 
 625:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 626:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_ForceOutput
 627:./include/lib_AT91SAM7A3.h **** //* \brief Force output when Direct drive option is enabled
 628:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 629:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_ForceOutput(
 630:./include/lib_AT91SAM7A3.h **** 	AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 631:./include/lib_AT91SAM7A3.h **** 	unsigned int flag) // \arg  output to be forced
 632:./include/lib_AT91SAM7A3.h **** {
 633:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_ODSR = flag;
 634:./include/lib_AT91SAM7A3.h **** }
 635:./include/lib_AT91SAM7A3.h **** 
 636:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 637:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_Enable
 638:./include/lib_AT91SAM7A3.h **** //* \brief Enable PIO
 639:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 640:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_Enable(
 641:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 642:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  pio to be enabled 
 643:./include/lib_AT91SAM7A3.h **** {
 644:./include/lib_AT91SAM7A3.h ****         pPio->PIO_PER = flag;
 645:./include/lib_AT91SAM7A3.h **** }
 646:./include/lib_AT91SAM7A3.h **** 
 647:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 648:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_Disable
 649:./include/lib_AT91SAM7A3.h **** //* \brief Disable PIO
 650:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 651:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_Disable(
 652:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 653:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  pio to be disabled 
 654:./include/lib_AT91SAM7A3.h **** {
 655:./include/lib_AT91SAM7A3.h ****         pPio->PIO_PDR = flag;
 656:./include/lib_AT91SAM7A3.h **** }
 657:./include/lib_AT91SAM7A3.h **** 
 658:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 659:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_GetStatus
 660:./include/lib_AT91SAM7A3.h **** //* \brief Return PIO Status
 661:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 662:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PIO_GetStatus( // \return PIO Status
 663:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio) // \arg  pointer to a PIO controller
 664:./include/lib_AT91SAM7A3.h **** {
 665:./include/lib_AT91SAM7A3.h ****         return pPio->PIO_PSR;
 666:./include/lib_AT91SAM7A3.h **** }
 667:./include/lib_AT91SAM7A3.h **** 
 668:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 669:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_IsSet
 670:./include/lib_AT91SAM7A3.h **** //* \brief Test if PIO is Set
 671:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 672:./include/lib_AT91SAM7A3.h **** __inline int AT91F_PIO_IsSet(
 673:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 674:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
 675:./include/lib_AT91SAM7A3.h **** {
 676:./include/lib_AT91SAM7A3.h ****         return (AT91F_PIO_GetStatus(pPio) & flag);
 677:./include/lib_AT91SAM7A3.h **** }
 678:./include/lib_AT91SAM7A3.h **** 
 679:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 680:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_OutputEnable
 681:./include/lib_AT91SAM7A3.h **** //* \brief Output Enable PIO
 682:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 683:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_OutputEnable(
 684:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 685:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  pio output to be enabled
 686:./include/lib_AT91SAM7A3.h **** {
 687:./include/lib_AT91SAM7A3.h ****         pPio->PIO_OER = flag;
 688:./include/lib_AT91SAM7A3.h **** }
 689:./include/lib_AT91SAM7A3.h **** 
 690:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 691:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_OutputDisable
 692:./include/lib_AT91SAM7A3.h **** //* \brief Output Enable PIO
 693:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 694:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_OutputDisable(
 695:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 696:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  pio output to be disabled
 697:./include/lib_AT91SAM7A3.h **** {
 698:./include/lib_AT91SAM7A3.h ****         pPio->PIO_ODR = flag;
 699:./include/lib_AT91SAM7A3.h **** }
 700:./include/lib_AT91SAM7A3.h **** 
 701:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 702:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_GetOutputStatus
 703:./include/lib_AT91SAM7A3.h **** //* \brief Return PIO Output Status
 704:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 705:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PIO_GetOutputStatus( // \return PIO Output Status
 706:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio) // \arg  pointer to a PIO controller
 707:./include/lib_AT91SAM7A3.h **** {
 708:./include/lib_AT91SAM7A3.h ****         return pPio->PIO_OSR;
 709:./include/lib_AT91SAM7A3.h **** }
 710:./include/lib_AT91SAM7A3.h **** 
 711:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 712:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_IsOuputSet
 713:./include/lib_AT91SAM7A3.h **** //* \brief Test if PIO Output is Set
 714:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 715:./include/lib_AT91SAM7A3.h **** __inline int AT91F_PIO_IsOutputSet(
 716:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 717:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
 718:./include/lib_AT91SAM7A3.h **** {
 719:./include/lib_AT91SAM7A3.h ****         return (AT91F_PIO_GetOutputStatus(pPio) & flag);
 720:./include/lib_AT91SAM7A3.h **** }
 721:./include/lib_AT91SAM7A3.h **** 
 722:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 723:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_InputFilterEnable
 724:./include/lib_AT91SAM7A3.h **** //* \brief Input Filter Enable PIO
 725:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 726:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_InputFilterEnable(
 727:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 728:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  pio input filter to be enabled
 729:./include/lib_AT91SAM7A3.h **** {
 730:./include/lib_AT91SAM7A3.h ****         pPio->PIO_IFER = flag;
 731:./include/lib_AT91SAM7A3.h **** }
 732:./include/lib_AT91SAM7A3.h **** 
 733:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 734:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_InputFilterDisable
 735:./include/lib_AT91SAM7A3.h **** //* \brief Input Filter Disable PIO
 736:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 737:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_InputFilterDisable(
 738:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 739:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  pio input filter to be disabled
 740:./include/lib_AT91SAM7A3.h **** {
 741:./include/lib_AT91SAM7A3.h ****         pPio->PIO_IFDR = flag;
 742:./include/lib_AT91SAM7A3.h **** }
 743:./include/lib_AT91SAM7A3.h **** 
 744:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 745:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_GetInputFilterStatus
 746:./include/lib_AT91SAM7A3.h **** //* \brief Return PIO Input Filter Status
 747:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 748:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PIO_GetInputFilterStatus( // \return PIO Input Filter Status
 749:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio) // \arg  pointer to a PIO controller
 750:./include/lib_AT91SAM7A3.h **** {
 751:./include/lib_AT91SAM7A3.h ****         return pPio->PIO_IFSR;
 752:./include/lib_AT91SAM7A3.h **** }
 753:./include/lib_AT91SAM7A3.h **** 
 754:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 755:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_IsInputFilterSet
 756:./include/lib_AT91SAM7A3.h **** //* \brief Test if PIO Input filter is Set
 757:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 758:./include/lib_AT91SAM7A3.h **** __inline int AT91F_PIO_IsInputFilterSet(
 759:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 760:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
 761:./include/lib_AT91SAM7A3.h **** {
 762:./include/lib_AT91SAM7A3.h ****         return (AT91F_PIO_GetInputFilterStatus(pPio) & flag);
 763:./include/lib_AT91SAM7A3.h **** }
 764:./include/lib_AT91SAM7A3.h **** 
 765:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 766:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_GetOutputDataStatus
 767:./include/lib_AT91SAM7A3.h **** //* \brief Return PIO Output Data Status 
 768:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 769:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PIO_GetOutputDataStatus( // \return PIO Output Data Status 
 770:./include/lib_AT91SAM7A3.h **** 	AT91PS_PIO pPio) // \arg  pointer to a PIO controller
 771:./include/lib_AT91SAM7A3.h **** {
 772:./include/lib_AT91SAM7A3.h ****         return pPio->PIO_ODSR;
 773:./include/lib_AT91SAM7A3.h **** }
 774:./include/lib_AT91SAM7A3.h **** 
 775:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 776:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_InterruptEnable
 777:./include/lib_AT91SAM7A3.h **** //* \brief Enable PIO Interrupt
 778:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 779:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_InterruptEnable(
 780:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 781:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  pio interrupt to be enabled
 782:./include/lib_AT91SAM7A3.h **** {
 783:./include/lib_AT91SAM7A3.h ****         pPio->PIO_IER = flag;
 784:./include/lib_AT91SAM7A3.h **** }
 785:./include/lib_AT91SAM7A3.h **** 
 786:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 787:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_InterruptDisable
 788:./include/lib_AT91SAM7A3.h **** //* \brief Disable PIO Interrupt
 789:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 790:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_InterruptDisable(
 791:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 792:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  pio interrupt to be disabled
 793:./include/lib_AT91SAM7A3.h **** {
 794:./include/lib_AT91SAM7A3.h ****         pPio->PIO_IDR = flag;
 795:./include/lib_AT91SAM7A3.h **** }
 796:./include/lib_AT91SAM7A3.h **** 
 797:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 798:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_GetInterruptMaskStatus
 799:./include/lib_AT91SAM7A3.h **** //* \brief Return PIO Interrupt Mask Status
 800:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 801:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PIO_GetInterruptMaskStatus( // \return PIO Interrupt Mask Status
 802:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio) // \arg  pointer to a PIO controller
 803:./include/lib_AT91SAM7A3.h **** {
 804:./include/lib_AT91SAM7A3.h ****         return pPio->PIO_IMR;
 805:./include/lib_AT91SAM7A3.h **** }
 806:./include/lib_AT91SAM7A3.h **** 
 807:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 808:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_GetInterruptStatus
 809:./include/lib_AT91SAM7A3.h **** //* \brief Return PIO Interrupt Status
 810:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 811:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PIO_GetInterruptStatus( // \return PIO Interrupt Status
 812:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio) // \arg  pointer to a PIO controller
 813:./include/lib_AT91SAM7A3.h **** {
 814:./include/lib_AT91SAM7A3.h ****         return pPio->PIO_ISR;
 815:./include/lib_AT91SAM7A3.h **** }
 816:./include/lib_AT91SAM7A3.h **** 
 817:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 818:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_IsInterruptMasked
 819:./include/lib_AT91SAM7A3.h **** //* \brief Test if PIO Interrupt is Masked 
 820:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 821:./include/lib_AT91SAM7A3.h **** __inline int AT91F_PIO_IsInterruptMasked(
 822:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 823:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
 824:./include/lib_AT91SAM7A3.h **** {
 825:./include/lib_AT91SAM7A3.h ****         return (AT91F_PIO_GetInterruptMaskStatus(pPio) & flag);
 826:./include/lib_AT91SAM7A3.h **** }
 827:./include/lib_AT91SAM7A3.h **** 
 828:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 829:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_IsInterruptSet
 830:./include/lib_AT91SAM7A3.h **** //* \brief Test if PIO Interrupt is Set
 831:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 832:./include/lib_AT91SAM7A3.h **** __inline int AT91F_PIO_IsInterruptSet(
 833:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 834:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
 835:./include/lib_AT91SAM7A3.h **** {
 836:./include/lib_AT91SAM7A3.h ****         return (AT91F_PIO_GetInterruptStatus(pPio) & flag);
 837:./include/lib_AT91SAM7A3.h **** }
 838:./include/lib_AT91SAM7A3.h **** 
 839:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 840:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_MultiDriverEnable
 841:./include/lib_AT91SAM7A3.h **** //* \brief Multi Driver Enable PIO
 842:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 843:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_MultiDriverEnable(
 844:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 845:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  pio to be enabled
 846:./include/lib_AT91SAM7A3.h **** {
 847:./include/lib_AT91SAM7A3.h ****         pPio->PIO_MDER = flag;
 848:./include/lib_AT91SAM7A3.h **** }
 849:./include/lib_AT91SAM7A3.h **** 
 850:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 851:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_MultiDriverDisable
 852:./include/lib_AT91SAM7A3.h **** //* \brief Multi Driver Disable PIO
 853:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 854:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_MultiDriverDisable(
 855:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 856:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  pio to be disabled
 857:./include/lib_AT91SAM7A3.h **** {
 858:./include/lib_AT91SAM7A3.h ****         pPio->PIO_MDDR = flag;
 859:./include/lib_AT91SAM7A3.h **** }
 860:./include/lib_AT91SAM7A3.h **** 
 861:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 862:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_GetMultiDriverStatus
 863:./include/lib_AT91SAM7A3.h **** //* \brief Return PIO Multi Driver Status
 864:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 865:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PIO_GetMultiDriverStatus( // \return PIO Multi Driver Status
 866:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio) // \arg  pointer to a PIO controller
 867:./include/lib_AT91SAM7A3.h **** {
 868:./include/lib_AT91SAM7A3.h ****         return pPio->PIO_MDSR;
 869:./include/lib_AT91SAM7A3.h **** }
 870:./include/lib_AT91SAM7A3.h **** 
 871:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 872:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_IsMultiDriverSet
 873:./include/lib_AT91SAM7A3.h **** //* \brief Test if PIO MultiDriver is Set
 874:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 875:./include/lib_AT91SAM7A3.h **** __inline int AT91F_PIO_IsMultiDriverSet(
 876:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 877:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
 878:./include/lib_AT91SAM7A3.h **** {
 879:./include/lib_AT91SAM7A3.h ****         return (AT91F_PIO_GetMultiDriverStatus(pPio) & flag);
 880:./include/lib_AT91SAM7A3.h **** }
 881:./include/lib_AT91SAM7A3.h **** 
 882:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 883:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_A_RegisterSelection
 884:./include/lib_AT91SAM7A3.h **** //* \brief PIO A Register Selection 
 885:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 886:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_A_RegisterSelection(
 887:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 888:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  pio A register selection
 889:./include/lib_AT91SAM7A3.h **** {
 890:./include/lib_AT91SAM7A3.h ****         pPio->PIO_ASR = flag;
 891:./include/lib_AT91SAM7A3.h **** }
 892:./include/lib_AT91SAM7A3.h **** 
 893:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 894:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_B_RegisterSelection
 895:./include/lib_AT91SAM7A3.h **** //* \brief PIO B Register Selection 
 896:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 897:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_B_RegisterSelection(
 898:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 899:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  pio B register selection 
 900:./include/lib_AT91SAM7A3.h **** {
 901:./include/lib_AT91SAM7A3.h ****         pPio->PIO_BSR = flag;
 902:./include/lib_AT91SAM7A3.h **** }
 903:./include/lib_AT91SAM7A3.h **** 
 904:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 905:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_Get_AB_RegisterStatus
 906:./include/lib_AT91SAM7A3.h **** //* \brief Return PIO Interrupt Status
 907:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 908:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PIO_Get_AB_RegisterStatus( // \return PIO AB Register Status
 909:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio) // \arg  pointer to a PIO controller
 910:./include/lib_AT91SAM7A3.h **** {
 911:./include/lib_AT91SAM7A3.h ****         return pPio->PIO_ABSR;
 912:./include/lib_AT91SAM7A3.h **** }
 913:./include/lib_AT91SAM7A3.h **** 
 914:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 915:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_IsAB_RegisterSet
 916:./include/lib_AT91SAM7A3.h **** //* \brief Test if PIO AB Register is Set
 917:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 918:./include/lib_AT91SAM7A3.h **** __inline int AT91F_PIO_IsAB_RegisterSet(
 919:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 920:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
 921:./include/lib_AT91SAM7A3.h **** {
 922:./include/lib_AT91SAM7A3.h ****         return (AT91F_PIO_Get_AB_RegisterStatus(pPio) & flag);
 923:./include/lib_AT91SAM7A3.h **** }
 924:./include/lib_AT91SAM7A3.h **** 
 925:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 926:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_OutputWriteEnable
 927:./include/lib_AT91SAM7A3.h **** //* \brief Output Write Enable PIO
 928:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 929:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_OutputWriteEnable(
 930:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 931:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  pio output write to be enabled
 932:./include/lib_AT91SAM7A3.h **** {
 933:./include/lib_AT91SAM7A3.h ****         pPio->PIO_OWER = flag;
 934:./include/lib_AT91SAM7A3.h **** }
 935:./include/lib_AT91SAM7A3.h **** 
 936:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 937:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_OutputWriteDisable
 938:./include/lib_AT91SAM7A3.h **** //* \brief Output Write Disable PIO
 939:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 940:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PIO_OutputWriteDisable(
 941:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 942:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  pio output write to be disabled
 943:./include/lib_AT91SAM7A3.h **** {
 944:./include/lib_AT91SAM7A3.h ****         pPio->PIO_OWDR = flag;
 945:./include/lib_AT91SAM7A3.h **** }
 946:./include/lib_AT91SAM7A3.h **** 
 947:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 948:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_GetOutputWriteStatus
 949:./include/lib_AT91SAM7A3.h **** //* \brief Return PIO Output Write Status
 950:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 951:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PIO_GetOutputWriteStatus( // \return PIO Output Write Status
 952:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio) // \arg  pointer to a PIO controller
 953:./include/lib_AT91SAM7A3.h **** {
 954:./include/lib_AT91SAM7A3.h ****         return pPio->PIO_OWSR;
 955:./include/lib_AT91SAM7A3.h **** }
 956:./include/lib_AT91SAM7A3.h **** 
 957:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 958:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_IsOutputWriteSet
 959:./include/lib_AT91SAM7A3.h **** //* \brief Test if PIO OutputWrite is Set
 960:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 961:./include/lib_AT91SAM7A3.h **** __inline int AT91F_PIO_IsOutputWriteSet(
 962:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 963:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
 964:./include/lib_AT91SAM7A3.h **** {
 965:./include/lib_AT91SAM7A3.h ****         return (AT91F_PIO_GetOutputWriteStatus(pPio) & flag);
 966:./include/lib_AT91SAM7A3.h **** }
 967:./include/lib_AT91SAM7A3.h **** 
 968:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 969:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_GetCfgPullup
 970:./include/lib_AT91SAM7A3.h **** //* \brief Return PIO Configuration Pullup
 971:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 972:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PIO_GetCfgPullup( // \return PIO Configuration Pullup 
 973:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio) // \arg  pointer to a PIO controller
 974:./include/lib_AT91SAM7A3.h **** {
 975:./include/lib_AT91SAM7A3.h ****         return pPio->PIO_PPUSR;
 976:./include/lib_AT91SAM7A3.h **** }
 977:./include/lib_AT91SAM7A3.h **** 
 978:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 979:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_IsOutputDataStatusSet
 980:./include/lib_AT91SAM7A3.h **** //* \brief Test if PIO Output Data Status is Set 
 981:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 982:./include/lib_AT91SAM7A3.h **** __inline int AT91F_PIO_IsOutputDataStatusSet(
 983:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 984:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
 985:./include/lib_AT91SAM7A3.h **** {
 986:./include/lib_AT91SAM7A3.h ****         return (AT91F_PIO_GetOutputDataStatus(pPio) & flag);
 987:./include/lib_AT91SAM7A3.h **** }
 988:./include/lib_AT91SAM7A3.h **** 
 989:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 990:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PIO_IsCfgPullupStatusSet
 991:./include/lib_AT91SAM7A3.h **** //* \brief Test if PIO Configuration Pullup Status is Set
 992:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
 993:./include/lib_AT91SAM7A3.h **** __inline int AT91F_PIO_IsCfgPullupStatusSet(
 994:./include/lib_AT91SAM7A3.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 995:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
 996:./include/lib_AT91SAM7A3.h **** {
 997:./include/lib_AT91SAM7A3.h ****         return (~AT91F_PIO_GetCfgPullup(pPio) & flag);
 998:./include/lib_AT91SAM7A3.h **** }
 999:./include/lib_AT91SAM7A3.h **** 
1000:./include/lib_AT91SAM7A3.h **** /* *****************************************************************************
1001:./include/lib_AT91SAM7A3.h ****                 SOFTWARE API FOR PMC
1002:./include/lib_AT91SAM7A3.h ****    ***************************************************************************** */
1003:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1004:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PMC_CfgSysClkEnableReg
1005:./include/lib_AT91SAM7A3.h **** //* \brief Configure the System Clock Enable Register of the PMC controller
1006:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1007:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PMC_CfgSysClkEnableReg (
1008:./include/lib_AT91SAM7A3.h **** 	AT91PS_PMC pPMC, // \arg pointer to PMC controller
1009:./include/lib_AT91SAM7A3.h **** 	unsigned int mode)
1010:./include/lib_AT91SAM7A3.h **** {
1011:./include/lib_AT91SAM7A3.h **** 	//* Write to the SCER register
1012:./include/lib_AT91SAM7A3.h **** 	pPMC->PMC_SCER = mode;
1013:./include/lib_AT91SAM7A3.h **** }
1014:./include/lib_AT91SAM7A3.h **** 
1015:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1016:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PMC_CfgSysClkDisableReg
1017:./include/lib_AT91SAM7A3.h **** //* \brief Configure the System Clock Disable Register of the PMC controller
1018:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1019:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PMC_CfgSysClkDisableReg (
1020:./include/lib_AT91SAM7A3.h **** 	AT91PS_PMC pPMC, // \arg pointer to PMC controller
1021:./include/lib_AT91SAM7A3.h **** 	unsigned int mode)
1022:./include/lib_AT91SAM7A3.h **** {
1023:./include/lib_AT91SAM7A3.h **** 	//* Write to the SCDR register
1024:./include/lib_AT91SAM7A3.h **** 	pPMC->PMC_SCDR = mode;
1025:./include/lib_AT91SAM7A3.h **** }
1026:./include/lib_AT91SAM7A3.h **** 
1027:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1028:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PMC_GetSysClkStatusReg
1029:./include/lib_AT91SAM7A3.h **** //* \brief Return the System Clock Status Register of the PMC controller
1030:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1031:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PMC_GetSysClkStatusReg (
1032:./include/lib_AT91SAM7A3.h **** 	AT91PS_PMC pPMC // pointer to a CAN controller
1033:./include/lib_AT91SAM7A3.h **** 	)
1034:./include/lib_AT91SAM7A3.h **** {
1035:./include/lib_AT91SAM7A3.h **** 	return pPMC->PMC_SCSR;
1036:./include/lib_AT91SAM7A3.h **** }
1037:./include/lib_AT91SAM7A3.h **** 
1038:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1039:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PMC_EnablePeriphClock
1040:./include/lib_AT91SAM7A3.h **** //* \brief Enable peripheral clock
1041:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1042:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PMC_EnablePeriphClock (
1043:./include/lib_AT91SAM7A3.h **** 	AT91PS_PMC pPMC, // \arg pointer to PMC controller
1044:./include/lib_AT91SAM7A3.h **** 	unsigned int periphIds)  // \arg IDs of peripherals
1045:./include/lib_AT91SAM7A3.h **** {
1046:./include/lib_AT91SAM7A3.h **** 	pPMC->PMC_PCER = periphIds;
1047:./include/lib_AT91SAM7A3.h **** }
1048:./include/lib_AT91SAM7A3.h **** 
1049:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1050:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PMC_DisablePeriphClock
1051:./include/lib_AT91SAM7A3.h **** //* \brief Disable peripheral clock
1052:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1053:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PMC_DisablePeriphClock (
1054:./include/lib_AT91SAM7A3.h **** 	AT91PS_PMC pPMC, // \arg pointer to PMC controller
1055:./include/lib_AT91SAM7A3.h **** 	unsigned int periphIds)  // \arg IDs of peripherals
1056:./include/lib_AT91SAM7A3.h **** {
1057:./include/lib_AT91SAM7A3.h **** 	pPMC->PMC_PCDR = periphIds;
1058:./include/lib_AT91SAM7A3.h **** }
1059:./include/lib_AT91SAM7A3.h **** 
1060:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1061:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PMC_GetPeriphClock
1062:./include/lib_AT91SAM7A3.h **** //* \brief Get peripheral clock status
1063:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1064:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PMC_GetPeriphClock (
1065:./include/lib_AT91SAM7A3.h **** 	AT91PS_PMC pPMC) // \arg pointer to PMC controller
1066:./include/lib_AT91SAM7A3.h **** {
1067:./include/lib_AT91SAM7A3.h **** 	return pPMC->PMC_PCSR;
1068:./include/lib_AT91SAM7A3.h **** }
1069:./include/lib_AT91SAM7A3.h **** 
1070:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1071:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CKGR_CfgMainOscillatorReg
1072:./include/lib_AT91SAM7A3.h **** //* \brief Cfg the main oscillator
1073:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1074:./include/lib_AT91SAM7A3.h **** __inline void AT91F_CKGR_CfgMainOscillatorReg (
1075:./include/lib_AT91SAM7A3.h **** 	AT91PS_CKGR pCKGR, // \arg pointer to CKGR controller
1076:./include/lib_AT91SAM7A3.h **** 	unsigned int mode)
1077:./include/lib_AT91SAM7A3.h **** {
1078:./include/lib_AT91SAM7A3.h **** 	pCKGR->CKGR_MOR = mode;
1079:./include/lib_AT91SAM7A3.h **** }
1080:./include/lib_AT91SAM7A3.h **** 
1081:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1082:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CKGR_GetMainOscillatorReg
1083:./include/lib_AT91SAM7A3.h **** //* \brief Cfg the main oscillator
1084:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1085:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_CKGR_GetMainOscillatorReg (
1086:./include/lib_AT91SAM7A3.h **** 	AT91PS_CKGR pCKGR) // \arg pointer to CKGR controller
1087:./include/lib_AT91SAM7A3.h **** {
1088:./include/lib_AT91SAM7A3.h **** 	return pCKGR->CKGR_MOR;
1089:./include/lib_AT91SAM7A3.h **** }
1090:./include/lib_AT91SAM7A3.h **** 
1091:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1092:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CKGR_EnableMainOscillator
1093:./include/lib_AT91SAM7A3.h **** //* \brief Enable the main oscillator
1094:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1095:./include/lib_AT91SAM7A3.h **** __inline void AT91F_CKGR_EnableMainOscillator(
1096:./include/lib_AT91SAM7A3.h **** 	AT91PS_CKGR pCKGR) // \arg pointer to CKGR controller
1097:./include/lib_AT91SAM7A3.h **** {
1098:./include/lib_AT91SAM7A3.h **** 	pCKGR->CKGR_MOR |= AT91C_CKGR_MOSCEN;
1099:./include/lib_AT91SAM7A3.h **** }
1100:./include/lib_AT91SAM7A3.h **** 
1101:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1102:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CKGR_DisableMainOscillator
1103:./include/lib_AT91SAM7A3.h **** //* \brief Disable the main oscillator
1104:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1105:./include/lib_AT91SAM7A3.h **** __inline void AT91F_CKGR_DisableMainOscillator (
1106:./include/lib_AT91SAM7A3.h **** 	AT91PS_CKGR pCKGR) // \arg pointer to CKGR controller
1107:./include/lib_AT91SAM7A3.h **** {
1108:./include/lib_AT91SAM7A3.h **** 	pCKGR->CKGR_MOR &= ~AT91C_CKGR_MOSCEN;
1109:./include/lib_AT91SAM7A3.h **** }
1110:./include/lib_AT91SAM7A3.h **** 
1111:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1112:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CKGR_CfgMainOscStartUpTime
1113:./include/lib_AT91SAM7A3.h **** //* \brief Cfg MOR Register according to the main osc startup time
1114:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1115:./include/lib_AT91SAM7A3.h **** __inline void AT91F_CKGR_CfgMainOscStartUpTime (
1116:./include/lib_AT91SAM7A3.h **** 	AT91PS_CKGR pCKGR, // \arg pointer to CKGR controller
1117:./include/lib_AT91SAM7A3.h **** 	unsigned int startup_time,  // \arg main osc startup time in microsecond (us)
1118:./include/lib_AT91SAM7A3.h **** 	unsigned int slowClock)  // \arg slowClock in Hz
1119:./include/lib_AT91SAM7A3.h **** {
1120:./include/lib_AT91SAM7A3.h **** 	pCKGR->CKGR_MOR &= ~AT91C_CKGR_OSCOUNT;
1121:./include/lib_AT91SAM7A3.h **** 	pCKGR->CKGR_MOR |= ((slowClock * startup_time)/(8*1000000)) << 8;
1122:./include/lib_AT91SAM7A3.h **** }
1123:./include/lib_AT91SAM7A3.h **** 
1124:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1125:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CKGR_GetMainClockFreqReg
1126:./include/lib_AT91SAM7A3.h **** //* \brief Cfg the main oscillator
1127:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1128:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_CKGR_GetMainClockFreqReg (
1129:./include/lib_AT91SAM7A3.h **** 	AT91PS_CKGR pCKGR) // \arg pointer to CKGR controller
1130:./include/lib_AT91SAM7A3.h **** {
1131:./include/lib_AT91SAM7A3.h **** 	return pCKGR->CKGR_MCFR;
1132:./include/lib_AT91SAM7A3.h **** }
1133:./include/lib_AT91SAM7A3.h **** 
1134:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1135:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CKGR_GetMainClock
1136:./include/lib_AT91SAM7A3.h **** //* \brief Return Main clock in Hz
1137:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1138:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_CKGR_GetMainClock (
1139:./include/lib_AT91SAM7A3.h **** 	AT91PS_CKGR pCKGR, // \arg pointer to CKGR controller
1140:./include/lib_AT91SAM7A3.h **** 	unsigned int slowClock)  // \arg slowClock in Hz
1141:./include/lib_AT91SAM7A3.h **** {
1142:./include/lib_AT91SAM7A3.h **** 	return ((pCKGR->CKGR_MCFR  & AT91C_CKGR_MAINF) * slowClock) >> 4;
1143:./include/lib_AT91SAM7A3.h **** }
1144:./include/lib_AT91SAM7A3.h **** 
1145:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1146:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PMC_CfgMCKReg
1147:./include/lib_AT91SAM7A3.h **** //* \brief Cfg Master Clock Register
1148:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1149:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PMC_CfgMCKReg (
1150:./include/lib_AT91SAM7A3.h **** 	AT91PS_PMC pPMC, // \arg pointer to PMC controller
1151:./include/lib_AT91SAM7A3.h **** 	unsigned int mode)
1152:./include/lib_AT91SAM7A3.h **** {
1153:./include/lib_AT91SAM7A3.h **** 	pPMC->PMC_MCKR = mode;
1154:./include/lib_AT91SAM7A3.h **** }
1155:./include/lib_AT91SAM7A3.h **** 
1156:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1157:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PMC_GetMCKReg
1158:./include/lib_AT91SAM7A3.h **** //* \brief Return Master Clock Register
1159:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1160:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PMC_GetMCKReg(
1161:./include/lib_AT91SAM7A3.h **** 	AT91PS_PMC pPMC) // \arg pointer to PMC controller
1162:./include/lib_AT91SAM7A3.h **** {
1163:./include/lib_AT91SAM7A3.h **** 	return pPMC->PMC_MCKR;
1164:./include/lib_AT91SAM7A3.h **** }
1165:./include/lib_AT91SAM7A3.h **** 
1166:./include/lib_AT91SAM7A3.h **** //*------------------------------------------------------------------------------
1167:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PMC_GetMasterClock
1168:./include/lib_AT91SAM7A3.h **** //* \brief Return master clock in Hz which correponds to processor clock for ARM7
1169:./include/lib_AT91SAM7A3.h **** //*------------------------------------------------------------------------------
1170:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PMC_GetMasterClock (
1171:./include/lib_AT91SAM7A3.h **** 	AT91PS_PMC pPMC, // \arg pointer to PMC controller
1172:./include/lib_AT91SAM7A3.h **** 	AT91PS_CKGR pCKGR, // \arg pointer to CKGR controller
1173:./include/lib_AT91SAM7A3.h **** 	unsigned int slowClock)  // \arg slowClock in Hz
1174:./include/lib_AT91SAM7A3.h **** {
1175:./include/lib_AT91SAM7A3.h **** 	unsigned int reg = pPMC->PMC_MCKR;
1176:./include/lib_AT91SAM7A3.h **** 	unsigned int prescaler = (1 << ((reg & AT91C_PMC_PRES) >> 2));
1177:./include/lib_AT91SAM7A3.h **** 	unsigned int pllDivider, pllMultiplier;
1178:./include/lib_AT91SAM7A3.h **** 
1179:./include/lib_AT91SAM7A3.h **** 	switch (reg & AT91C_PMC_CSS) {
1180:./include/lib_AT91SAM7A3.h **** 		case AT91C_PMC_CSS_SLOW_CLK: // Slow clock selected
1181:./include/lib_AT91SAM7A3.h **** 			return slowClock / prescaler;
1182:./include/lib_AT91SAM7A3.h **** 		case AT91C_PMC_CSS_MAIN_CLK: // Main clock is selected
1183:./include/lib_AT91SAM7A3.h **** 			return AT91F_CKGR_GetMainClock(pCKGR, slowClock) / prescaler;
1184:./include/lib_AT91SAM7A3.h **** 		case AT91C_PMC_CSS_PLL_CLK: // PLLB clock is selected
1185:./include/lib_AT91SAM7A3.h **** 			reg = pCKGR->CKGR_PLLR;
1186:./include/lib_AT91SAM7A3.h **** 			pllDivider    = (reg  & AT91C_CKGR_DIV);
1187:./include/lib_AT91SAM7A3.h **** 			pllMultiplier = ((reg  & AT91C_CKGR_MUL) >> 16) + 1;
1188:./include/lib_AT91SAM7A3.h **** 			return AT91F_CKGR_GetMainClock(pCKGR, slowClock) / pllDivider * pllMultiplier / prescaler;
1189:./include/lib_AT91SAM7A3.h **** 	}
1190:./include/lib_AT91SAM7A3.h **** 	return 0;
1191:./include/lib_AT91SAM7A3.h **** }
1192:./include/lib_AT91SAM7A3.h **** 
1193:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1194:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PMC_EnablePCK
1195:./include/lib_AT91SAM7A3.h **** //* \brief Enable Programmable Clock x Output
1196:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1197:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PMC_EnablePCK (
1198:./include/lib_AT91SAM7A3.h **** 	AT91PS_PMC pPMC, // \arg pointer to PMC controller
1199:./include/lib_AT91SAM7A3.h **** 	unsigned int pck,  // \arg Programmable Clock x Output
1200:./include/lib_AT91SAM7A3.h **** 	unsigned int mode)
1201:./include/lib_AT91SAM7A3.h **** {
1202:./include/lib_AT91SAM7A3.h **** 	pPMC->PMC_PCKR[pck] = mode;
1203:./include/lib_AT91SAM7A3.h **** 	pPMC->PMC_SCER = (1 << pck) << 8;
1204:./include/lib_AT91SAM7A3.h **** }
1205:./include/lib_AT91SAM7A3.h **** 
1206:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1207:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PMC_DisablePCK
1208:./include/lib_AT91SAM7A3.h **** //* \brief Disable Programmable Clock x Output
1209:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1210:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PMC_DisablePCK (
1211:./include/lib_AT91SAM7A3.h **** 	AT91PS_PMC pPMC, // \arg pointer to PMC controller
1212:./include/lib_AT91SAM7A3.h **** 	unsigned int pck)  // \arg Programmable Clock x Output
1213:./include/lib_AT91SAM7A3.h **** {
1214:./include/lib_AT91SAM7A3.h **** 	pPMC->PMC_SCDR = (1 << pck) << 8;
1215:./include/lib_AT91SAM7A3.h **** }
1216:./include/lib_AT91SAM7A3.h **** 
1217:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1218:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PMC_EnableIt
1219:./include/lib_AT91SAM7A3.h **** //* \brief Enable PMC interrupt
1220:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1221:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PMC_EnableIt (
1222:./include/lib_AT91SAM7A3.h **** 	AT91PS_PMC pPMC,     // pointer to a PMC controller
1223:./include/lib_AT91SAM7A3.h **** 	unsigned int flag)   // IT to be enabled
1224:./include/lib_AT91SAM7A3.h **** {
1225:./include/lib_AT91SAM7A3.h **** 	//* Write to the IER register
1226:./include/lib_AT91SAM7A3.h **** 	pPMC->PMC_IER = flag;
1227:./include/lib_AT91SAM7A3.h **** }
1228:./include/lib_AT91SAM7A3.h **** 
1229:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1230:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PMC_DisableIt
1231:./include/lib_AT91SAM7A3.h **** //* \brief Disable PMC interrupt
1232:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1233:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PMC_DisableIt (
1234:./include/lib_AT91SAM7A3.h **** 	AT91PS_PMC pPMC, // pointer to a PMC controller
1235:./include/lib_AT91SAM7A3.h **** 	unsigned int flag) // IT to be disabled
1236:./include/lib_AT91SAM7A3.h **** {
1237:./include/lib_AT91SAM7A3.h **** 	//* Write to the IDR register
1238:./include/lib_AT91SAM7A3.h **** 	pPMC->PMC_IDR = flag;
1239:./include/lib_AT91SAM7A3.h **** }
1240:./include/lib_AT91SAM7A3.h **** 
1241:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1242:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PMC_GetStatus
1243:./include/lib_AT91SAM7A3.h **** //* \brief Return PMC Interrupt Status
1244:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1245:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PMC_GetStatus( // \return PMC Interrupt Status
1246:./include/lib_AT91SAM7A3.h **** 	AT91PS_PMC pPMC) // pointer to a PMC controller
1247:./include/lib_AT91SAM7A3.h **** {
1248:./include/lib_AT91SAM7A3.h **** 	return pPMC->PMC_SR;
1249:./include/lib_AT91SAM7A3.h **** }
1250:./include/lib_AT91SAM7A3.h **** 
1251:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1252:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PMC_GetInterruptMaskStatus
1253:./include/lib_AT91SAM7A3.h **** //* \brief Return PMC Interrupt Mask Status
1254:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1255:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PMC_GetInterruptMaskStatus( // \return PMC Interrupt Mask Status
1256:./include/lib_AT91SAM7A3.h **** 	AT91PS_PMC pPMC) // pointer to a PMC controller
1257:./include/lib_AT91SAM7A3.h **** {
1258:./include/lib_AT91SAM7A3.h **** 	return pPMC->PMC_IMR;
1259:./include/lib_AT91SAM7A3.h **** }
1260:./include/lib_AT91SAM7A3.h **** 
1261:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1262:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PMC_IsInterruptMasked
1263:./include/lib_AT91SAM7A3.h **** //* \brief Test if PMC Interrupt is Masked
1264:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1265:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PMC_IsInterruptMasked(
1266:./include/lib_AT91SAM7A3.h ****         AT91PS_PMC pPMC,   // \arg  pointer to a PMC controller
1267:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
1268:./include/lib_AT91SAM7A3.h **** {
1269:./include/lib_AT91SAM7A3.h **** 	return (AT91F_PMC_GetInterruptMaskStatus(pPMC) & flag);
1270:./include/lib_AT91SAM7A3.h **** }
1271:./include/lib_AT91SAM7A3.h **** 
1272:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1273:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PMC_IsStatusSet
1274:./include/lib_AT91SAM7A3.h **** //* \brief Test if PMC Status is Set
1275:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1276:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PMC_IsStatusSet(
1277:./include/lib_AT91SAM7A3.h ****         AT91PS_PMC pPMC,   // \arg  pointer to a PMC controller
1278:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
1279:./include/lib_AT91SAM7A3.h **** {
1280:./include/lib_AT91SAM7A3.h **** 	return (AT91F_PMC_GetStatus(pPMC) & flag);
1281:./include/lib_AT91SAM7A3.h **** }
1282:./include/lib_AT91SAM7A3.h **** 
1283:./include/lib_AT91SAM7A3.h **** // ----------------------------------------------------------------------------
1284:./include/lib_AT91SAM7A3.h **** //  \fn    AT91F_CKGR_CfgPLLReg
1285:./include/lib_AT91SAM7A3.h **** //  \brief Cfg the PLL Register
1286:./include/lib_AT91SAM7A3.h **** // ----------------------------------------------------------------------------
1287:./include/lib_AT91SAM7A3.h **** __inline void AT91F_CKGR_CfgPLLReg (
1288:./include/lib_AT91SAM7A3.h **** 	AT91PS_CKGR pCKGR, // \arg pointer to CKGR controller
1289:./include/lib_AT91SAM7A3.h **** 	unsigned int mode)
1290:./include/lib_AT91SAM7A3.h **** {
1291:./include/lib_AT91SAM7A3.h **** 	pCKGR->CKGR_PLLR = mode;
1292:./include/lib_AT91SAM7A3.h **** }
1293:./include/lib_AT91SAM7A3.h **** 
1294:./include/lib_AT91SAM7A3.h **** // ----------------------------------------------------------------------------
1295:./include/lib_AT91SAM7A3.h **** //  \fn    AT91F_CKGR_GetPLLReg
1296:./include/lib_AT91SAM7A3.h **** //  \brief Get the PLL Register
1297:./include/lib_AT91SAM7A3.h **** // ----------------------------------------------------------------------------
1298:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_CKGR_GetPLLReg (
1299:./include/lib_AT91SAM7A3.h **** 	AT91PS_CKGR pCKGR) // \arg pointer to CKGR controller
1300:./include/lib_AT91SAM7A3.h **** {
1301:./include/lib_AT91SAM7A3.h **** 	return pCKGR->CKGR_PLLR;
1302:./include/lib_AT91SAM7A3.h **** }
1303:./include/lib_AT91SAM7A3.h **** 
1304:./include/lib_AT91SAM7A3.h **** 
1305:./include/lib_AT91SAM7A3.h **** /* *****************************************************************************
1306:./include/lib_AT91SAM7A3.h ****                 SOFTWARE API FOR RSTC
1307:./include/lib_AT91SAM7A3.h ****    ***************************************************************************** */
1308:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1309:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_RSTSoftReset
1310:./include/lib_AT91SAM7A3.h **** //* \brief Start Software Reset
1311:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1312:./include/lib_AT91SAM7A3.h **** __inline void AT91F_RSTSoftReset(
1313:./include/lib_AT91SAM7A3.h ****         AT91PS_RSTC pRSTC,
1314:./include/lib_AT91SAM7A3.h ****         unsigned int reset)
1315:./include/lib_AT91SAM7A3.h **** {
1316:./include/lib_AT91SAM7A3.h **** 	pRSTC->RSTC_RCR = (0xA5000000 | reset);
1317:./include/lib_AT91SAM7A3.h **** }
1318:./include/lib_AT91SAM7A3.h **** 
1319:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1320:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_RSTSetMode
1321:./include/lib_AT91SAM7A3.h **** //* \brief Set Reset Mode
1322:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1323:./include/lib_AT91SAM7A3.h **** __inline void AT91F_RSTSetMode(
1324:./include/lib_AT91SAM7A3.h ****         AT91PS_RSTC pRSTC,
1325:./include/lib_AT91SAM7A3.h ****         unsigned int mode)
1326:./include/lib_AT91SAM7A3.h **** {
1327:./include/lib_AT91SAM7A3.h **** 	pRSTC->RSTC_RMR = (0xA5000000 | mode);
  57              		.loc 2 1327 0
  58 0014 714A     		ldr	r2, .L2+4
  59 0016 724B     		ldr	r3, .L2+8
  60 0018 9A60     		str	r2, [r3, #8]
  61              	.LVL1:
  62              	.LBE143:
  63              	.LBE142:
  64              	.LBB144:
  65              	.LBB145:
  66              	.LBB146:
1046:./include/lib_AT91SAM7A3.h **** 	pPMC->PMC_PCER = periphIds;
  67              		.loc 2 1046 0
  68 001a 724D     		ldr	r5, .L2+12
  69 001c 0423     		mov	r3, #4
  70 001e 2B61     		str	r3, [r5, #16]
  71              	.LBE146:
  72              	.LBE145:
  73              	.LBE144:
  27:main.c        **** 
  28:main.c        **** // set maximum reset time (0xf << 8) & enable user reset pin -> not working as expected, only exten
  29:main.c        **** // AT91C_BASE_RSTC->RSTC_RMR = RESET_KEY | (0xf << 8) | AT91C_RSTC_URSTEN;
  30:main.c        **** // Enable User Reset and set its minimal assertion to 0.5 seconds
  31:main.c        **** AT91F_RSTSetMode( AT91C_BASE_RSTC, AT91C_RSTC_URSTEN | (0x4 << 8) ); // 0.5 sec == 2^(13 + 1) / 327
  32:main.c        **** 
  33:main.c        **** // Enable the clock of the PIOA
  34:main.c        **** AT91F_PIOA_CfgPMC();
  35:main.c        **** 
  36:main.c        **** // configure the PIO Lines corresponding to OUT1 to OUT6 to be outputs
  37:main.c        **** AT91C_BASE_PIOA->PIO_PER = TESTPIN | OUTPUT_MASK_PIOA; // Set in PIO mode
  74              		.loc 1 37 0
  75 0020 714E     		ldr	r6, .L2+16
  76 0022 724B     		ldr	r3, .L2+20
  77 0024 3360     		str	r3, [r6]
  38:main.c        **** AT91C_BASE_PIOA->PIO_OER = TESTPIN | OUTPUT_MASK_PIOA; // Configure as Output
  78              		.loc 1 38 0
  79 0026 3361     		str	r3, [r6, #16]
  39:main.c        **** AT91C_BASE_PIOA->PIO_SODR = OUTPUT_MASK_PIOA; // Set Outputs - OFF if set
  80              		.loc 1 39 0
  81 0028 714B     		ldr	r3, .L2+24
  82 002a 3363     		str	r3, [r6, #48]
  40:main.c        **** /* turn on OP6 - 12V supply on the machine */
  41:main.c        **** AT91C_BASE_PIOA->PIO_CODR = OUT6; // Set Outputs - ON if clear
  83              		.loc 1 41 0
  84 002c 8023     		mov	r3, #128
  85 002e 9B04     		lsl	r3, r3, #18
  86 0030 7363     		str	r3, [r6, #52]
  42:main.c        **** /* turn on key illumination, clear test pin  */
  43:main.c        **** AT91C_BASE_PIOA->PIO_CODR = TESTPIN | ILLUMINATION; // Set Outputs - ON if clear
  87              		.loc 1 43 0
  88 0032 704B     		ldr	r3, .L2+28
  89 0034 7363     		str	r3, [r6, #52]
  44:main.c        **** 
  45:main.c        **** 
  46:main.c        **** // pull up disable
  47:main.c        **** AT91C_BASE_PIOA->PIO_PPUDR = PIOA_PULLUP_OFF; 
  90              		.loc 1 47 0
  91 0036 704B     		ldr	r3, .L2+32
  92 0038 3366     		str	r3, [r6, #96]
  93              	.LVL2:
  94              	.LBB147:
  95              	.LBB148:
  96              	.LBB149:
1046:./include/lib_AT91SAM7A3.h **** 	pPMC->PMC_PCER = periphIds;
  97              		.loc 2 1046 0
  98 003a 0823     		mov	r3, #8
  99 003c 2B61     		str	r3, [r5, #16]
 100              	.LBE149:
 101              	.LBE148:
 102              	.LBE147:
  48:main.c        ****   
  49:main.c        **** // Enable the clock of the PIOB
  50:main.c        **** AT91F_PIOB_CfgPMC();
  51:main.c        **** AT91C_BASE_PIOB->PIO_PER = OUTPUT_MASK_PIOB; // Set in PIO mode
 103              		.loc 1 51 0
 104 003e 6F4F     		ldr	r7, .L2+36
 105 0040 6F4A     		ldr	r2, .L2+40
 106 0042 3A60     		str	r2, [r7]
  52:main.c        **** AT91C_BASE_PIOB->PIO_OER = OUTPUT_MASK_PIOB; // Configure as Output
 107              		.loc 1 52 0
 108 0044 3A61     		str	r2, [r7, #16]
  53:main.c        **** AT91C_BASE_PIOB->PIO_SODR = OUTPUT_MASK_PIOB; // Set Outputs - OFF if set
 109              		.loc 1 53 0
 110 0046 3A63     		str	r2, [r7, #48]
  54:main.c        **** // pull up disable
  55:main.c        **** AT91C_BASE_PIOB->PIO_PPUDR = PIOB_PULLUP_OFF;
 111              		.loc 1 55 0
 112 0048 6E4A     		ldr	r2, .L2+44
 113 004a 3A66     		str	r2, [r7, #96]
 114              	.LVL3:
 115              	.LBB150:
 116              	.LBB151:
  64:./include/lib_AT91SAM7A3.h ****     oldHandler = pAic->AIC_SVR[irq_id];
 117              		.loc 2 64 0
 118 004c 6E4C     		ldr	r4, .L2+48
 119 004e 8C22     		mov	r2, #140
 120 0050 A158     		ldr	r1, [r4, r2]
 121              	.LVL4:
  68:./include/lib_AT91SAM7A3.h ****     pAic->AIC_IDCR = mask ;
 122              		.loc 2 68 0
 123 0052 9221     		mov	r1, #146
 124 0054 4900     		lsl	r1, r1, #1
 125 0056 8946     		mov	r9, r1
 126 0058 6350     		str	r3, [r4, r1]
  70:./include/lib_AT91SAM7A3.h ****     pAic->AIC_SVR[irq_id] = (unsigned int) newHandler ;
 127              		.loc 2 70 0
 128 005a 6C49     		ldr	r1, .L2+52
 129 005c A150     		str	r1, [r4, r2]
  72:./include/lib_AT91SAM7A3.h ****     pAic->AIC_SMR[irq_id] = src_type | priority  ;
 130              		.loc 2 72 0
 131 005e 0722     		mov	r2, #7
 132 0060 E260     		str	r2, [r4, #12]
  74:./include/lib_AT91SAM7A3.h ****     pAic->AIC_ICCR = mask ;
 133              		.loc 2 74 0
 134 0062 9422     		mov	r2, #148
 135 0064 5200     		lsl	r2, r2, #1
 136 0066 9046     		mov	r8, r2
 137 0068 A350     		str	r3, [r4, r2]
 138              	.LBE151:
 139              	.LBE150:
  56:main.c        **** 
  57:main.c        **** AT91F_AIC_ConfigureIt( AT91C_BASE_AIC, AT91C_ID_PIOB, INTERRUPT_PRIORITY7, AT91C_AIC_SRCTYPE_INT_HI
  58:main.c        **** AT91C_BASE_PIOB->PIO_IER = AT91C_PIO_PB0; // enable interrupt - PFAIL, controller enabled later
 140              		.loc 1 58 0
 141 006a 0123     		mov	r3, #1
 142 006c 9A46     		mov	sl, r3
 143 006e 3B64     		str	r3, [r7, #64]
 144              	.LVL5:
 145              	.LBB152:
 146              	.LBB153:
 147              	.LBB154:
1046:./include/lib_AT91SAM7A3.h **** 	pPMC->PMC_PCER = periphIds;
 148              		.loc 2 1046 0
 149 0070 8023     		mov	r3, #128
 150 0072 DB04     		lsl	r3, r3, #19
 151 0074 2B61     		str	r3, [r5, #16]
 152              	.LBE154:
 153              	.LBE153:
 154              	.LBE152:
  59:main.c        **** 
  60:main.c        **** // enable PWM on PWM0 to 7
  61:main.c        **** // enable clock
  62:main.c        **** AT91F_PWMC_CfgPMC();
  63:main.c        **** // all PWM setup and started by SetOutputPWM()
  64:main.c        **** SetOutputPWM( BACK, 0, 0 ); // start disabled and off (bootloader may leave it running!)
 155              		.loc 1 64 0
 156 0076 0020     		mov	r0, #0
 157 0078 0021     		mov	r1, #0
 158 007a 0022     		mov	r2, #0
 159 007c FFF7FEFF 		bl	SetOutputPWM
 160              	.LVL6:
 161              	.LBB155:
 162              	.LBB156:
 163              	.LBB157:
1046:./include/lib_AT91SAM7A3.h **** 	pPMC->PMC_PCER = periphIds;
 164              		.loc 2 1046 0
 165 0080 8022     		mov	r2, #128
 166 0082 5204     		lsl	r2, r2, #17
 167 0084 2A61     		str	r2, [r5, #16]
 168              	.LVL7:
 169              	.LBE157:
 170              	.LBE156:
 171              	.LBE155:
 172              	.LBB158:
 173              	.LBB159:
1328:./include/lib_AT91SAM7A3.h **** }
1329:./include/lib_AT91SAM7A3.h **** 
1330:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1331:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_RSTGetMode
1332:./include/lib_AT91SAM7A3.h **** //* \brief Get Reset Mode
1333:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1334:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_RSTGetMode(
1335:./include/lib_AT91SAM7A3.h ****         AT91PS_RSTC pRSTC)
1336:./include/lib_AT91SAM7A3.h **** {
1337:./include/lib_AT91SAM7A3.h **** 	return (pRSTC->RSTC_RMR);
1338:./include/lib_AT91SAM7A3.h **** }
1339:./include/lib_AT91SAM7A3.h **** 
1340:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1341:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_RSTGetStatus
1342:./include/lib_AT91SAM7A3.h **** //* \brief Get Reset Status
1343:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1344:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_RSTGetStatus(
1345:./include/lib_AT91SAM7A3.h ****         AT91PS_RSTC pRSTC)
1346:./include/lib_AT91SAM7A3.h **** {
1347:./include/lib_AT91SAM7A3.h **** 	return (pRSTC->RSTC_RSR);
1348:./include/lib_AT91SAM7A3.h **** }
1349:./include/lib_AT91SAM7A3.h **** 
1350:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1351:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_RSTIsSoftRstActive
1352:./include/lib_AT91SAM7A3.h **** //* \brief Return !=0 if software reset is still not completed
1353:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1354:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_RSTIsSoftRstActive(
1355:./include/lib_AT91SAM7A3.h ****         AT91PS_RSTC pRSTC)
1356:./include/lib_AT91SAM7A3.h **** {
1357:./include/lib_AT91SAM7A3.h **** 	return ((pRSTC->RSTC_RSR) & AT91C_RSTC_SRCMP);
1358:./include/lib_AT91SAM7A3.h **** }
1359:./include/lib_AT91SAM7A3.h **** /* *****************************************************************************
1360:./include/lib_AT91SAM7A3.h ****                 SOFTWARE API FOR SHDWC
1361:./include/lib_AT91SAM7A3.h ****    ***************************************************************************** */
1362:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1363:./include/lib_AT91SAM7A3.h **** //* Function Name       : AT91F_SHDWNSetMode()
1364:./include/lib_AT91SAM7A3.h **** //* Object              : Set the Shutdown mode register
1365:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1366:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_SHDWNSetMode(
1367:./include/lib_AT91SAM7A3.h ****         AT91PS_SHDWC pSHDWC,
1368:./include/lib_AT91SAM7A3.h ****         unsigned int mode)
1369:./include/lib_AT91SAM7A3.h **** {
1370:./include/lib_AT91SAM7A3.h **** 	pSHDWC->SHDWC_SHMR = mode;
1371:./include/lib_AT91SAM7A3.h **** 	return(pSHDWC->SHDWC_SHMR);
1372:./include/lib_AT91SAM7A3.h **** }
1373:./include/lib_AT91SAM7A3.h **** 
1374:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1375:./include/lib_AT91SAM7A3.h **** //* Function Name       : AT91F_SHDWNGetMode()
1376:./include/lib_AT91SAM7A3.h **** //* Object              : Get the Shutdown mode register
1377:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1378:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_SHDWNGetMode(
1379:./include/lib_AT91SAM7A3.h ****         AT91PS_SHDWC pSHDWC)
1380:./include/lib_AT91SAM7A3.h **** {
1381:./include/lib_AT91SAM7A3.h **** 	return(pSHDWC->SHDWC_SHMR);
1382:./include/lib_AT91SAM7A3.h **** }
1383:./include/lib_AT91SAM7A3.h **** 
1384:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1385:./include/lib_AT91SAM7A3.h **** //* Function Name       : AT91F_SHDWNEnable()
1386:./include/lib_AT91SAM7A3.h **** //* Object              : Enable Shutdown
1387:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1388:./include/lib_AT91SAM7A3.h **** __inline void AT91F_SHDWNEnable(
1389:./include/lib_AT91SAM7A3.h ****         AT91PS_SHDWC pSHDWC)
1390:./include/lib_AT91SAM7A3.h **** {
1391:./include/lib_AT91SAM7A3.h **** 	pSHDWC->SHDWC_SHCR = 0xA5000001;
1392:./include/lib_AT91SAM7A3.h **** }
1393:./include/lib_AT91SAM7A3.h **** 
1394:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1395:./include/lib_AT91SAM7A3.h **** //* Function Name       : AT91F_SHDWNGetStatus()
1396:./include/lib_AT91SAM7A3.h **** //* Object              : Get Shutdown Status
1397:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1398:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_SHDWNGetStatus(
1399:./include/lib_AT91SAM7A3.h ****         AT91PS_SHDWC pSHDWC)
1400:./include/lib_AT91SAM7A3.h **** {
1401:./include/lib_AT91SAM7A3.h **** 	return(pSHDWC->SHDWC_SHSR);
1402:./include/lib_AT91SAM7A3.h **** }
1403:./include/lib_AT91SAM7A3.h **** 
1404:./include/lib_AT91SAM7A3.h **** /* *****************************************************************************
1405:./include/lib_AT91SAM7A3.h ****                 SOFTWARE API FOR RTTC
1406:./include/lib_AT91SAM7A3.h ****    ***************************************************************************** */
1407:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1408:./include/lib_AT91SAM7A3.h **** //* \fn     AT91F_SetRTT_TimeBase()
1409:./include/lib_AT91SAM7A3.h **** //* \brief  Set the RTT prescaler according to the TimeBase in ms
1410:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1411:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_RTTSetTimeBase(
1412:./include/lib_AT91SAM7A3.h ****         AT91PS_RTTC pRTTC, 
1413:./include/lib_AT91SAM7A3.h ****         unsigned int ms)
1414:./include/lib_AT91SAM7A3.h **** {
1415:./include/lib_AT91SAM7A3.h **** 	if (ms > 2000)
1416:./include/lib_AT91SAM7A3.h **** 		return 1;   // AT91C_TIME_OUT_OF_RANGE
1417:./include/lib_AT91SAM7A3.h **** 	pRTTC->RTTC_RTMR &= ~0xFFFF;	
1418:./include/lib_AT91SAM7A3.h **** 	pRTTC->RTTC_RTMR |= (((ms << 15) /1000) & 0xFFFF);	
1419:./include/lib_AT91SAM7A3.h **** 	return 0;
1420:./include/lib_AT91SAM7A3.h **** }
1421:./include/lib_AT91SAM7A3.h **** 
1422:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1423:./include/lib_AT91SAM7A3.h **** //* \fn     AT91F_RTTSetPrescaler()
1424:./include/lib_AT91SAM7A3.h **** //* \brief  Set the new prescaler value
1425:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1426:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_RTTSetPrescaler(
1427:./include/lib_AT91SAM7A3.h ****         AT91PS_RTTC pRTTC, 
1428:./include/lib_AT91SAM7A3.h ****         unsigned int rtpres)
1429:./include/lib_AT91SAM7A3.h **** {
1430:./include/lib_AT91SAM7A3.h **** 	pRTTC->RTTC_RTMR &= ~0xFFFF;	
1431:./include/lib_AT91SAM7A3.h **** 	pRTTC->RTTC_RTMR |= (rtpres & 0xFFFF);	
1432:./include/lib_AT91SAM7A3.h **** 	return (pRTTC->RTTC_RTMR);
1433:./include/lib_AT91SAM7A3.h **** }
1434:./include/lib_AT91SAM7A3.h **** 
1435:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1436:./include/lib_AT91SAM7A3.h **** //* \fn     AT91F_RTTRestart()
1437:./include/lib_AT91SAM7A3.h **** //* \brief  Restart the RTT prescaler
1438:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1439:./include/lib_AT91SAM7A3.h **** __inline void AT91F_RTTRestart(
1440:./include/lib_AT91SAM7A3.h ****         AT91PS_RTTC pRTTC)
1441:./include/lib_AT91SAM7A3.h **** {
1442:./include/lib_AT91SAM7A3.h **** 	pRTTC->RTTC_RTMR |= AT91C_RTTC_RTTRST;	
1443:./include/lib_AT91SAM7A3.h **** }
1444:./include/lib_AT91SAM7A3.h **** 
1445:./include/lib_AT91SAM7A3.h **** 
1446:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1447:./include/lib_AT91SAM7A3.h **** //* \fn     AT91F_RTT_SetAlarmINT()
1448:./include/lib_AT91SAM7A3.h **** //* \brief  Enable RTT Alarm Interrupt
1449:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1450:./include/lib_AT91SAM7A3.h **** __inline void AT91F_RTTSetAlarmINT(
1451:./include/lib_AT91SAM7A3.h ****         AT91PS_RTTC pRTTC)
1452:./include/lib_AT91SAM7A3.h **** {
1453:./include/lib_AT91SAM7A3.h **** 	pRTTC->RTTC_RTMR |= AT91C_RTTC_ALMIEN;
1454:./include/lib_AT91SAM7A3.h **** }
1455:./include/lib_AT91SAM7A3.h **** 
1456:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1457:./include/lib_AT91SAM7A3.h **** //* \fn     AT91F_RTT_ClearAlarmINT()
1458:./include/lib_AT91SAM7A3.h **** //* \brief  Disable RTT Alarm Interrupt
1459:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1460:./include/lib_AT91SAM7A3.h **** __inline void AT91F_RTTClearAlarmINT(
1461:./include/lib_AT91SAM7A3.h ****         AT91PS_RTTC pRTTC)
1462:./include/lib_AT91SAM7A3.h **** {
1463:./include/lib_AT91SAM7A3.h **** 	pRTTC->RTTC_RTMR &= ~AT91C_RTTC_ALMIEN;
1464:./include/lib_AT91SAM7A3.h **** }
1465:./include/lib_AT91SAM7A3.h **** 
1466:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1467:./include/lib_AT91SAM7A3.h **** //* \fn     AT91F_RTT_SetRttIncINT()
1468:./include/lib_AT91SAM7A3.h **** //* \brief  Enable RTT INC Interrupt
1469:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1470:./include/lib_AT91SAM7A3.h **** __inline void AT91F_RTTSetRttIncINT(
1471:./include/lib_AT91SAM7A3.h ****         AT91PS_RTTC pRTTC)
1472:./include/lib_AT91SAM7A3.h **** {
1473:./include/lib_AT91SAM7A3.h **** 	pRTTC->RTTC_RTMR |= AT91C_RTTC_RTTINCIEN;
1474:./include/lib_AT91SAM7A3.h **** }
1475:./include/lib_AT91SAM7A3.h **** 
1476:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1477:./include/lib_AT91SAM7A3.h **** //* \fn     AT91F_RTT_ClearRttIncINT()
1478:./include/lib_AT91SAM7A3.h **** //* \brief  Disable RTT INC Interrupt
1479:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1480:./include/lib_AT91SAM7A3.h **** __inline void AT91F_RTTClearRttIncINT(
1481:./include/lib_AT91SAM7A3.h ****         AT91PS_RTTC pRTTC)
1482:./include/lib_AT91SAM7A3.h **** {
1483:./include/lib_AT91SAM7A3.h **** 	pRTTC->RTTC_RTMR &= ~AT91C_RTTC_RTTINCIEN;
1484:./include/lib_AT91SAM7A3.h **** }
1485:./include/lib_AT91SAM7A3.h **** 
1486:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1487:./include/lib_AT91SAM7A3.h **** //* \fn     AT91F_RTT_SetAlarmValue()
1488:./include/lib_AT91SAM7A3.h **** //* \brief  Set RTT Alarm Value
1489:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1490:./include/lib_AT91SAM7A3.h **** __inline void AT91F_RTTSetAlarmValue(
1491:./include/lib_AT91SAM7A3.h ****         AT91PS_RTTC pRTTC, unsigned int alarm)
1492:./include/lib_AT91SAM7A3.h **** {
1493:./include/lib_AT91SAM7A3.h **** 	pRTTC->RTTC_RTAR = alarm;
1494:./include/lib_AT91SAM7A3.h **** }
1495:./include/lib_AT91SAM7A3.h **** 
1496:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1497:./include/lib_AT91SAM7A3.h **** //* \fn     AT91F_RTT_GetAlarmValue()
1498:./include/lib_AT91SAM7A3.h **** //* \brief  Get RTT Alarm Value
1499:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1500:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_RTTGetAlarmValue(
1501:./include/lib_AT91SAM7A3.h ****         AT91PS_RTTC pRTTC)
1502:./include/lib_AT91SAM7A3.h **** {
1503:./include/lib_AT91SAM7A3.h **** 	return(pRTTC->RTTC_RTAR);
1504:./include/lib_AT91SAM7A3.h **** }
1505:./include/lib_AT91SAM7A3.h **** 
1506:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1507:./include/lib_AT91SAM7A3.h **** //* \fn     AT91F_RTTGetStatus()
1508:./include/lib_AT91SAM7A3.h **** //* \brief  Read the RTT status
1509:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1510:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_RTTGetStatus(
1511:./include/lib_AT91SAM7A3.h ****         AT91PS_RTTC pRTTC)
1512:./include/lib_AT91SAM7A3.h **** {
1513:./include/lib_AT91SAM7A3.h **** 	return(pRTTC->RTTC_RTSR);
1514:./include/lib_AT91SAM7A3.h **** }
1515:./include/lib_AT91SAM7A3.h **** 
1516:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1517:./include/lib_AT91SAM7A3.h **** //* \fn     AT91F_RTT_ReadValue()
1518:./include/lib_AT91SAM7A3.h **** //* \brief  Read the RTT value
1519:./include/lib_AT91SAM7A3.h **** //*--------------------------------------------------------------------------------------
1520:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_RTTReadValue(
1521:./include/lib_AT91SAM7A3.h ****         AT91PS_RTTC pRTTC)
1522:./include/lib_AT91SAM7A3.h **** {
1523:./include/lib_AT91SAM7A3.h ****         register volatile unsigned int val1,val2;
1524:./include/lib_AT91SAM7A3.h **** 	do
1525:./include/lib_AT91SAM7A3.h **** 	{
1526:./include/lib_AT91SAM7A3.h **** 		val1 = pRTTC->RTTC_RTVR;
1527:./include/lib_AT91SAM7A3.h **** 		val2 = pRTTC->RTTC_RTVR;
1528:./include/lib_AT91SAM7A3.h **** 	}	
1529:./include/lib_AT91SAM7A3.h **** 	while(val1 != val2);
1530:./include/lib_AT91SAM7A3.h **** 	return(val1);
1531:./include/lib_AT91SAM7A3.h **** }
1532:./include/lib_AT91SAM7A3.h **** /* *****************************************************************************
1533:./include/lib_AT91SAM7A3.h ****                 SOFTWARE API FOR PITC
1534:./include/lib_AT91SAM7A3.h ****    ***************************************************************************** */
1535:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1536:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PITInit
1537:./include/lib_AT91SAM7A3.h **** //* \brief System timer init : period in second, system clock freq in MHz
1538:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1539:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PITInit(
1540:./include/lib_AT91SAM7A3.h ****         AT91PS_PITC pPITC,
1541:./include/lib_AT91SAM7A3.h ****         unsigned int period,
1542:./include/lib_AT91SAM7A3.h ****         unsigned int pit_frequency)
1543:./include/lib_AT91SAM7A3.h **** {
1544:./include/lib_AT91SAM7A3.h **** 	pPITC->PITC_PIMR = period? (period * pit_frequency + 8) >> 4 : 0; // +8 to avoid %10 and /10
1545:./include/lib_AT91SAM7A3.h **** 	pPITC->PITC_PIMR |= AT91C_PITC_PITEN;	 
1546:./include/lib_AT91SAM7A3.h **** }
1547:./include/lib_AT91SAM7A3.h **** 
1548:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1549:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PITSetPIV
1550:./include/lib_AT91SAM7A3.h **** //* \brief Set the PIT Periodic Interval Value 
1551:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1552:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PITSetPIV(
1553:./include/lib_AT91SAM7A3.h ****         AT91PS_PITC pPITC,
1554:./include/lib_AT91SAM7A3.h ****         unsigned int piv)
1555:./include/lib_AT91SAM7A3.h **** {
1556:./include/lib_AT91SAM7A3.h **** 	pPITC->PITC_PIMR = piv | (pPITC->PITC_PIMR & (AT91C_PITC_PITEN | AT91C_PITC_PITIEN));
1557:./include/lib_AT91SAM7A3.h **** }
1558:./include/lib_AT91SAM7A3.h **** 
1559:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1560:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PITEnableInt
1561:./include/lib_AT91SAM7A3.h **** //* \brief Enable PIT periodic interrupt
1562:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1563:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PITEnableInt(
1564:./include/lib_AT91SAM7A3.h ****         AT91PS_PITC pPITC)
1565:./include/lib_AT91SAM7A3.h **** {
1566:./include/lib_AT91SAM7A3.h **** 	pPITC->PITC_PIMR |= AT91C_PITC_PITIEN;	 
1567:./include/lib_AT91SAM7A3.h **** }
1568:./include/lib_AT91SAM7A3.h **** 
1569:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1570:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PITDisableInt
1571:./include/lib_AT91SAM7A3.h **** //* \brief Disable PIT periodic interrupt
1572:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1573:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PITDisableInt(
1574:./include/lib_AT91SAM7A3.h ****         AT91PS_PITC pPITC)
1575:./include/lib_AT91SAM7A3.h **** {
1576:./include/lib_AT91SAM7A3.h **** 	pPITC->PITC_PIMR &= ~AT91C_PITC_PITIEN;	 
1577:./include/lib_AT91SAM7A3.h **** }
1578:./include/lib_AT91SAM7A3.h **** 
1579:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1580:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PITGetMode
1581:./include/lib_AT91SAM7A3.h **** //* \brief Read PIT mode register
1582:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1583:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PITGetMode(
1584:./include/lib_AT91SAM7A3.h ****         AT91PS_PITC pPITC)
1585:./include/lib_AT91SAM7A3.h **** {
1586:./include/lib_AT91SAM7A3.h **** 	return(pPITC->PITC_PIMR);
1587:./include/lib_AT91SAM7A3.h **** }
1588:./include/lib_AT91SAM7A3.h **** 
1589:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1590:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PITGetStatus
1591:./include/lib_AT91SAM7A3.h **** //* \brief Read PIT status register
1592:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1593:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PITGetStatus(
1594:./include/lib_AT91SAM7A3.h ****         AT91PS_PITC pPITC)
1595:./include/lib_AT91SAM7A3.h **** {
1596:./include/lib_AT91SAM7A3.h **** 	return(pPITC->PITC_PISR);
1597:./include/lib_AT91SAM7A3.h **** }
1598:./include/lib_AT91SAM7A3.h **** 
1599:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1600:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PITGetPIIR
1601:./include/lib_AT91SAM7A3.h **** //* \brief Read PIT CPIV and PICNT without ressetting the counters
1602:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1603:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PITGetPIIR(
1604:./include/lib_AT91SAM7A3.h ****         AT91PS_PITC pPITC)
1605:./include/lib_AT91SAM7A3.h **** {
1606:./include/lib_AT91SAM7A3.h **** 	return(pPITC->PITC_PIIR);
1607:./include/lib_AT91SAM7A3.h **** }
1608:./include/lib_AT91SAM7A3.h **** 
1609:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1610:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PITGetPIVR
1611:./include/lib_AT91SAM7A3.h **** //* \brief Read System timer CPIV and PICNT without ressetting the counters
1612:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1613:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PITGetPIVR(
1614:./include/lib_AT91SAM7A3.h ****         AT91PS_PITC pPITC)
1615:./include/lib_AT91SAM7A3.h **** {
1616:./include/lib_AT91SAM7A3.h **** 	return(pPITC->PITC_PIVR);
1617:./include/lib_AT91SAM7A3.h **** }
1618:./include/lib_AT91SAM7A3.h **** /* *****************************************************************************
1619:./include/lib_AT91SAM7A3.h ****                 SOFTWARE API FOR WDTC
1620:./include/lib_AT91SAM7A3.h ****    ***************************************************************************** */
1621:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1622:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_WDTSetMode
1623:./include/lib_AT91SAM7A3.h **** //* \brief Set Watchdog Mode Register
1624:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1625:./include/lib_AT91SAM7A3.h **** __inline void AT91F_WDTSetMode(
1626:./include/lib_AT91SAM7A3.h ****         AT91PS_WDTC pWDTC,
1627:./include/lib_AT91SAM7A3.h ****         unsigned int Mode)
1628:./include/lib_AT91SAM7A3.h **** {
1629:./include/lib_AT91SAM7A3.h **** 	pWDTC->WDTC_WDMR = Mode;
1630:./include/lib_AT91SAM7A3.h **** }
1631:./include/lib_AT91SAM7A3.h **** 
1632:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1633:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_WDTRestart
1634:./include/lib_AT91SAM7A3.h **** //* \brief Restart Watchdog
1635:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1636:./include/lib_AT91SAM7A3.h **** __inline void AT91F_WDTRestart(
1637:./include/lib_AT91SAM7A3.h ****         AT91PS_WDTC pWDTC)
1638:./include/lib_AT91SAM7A3.h **** {
1639:./include/lib_AT91SAM7A3.h **** 	pWDTC->WDTC_WDCR = 0xA5000001;
1640:./include/lib_AT91SAM7A3.h **** }
1641:./include/lib_AT91SAM7A3.h **** 
1642:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1643:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_WDTSGettatus
1644:./include/lib_AT91SAM7A3.h **** //* \brief Get Watchdog Status
1645:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1646:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_WDTSGettatus(
1647:./include/lib_AT91SAM7A3.h ****         AT91PS_WDTC pWDTC)
1648:./include/lib_AT91SAM7A3.h **** {
1649:./include/lib_AT91SAM7A3.h **** 	return(pWDTC->WDTC_WDSR & 0x3);
1650:./include/lib_AT91SAM7A3.h **** }
1651:./include/lib_AT91SAM7A3.h **** 
1652:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1653:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_WDTGetPeriod
1654:./include/lib_AT91SAM7A3.h **** //* \brief Translate ms into Watchdog Compatible value
1655:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1656:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_WDTGetPeriod(unsigned int ms)
1657:./include/lib_AT91SAM7A3.h **** {
1658:./include/lib_AT91SAM7A3.h **** 	if ((ms < 4) || (ms > 16000))
1659:./include/lib_AT91SAM7A3.h **** 		return 0;
1660:./include/lib_AT91SAM7A3.h **** 	return((ms << 8) / 1000);
1661:./include/lib_AT91SAM7A3.h **** }
1662:./include/lib_AT91SAM7A3.h **** /* *****************************************************************************
1663:./include/lib_AT91SAM7A3.h ****                 SOFTWARE API FOR MC
1664:./include/lib_AT91SAM7A3.h ****    ***************************************************************************** */
1665:./include/lib_AT91SAM7A3.h **** 
1666:./include/lib_AT91SAM7A3.h **** #define AT91C_MC_CORRECT_KEY  ((unsigned int) 0x5A << 24) // (MC) Correct Protect Key
1667:./include/lib_AT91SAM7A3.h **** 
1668:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1669:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MC_Remap
1670:./include/lib_AT91SAM7A3.h **** //* \brief Make Remap
1671:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1672:./include/lib_AT91SAM7A3.h **** __inline void AT91F_MC_Remap (void)     //  
1673:./include/lib_AT91SAM7A3.h **** {
1674:./include/lib_AT91SAM7A3.h ****     AT91PS_MC pMC = (AT91PS_MC) AT91C_BASE_MC;
1675:./include/lib_AT91SAM7A3.h ****     
1676:./include/lib_AT91SAM7A3.h ****     pMC->MC_RCR = AT91C_MC_RCB;
1677:./include/lib_AT91SAM7A3.h **** }
1678:./include/lib_AT91SAM7A3.h **** 
1679:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1680:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MC_EFC_CfgModeReg
1681:./include/lib_AT91SAM7A3.h **** //* \brief Configure the EFC Mode Register of the MC controller
1682:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1683:./include/lib_AT91SAM7A3.h **** __inline void AT91F_MC_EFC_CfgModeReg (
1684:./include/lib_AT91SAM7A3.h **** 	AT91PS_MC pMC, // pointer to a MC controller
1685:./include/lib_AT91SAM7A3.h **** 	unsigned int mode)        // mode register 
1686:./include/lib_AT91SAM7A3.h **** {
1687:./include/lib_AT91SAM7A3.h **** 	// Write to the FMR register
1688:./include/lib_AT91SAM7A3.h **** 	pMC->MC_FMR = mode;
1689:./include/lib_AT91SAM7A3.h **** }
1690:./include/lib_AT91SAM7A3.h **** 
1691:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1692:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MC_EFC_GetModeReg
1693:./include/lib_AT91SAM7A3.h **** //* \brief Return MC EFC Mode Regsiter
1694:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1695:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_MC_EFC_GetModeReg(
1696:./include/lib_AT91SAM7A3.h **** 	AT91PS_MC pMC) // pointer to a MC controller
1697:./include/lib_AT91SAM7A3.h **** {
1698:./include/lib_AT91SAM7A3.h **** 	return pMC->MC_FMR;
1699:./include/lib_AT91SAM7A3.h **** }
1700:./include/lib_AT91SAM7A3.h **** 
1701:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1702:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MC_EFC_ComputeFMCN
1703:./include/lib_AT91SAM7A3.h **** //* \brief Return MC EFC Mode Regsiter
1704:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1705:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_MC_EFC_ComputeFMCN(
1706:./include/lib_AT91SAM7A3.h **** 	int master_clock) // master clock in Hz
1707:./include/lib_AT91SAM7A3.h **** {
1708:./include/lib_AT91SAM7A3.h **** 	return (master_clock/1000000 +2);
1709:./include/lib_AT91SAM7A3.h **** }
1710:./include/lib_AT91SAM7A3.h **** 
1711:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1712:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MC_EFC_PerformCmd
1713:./include/lib_AT91SAM7A3.h **** //* \brief Perform EFC Command
1714:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1715:./include/lib_AT91SAM7A3.h **** __inline void AT91F_MC_EFC_PerformCmd (
1716:./include/lib_AT91SAM7A3.h **** 	AT91PS_MC pMC, // pointer to a MC controller
1717:./include/lib_AT91SAM7A3.h ****     unsigned int transfer_cmd)
1718:./include/lib_AT91SAM7A3.h **** {
1719:./include/lib_AT91SAM7A3.h **** 	pMC->MC_FCR = transfer_cmd;	
1720:./include/lib_AT91SAM7A3.h **** }
1721:./include/lib_AT91SAM7A3.h **** 
1722:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1723:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MC_EFC_GetStatus
1724:./include/lib_AT91SAM7A3.h **** //* \brief Return MC EFC Status
1725:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1726:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_MC_EFC_GetStatus(
1727:./include/lib_AT91SAM7A3.h **** 	AT91PS_MC pMC) // pointer to a MC controller
1728:./include/lib_AT91SAM7A3.h **** {
1729:./include/lib_AT91SAM7A3.h **** 	return pMC->MC_FSR;
1730:./include/lib_AT91SAM7A3.h **** }
1731:./include/lib_AT91SAM7A3.h **** 
1732:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1733:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MC_EFC_IsInterruptMasked
1734:./include/lib_AT91SAM7A3.h **** //* \brief Test if EFC MC Interrupt is Masked 
1735:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1736:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_MC_EFC_IsInterruptMasked(
1737:./include/lib_AT91SAM7A3.h ****         AT91PS_MC pMC,   // \arg  pointer to a MC controller
1738:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
1739:./include/lib_AT91SAM7A3.h **** {
1740:./include/lib_AT91SAM7A3.h **** 	return (AT91F_MC_EFC_GetModeReg(pMC) & flag);
1741:./include/lib_AT91SAM7A3.h **** }
1742:./include/lib_AT91SAM7A3.h **** 
1743:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1744:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MC_EFC_IsInterruptSet
1745:./include/lib_AT91SAM7A3.h **** //* \brief Test if EFC MC Interrupt is Set
1746:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1747:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_MC_EFC_IsInterruptSet(
1748:./include/lib_AT91SAM7A3.h ****         AT91PS_MC pMC,   // \arg  pointer to a MC controller
1749:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
1750:./include/lib_AT91SAM7A3.h **** {
1751:./include/lib_AT91SAM7A3.h **** 	return (AT91F_MC_EFC_GetStatus(pMC) & flag);
1752:./include/lib_AT91SAM7A3.h **** }
1753:./include/lib_AT91SAM7A3.h **** 
1754:./include/lib_AT91SAM7A3.h **** /* *****************************************************************************
1755:./include/lib_AT91SAM7A3.h ****                 SOFTWARE API FOR CAN
1756:./include/lib_AT91SAM7A3.h ****    ***************************************************************************** */
1757:./include/lib_AT91SAM7A3.h **** #define	STANDARD_FORMAT 0
1758:./include/lib_AT91SAM7A3.h **** #define	EXTENDED_FORMAT 1
1759:./include/lib_AT91SAM7A3.h **** 
1760:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1761:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_InitMailboxRegisters()
1762:./include/lib_AT91SAM7A3.h **** //* \brief Configure the corresponding mailbox
1763:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1764:./include/lib_AT91SAM7A3.h **** __inline void AT91F_InitMailboxRegisters(AT91PS_CAN_MB	CAN_Mailbox,
1765:./include/lib_AT91SAM7A3.h **** 								int  			mode_reg,
1766:./include/lib_AT91SAM7A3.h **** 								int 			acceptance_mask_reg,
1767:./include/lib_AT91SAM7A3.h **** 								int  			id_reg,
1768:./include/lib_AT91SAM7A3.h **** 								int  			data_low_reg,
1769:./include/lib_AT91SAM7A3.h **** 								int  			data_high_reg,
1770:./include/lib_AT91SAM7A3.h **** 								int  			control_reg)
1771:./include/lib_AT91SAM7A3.h **** {
1772:./include/lib_AT91SAM7A3.h **** 	CAN_Mailbox->CAN_MB_MCR 	= 0x0;
1773:./include/lib_AT91SAM7A3.h **** 	CAN_Mailbox->CAN_MB_MMR 	= mode_reg;
1774:./include/lib_AT91SAM7A3.h **** 	CAN_Mailbox->CAN_MB_MAM 	= acceptance_mask_reg;
1775:./include/lib_AT91SAM7A3.h **** 	CAN_Mailbox->CAN_MB_MID 	= id_reg;
1776:./include/lib_AT91SAM7A3.h **** 	CAN_Mailbox->CAN_MB_MDL 	= data_low_reg; 		
1777:./include/lib_AT91SAM7A3.h **** 	CAN_Mailbox->CAN_MB_MDH 	= data_high_reg;
1778:./include/lib_AT91SAM7A3.h **** 	CAN_Mailbox->CAN_MB_MCR 	= control_reg;
1779:./include/lib_AT91SAM7A3.h **** }
1780:./include/lib_AT91SAM7A3.h **** 
1781:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1782:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_EnableCAN()
1783:./include/lib_AT91SAM7A3.h **** //* \brief 
1784:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1785:./include/lib_AT91SAM7A3.h **** __inline void AT91F_EnableCAN(
1786:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN pCAN)     // pointer to a CAN controller
1787:./include/lib_AT91SAM7A3.h **** {
1788:./include/lib_AT91SAM7A3.h **** 	pCAN->CAN_MR |= AT91C_CAN_CANEN;
1789:./include/lib_AT91SAM7A3.h **** 
1790:./include/lib_AT91SAM7A3.h **** 	// Wait for WAKEUP flag raising <=> 11-recessive-bit were scanned by the transceiver
1791:./include/lib_AT91SAM7A3.h **** 	while( (pCAN->CAN_SR & AT91C_CAN_WAKEUP) != AT91C_CAN_WAKEUP );
1792:./include/lib_AT91SAM7A3.h **** }
1793:./include/lib_AT91SAM7A3.h **** 
1794:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1795:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_DisableCAN()
1796:./include/lib_AT91SAM7A3.h **** //* \brief 
1797:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1798:./include/lib_AT91SAM7A3.h **** __inline void AT91F_DisableCAN(
1799:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN pCAN)     // pointer to a CAN controller
1800:./include/lib_AT91SAM7A3.h **** {
1801:./include/lib_AT91SAM7A3.h **** 	pCAN->CAN_MR &= ~AT91C_CAN_CANEN;
1802:./include/lib_AT91SAM7A3.h **** }
1803:./include/lib_AT91SAM7A3.h **** 
1804:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1805:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_EnableIt
1806:./include/lib_AT91SAM7A3.h **** //* \brief Enable CAN interrupt
1807:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1808:./include/lib_AT91SAM7A3.h **** __inline void AT91F_CAN_EnableIt (
1809:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN pCAN,     // pointer to a CAN controller
1810:./include/lib_AT91SAM7A3.h **** 	unsigned int flag)   // IT to be enabled
1811:./include/lib_AT91SAM7A3.h **** {
1812:./include/lib_AT91SAM7A3.h **** 	//* Write to the IER register
1813:./include/lib_AT91SAM7A3.h **** 	pCAN->CAN_IER = flag;
1814:./include/lib_AT91SAM7A3.h **** }
1815:./include/lib_AT91SAM7A3.h **** 
1816:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1817:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_DisableIt
1818:./include/lib_AT91SAM7A3.h **** //* \brief Disable CAN interrupt
1819:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1820:./include/lib_AT91SAM7A3.h **** __inline void AT91F_CAN_DisableIt (
1821:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN pCAN, // pointer to a CAN controller
1822:./include/lib_AT91SAM7A3.h **** 	unsigned int flag) // IT to be disabled
1823:./include/lib_AT91SAM7A3.h **** {
1824:./include/lib_AT91SAM7A3.h **** 	//* Write to the IDR register
1825:./include/lib_AT91SAM7A3.h **** 	pCAN->CAN_IDR = flag;
1826:./include/lib_AT91SAM7A3.h **** }
1827:./include/lib_AT91SAM7A3.h **** 
1828:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1829:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_GetStatus
1830:./include/lib_AT91SAM7A3.h **** //* \brief Return CAN Interrupt Status
1831:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1832:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_CAN_GetStatus( // \return CAN Interrupt Status
1833:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN pCAN) // pointer to a CAN controller
1834:./include/lib_AT91SAM7A3.h **** {
1835:./include/lib_AT91SAM7A3.h **** 	return pCAN->CAN_SR;
1836:./include/lib_AT91SAM7A3.h **** }
1837:./include/lib_AT91SAM7A3.h **** 
1838:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1839:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_GetInterruptMaskStatus
1840:./include/lib_AT91SAM7A3.h **** //* \brief Return CAN Interrupt Mask Status
1841:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1842:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_CAN_GetInterruptMaskStatus( // \return CAN Interrupt Mask Status
1843:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN pCAN) // pointer to a CAN controller
1844:./include/lib_AT91SAM7A3.h **** {
1845:./include/lib_AT91SAM7A3.h **** 	return pCAN->CAN_IMR;
1846:./include/lib_AT91SAM7A3.h **** }
1847:./include/lib_AT91SAM7A3.h **** 
1848:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1849:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_IsInterruptMasked
1850:./include/lib_AT91SAM7A3.h **** //* \brief Test if CAN Interrupt is Masked 
1851:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1852:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_CAN_IsInterruptMasked(
1853:./include/lib_AT91SAM7A3.h ****         AT91PS_CAN pCAN,   // \arg  pointer to a CAN controller
1854:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
1855:./include/lib_AT91SAM7A3.h **** {
1856:./include/lib_AT91SAM7A3.h **** 	return (AT91F_CAN_GetInterruptMaskStatus(pCAN) & flag);
1857:./include/lib_AT91SAM7A3.h **** }
1858:./include/lib_AT91SAM7A3.h **** 
1859:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1860:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_IsStatusSet
1861:./include/lib_AT91SAM7A3.h **** //* \brief Test if CAN Interrupt is Set
1862:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1863:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_CAN_IsStatusSet(
1864:./include/lib_AT91SAM7A3.h ****         AT91PS_CAN pCAN,   // \arg  pointer to a CAN controller
1865:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
1866:./include/lib_AT91SAM7A3.h **** {
1867:./include/lib_AT91SAM7A3.h **** 	return (AT91F_CAN_GetStatus(pCAN) & flag);
1868:./include/lib_AT91SAM7A3.h **** }
1869:./include/lib_AT91SAM7A3.h **** 
1870:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1871:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_CfgModeReg
1872:./include/lib_AT91SAM7A3.h **** //* \brief Configure the Mode Register of the CAN controller
1873:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1874:./include/lib_AT91SAM7A3.h **** __inline void AT91F_CAN_CfgModeReg (
1875:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN pCAN, // pointer to a CAN controller
1876:./include/lib_AT91SAM7A3.h **** 	unsigned int mode)        // mode register 
1877:./include/lib_AT91SAM7A3.h **** {
1878:./include/lib_AT91SAM7A3.h **** 	//* Write to the MR register
1879:./include/lib_AT91SAM7A3.h **** 	pCAN->CAN_MR = mode;
1880:./include/lib_AT91SAM7A3.h **** }
1881:./include/lib_AT91SAM7A3.h **** 
1882:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1883:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_GetModeReg
1884:./include/lib_AT91SAM7A3.h **** //* \brief Return the Mode Register of the CAN controller value
1885:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1886:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_CAN_GetModeReg (
1887:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN pCAN // pointer to a CAN controller
1888:./include/lib_AT91SAM7A3.h **** 	)
1889:./include/lib_AT91SAM7A3.h **** {
1890:./include/lib_AT91SAM7A3.h **** 	return pCAN->CAN_MR;	
1891:./include/lib_AT91SAM7A3.h **** }
1892:./include/lib_AT91SAM7A3.h **** 
1893:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1894:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_CfgBaudrateReg
1895:./include/lib_AT91SAM7A3.h **** //* \brief Configure the Baudrate of the CAN controller for the network
1896:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1897:./include/lib_AT91SAM7A3.h **** __inline void AT91F_CAN_CfgBaudrateReg (
1898:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN pCAN, // pointer to a CAN controller
1899:./include/lib_AT91SAM7A3.h **** 	unsigned int baudrate_cfg)
1900:./include/lib_AT91SAM7A3.h **** {
1901:./include/lib_AT91SAM7A3.h **** 	//* Write to the BR register
1902:./include/lib_AT91SAM7A3.h **** 	pCAN->CAN_BR = baudrate_cfg;	
1903:./include/lib_AT91SAM7A3.h **** }
1904:./include/lib_AT91SAM7A3.h **** 
1905:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1906:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_GetBaudrate
1907:./include/lib_AT91SAM7A3.h **** //* \brief Return the Baudrate of the CAN controller for the network value
1908:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1909:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_CAN_GetBaudrate (
1910:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN pCAN // pointer to a CAN controller
1911:./include/lib_AT91SAM7A3.h **** 	)
1912:./include/lib_AT91SAM7A3.h **** {
1913:./include/lib_AT91SAM7A3.h **** 	return pCAN->CAN_BR;	
1914:./include/lib_AT91SAM7A3.h **** }
1915:./include/lib_AT91SAM7A3.h **** 
1916:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1917:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_GetInternalCounter
1918:./include/lib_AT91SAM7A3.h **** //* \brief Return CAN Timer Regsiter Value
1919:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1920:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_CAN_GetInternalCounter (
1921:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN pCAN // pointer to a CAN controller
1922:./include/lib_AT91SAM7A3.h **** 	)
1923:./include/lib_AT91SAM7A3.h **** {
1924:./include/lib_AT91SAM7A3.h **** 	return pCAN->CAN_TIM;	
1925:./include/lib_AT91SAM7A3.h **** }
1926:./include/lib_AT91SAM7A3.h **** 
1927:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1928:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_GetTimestamp
1929:./include/lib_AT91SAM7A3.h **** //* \brief Return CAN Timestamp Register Value
1930:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1931:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_CAN_GetTimestamp (
1932:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN pCAN // pointer to a CAN controller
1933:./include/lib_AT91SAM7A3.h **** 	)
1934:./include/lib_AT91SAM7A3.h **** {
1935:./include/lib_AT91SAM7A3.h **** 	return pCAN->CAN_TIMESTP;	
1936:./include/lib_AT91SAM7A3.h **** }
1937:./include/lib_AT91SAM7A3.h **** 
1938:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1939:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_GetErrorCounter
1940:./include/lib_AT91SAM7A3.h **** //* \brief Return CAN Error Counter Register Value
1941:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1942:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_CAN_GetErrorCounter (
1943:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN pCAN // pointer to a CAN controller
1944:./include/lib_AT91SAM7A3.h **** 	)
1945:./include/lib_AT91SAM7A3.h **** {
1946:./include/lib_AT91SAM7A3.h **** 	return pCAN->CAN_ECR;	
1947:./include/lib_AT91SAM7A3.h **** }
1948:./include/lib_AT91SAM7A3.h **** 
1949:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1950:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_InitTransferRequest
1951:./include/lib_AT91SAM7A3.h **** //* \brief Request for a transfer on the corresponding mailboxes
1952:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1953:./include/lib_AT91SAM7A3.h **** __inline void AT91F_CAN_InitTransferRequest (
1954:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN pCAN, // pointer to a CAN controller
1955:./include/lib_AT91SAM7A3.h ****     unsigned int transfer_cmd)
1956:./include/lib_AT91SAM7A3.h **** {
1957:./include/lib_AT91SAM7A3.h **** 	pCAN->CAN_TCR = transfer_cmd;	
1958:./include/lib_AT91SAM7A3.h **** }
1959:./include/lib_AT91SAM7A3.h **** 
1960:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1961:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_InitAbortRequest
1962:./include/lib_AT91SAM7A3.h **** //* \brief Abort the corresponding mailboxes
1963:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1964:./include/lib_AT91SAM7A3.h **** __inline void AT91F_CAN_InitAbortRequest (
1965:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN pCAN, // pointer to a CAN controller
1966:./include/lib_AT91SAM7A3.h ****     unsigned int abort_cmd)
1967:./include/lib_AT91SAM7A3.h **** {
1968:./include/lib_AT91SAM7A3.h **** 	pCAN->CAN_ACR = abort_cmd;	
1969:./include/lib_AT91SAM7A3.h **** }
1970:./include/lib_AT91SAM7A3.h **** 
1971:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1972:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_CfgMessageModeReg
1973:./include/lib_AT91SAM7A3.h **** //* \brief Program the Message Mode Register
1974:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1975:./include/lib_AT91SAM7A3.h **** __inline void AT91F_CAN_CfgMessageModeReg (
1976:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN_MB	CAN_Mailbox, // pointer to a CAN Mailbox
1977:./include/lib_AT91SAM7A3.h ****     unsigned int mode)
1978:./include/lib_AT91SAM7A3.h **** {
1979:./include/lib_AT91SAM7A3.h **** 	CAN_Mailbox->CAN_MB_MMR = mode;	
1980:./include/lib_AT91SAM7A3.h **** }
1981:./include/lib_AT91SAM7A3.h **** 
1982:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1983:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_GetMessageModeReg
1984:./include/lib_AT91SAM7A3.h **** //* \brief Return the Message Mode Register
1985:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1986:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_CAN_GetMessageModeReg (
1987:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN_MB	CAN_Mailbox) // pointer to a CAN Mailbox
1988:./include/lib_AT91SAM7A3.h **** {
1989:./include/lib_AT91SAM7A3.h **** 	return CAN_Mailbox->CAN_MB_MMR;	
1990:./include/lib_AT91SAM7A3.h **** }
1991:./include/lib_AT91SAM7A3.h **** 
1992:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1993:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_CfgMessageIDReg
1994:./include/lib_AT91SAM7A3.h **** //* \brief Program the Message ID Register
1995:./include/lib_AT91SAM7A3.h **** //* \brief Version == 0 for Standard messsage, Version == 1 for Extended  
1996:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
1997:./include/lib_AT91SAM7A3.h **** __inline void AT91F_CAN_CfgMessageIDReg (
1998:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN_MB	CAN_Mailbox, // pointer to a CAN Mailbox
1999:./include/lib_AT91SAM7A3.h ****     unsigned int id,
2000:./include/lib_AT91SAM7A3.h ****     unsigned char version)
2001:./include/lib_AT91SAM7A3.h **** {
2002:./include/lib_AT91SAM7A3.h **** 	if(version==0)	// IDvA Standard Format
2003:./include/lib_AT91SAM7A3.h **** 		CAN_Mailbox->CAN_MB_MID = id<<18;
2004:./include/lib_AT91SAM7A3.h **** 	else	// IDvB Extended Format
2005:./include/lib_AT91SAM7A3.h **** 		CAN_Mailbox->CAN_MB_MID = id | (1<<29);	// set MIDE bit
2006:./include/lib_AT91SAM7A3.h **** }
2007:./include/lib_AT91SAM7A3.h **** 
2008:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2009:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_GetMessageIDReg
2010:./include/lib_AT91SAM7A3.h **** //* \brief Return the Message ID Register
2011:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2012:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_CAN_GetMessageIDReg (
2013:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN_MB	CAN_Mailbox) // pointer to a CAN Mailbox
2014:./include/lib_AT91SAM7A3.h **** {
2015:./include/lib_AT91SAM7A3.h **** 	return CAN_Mailbox->CAN_MB_MID;
2016:./include/lib_AT91SAM7A3.h **** }
2017:./include/lib_AT91SAM7A3.h **** 
2018:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2019:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_CfgMessageAcceptanceMaskReg
2020:./include/lib_AT91SAM7A3.h **** //* \brief Program the Message Acceptance Mask Register
2021:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2022:./include/lib_AT91SAM7A3.h **** __inline void AT91F_CAN_CfgMessageAcceptanceMaskReg (
2023:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN_MB	CAN_Mailbox, // pointer to a CAN Mailbox
2024:./include/lib_AT91SAM7A3.h ****     unsigned int mask)
2025:./include/lib_AT91SAM7A3.h **** {
2026:./include/lib_AT91SAM7A3.h **** 	CAN_Mailbox->CAN_MB_MAM = mask;
2027:./include/lib_AT91SAM7A3.h **** }
2028:./include/lib_AT91SAM7A3.h **** 
2029:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2030:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_GetMessageAcceptanceMaskReg
2031:./include/lib_AT91SAM7A3.h **** //* \brief Return the Message Acceptance Mask Register
2032:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2033:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_CAN_GetMessageAcceptanceMaskReg (
2034:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN_MB	CAN_Mailbox) // pointer to a CAN Mailbox
2035:./include/lib_AT91SAM7A3.h **** {
2036:./include/lib_AT91SAM7A3.h **** 	return CAN_Mailbox->CAN_MB_MAM;
2037:./include/lib_AT91SAM7A3.h **** }
2038:./include/lib_AT91SAM7A3.h **** 
2039:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2040:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_GetFamilyID
2041:./include/lib_AT91SAM7A3.h **** //* \brief Return the Message ID Register
2042:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2043:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_CAN_GetFamilyID (
2044:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN_MB	CAN_Mailbox) // pointer to a CAN Mailbox
2045:./include/lib_AT91SAM7A3.h **** {
2046:./include/lib_AT91SAM7A3.h **** 	return CAN_Mailbox->CAN_MB_MFID;	
2047:./include/lib_AT91SAM7A3.h **** }
2048:./include/lib_AT91SAM7A3.h **** 
2049:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2050:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_CfgMessageCtrl
2051:./include/lib_AT91SAM7A3.h **** //* \brief Request and config for a transfer on the corresponding mailbox
2052:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2053:./include/lib_AT91SAM7A3.h **** __inline void AT91F_CAN_CfgMessageCtrlReg (
2054:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN_MB	CAN_Mailbox, // pointer to a CAN Mailbox
2055:./include/lib_AT91SAM7A3.h ****     unsigned int message_ctrl_cmd)
2056:./include/lib_AT91SAM7A3.h **** {
2057:./include/lib_AT91SAM7A3.h **** 	CAN_Mailbox->CAN_MB_MCR = message_ctrl_cmd;	
2058:./include/lib_AT91SAM7A3.h **** }
2059:./include/lib_AT91SAM7A3.h **** 
2060:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2061:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_GetMessageStatus
2062:./include/lib_AT91SAM7A3.h **** //* \brief Return CAN Mailbox Status
2063:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2064:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_CAN_GetMessageStatus (
2065:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN_MB	CAN_Mailbox) // pointer to a CAN Mailbox
2066:./include/lib_AT91SAM7A3.h **** {
2067:./include/lib_AT91SAM7A3.h **** 	return CAN_Mailbox->CAN_MB_MSR;	
2068:./include/lib_AT91SAM7A3.h **** }
2069:./include/lib_AT91SAM7A3.h **** 
2070:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2071:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_CfgMessageDataLow
2072:./include/lib_AT91SAM7A3.h **** //* \brief Program data low value
2073:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2074:./include/lib_AT91SAM7A3.h **** __inline void AT91F_CAN_CfgMessageDataLow (
2075:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN_MB	CAN_Mailbox, // pointer to a CAN Mailbox
2076:./include/lib_AT91SAM7A3.h ****     unsigned int data)
2077:./include/lib_AT91SAM7A3.h **** {
2078:./include/lib_AT91SAM7A3.h **** 	CAN_Mailbox->CAN_MB_MDL = data;	
2079:./include/lib_AT91SAM7A3.h **** }
2080:./include/lib_AT91SAM7A3.h **** 
2081:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2082:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_GetMessageDataLow
2083:./include/lib_AT91SAM7A3.h **** //* \brief Return data low value
2084:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2085:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_CAN_GetMessageDataLow (
2086:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN_MB	CAN_Mailbox) // pointer to a CAN Mailbox
2087:./include/lib_AT91SAM7A3.h **** {
2088:./include/lib_AT91SAM7A3.h **** 	return CAN_Mailbox->CAN_MB_MDL;	
2089:./include/lib_AT91SAM7A3.h **** }
2090:./include/lib_AT91SAM7A3.h **** 
2091:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2092:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_CfgMessageDataHigh
2093:./include/lib_AT91SAM7A3.h **** //* \brief Program data high value
2094:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2095:./include/lib_AT91SAM7A3.h **** __inline void AT91F_CAN_CfgMessageDataHigh (
2096:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN_MB	CAN_Mailbox, // pointer to a CAN Mailbox
2097:./include/lib_AT91SAM7A3.h ****     unsigned int data)
2098:./include/lib_AT91SAM7A3.h **** {
2099:./include/lib_AT91SAM7A3.h **** 	CAN_Mailbox->CAN_MB_MDH = data;	
2100:./include/lib_AT91SAM7A3.h **** }
2101:./include/lib_AT91SAM7A3.h **** 
2102:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2103:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_CAN_GetMessageDataHigh
2104:./include/lib_AT91SAM7A3.h **** //* \brief Return data high value
2105:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2106:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_CAN_GetMessageDataHigh (
2107:./include/lib_AT91SAM7A3.h **** 	AT91PS_CAN_MB	CAN_Mailbox) // pointer to a CAN Mailbox
2108:./include/lib_AT91SAM7A3.h **** {
2109:./include/lib_AT91SAM7A3.h **** 	return CAN_Mailbox->CAN_MB_MDH;	
2110:./include/lib_AT91SAM7A3.h **** }
2111:./include/lib_AT91SAM7A3.h **** 
2112:./include/lib_AT91SAM7A3.h **** /* *****************************************************************************
2113:./include/lib_AT91SAM7A3.h ****                 SOFTWARE API FOR TC
2114:./include/lib_AT91SAM7A3.h ****    ***************************************************************************** */
2115:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2116:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_TC_InterruptEnable
2117:./include/lib_AT91SAM7A3.h **** //* \brief Enable TC Interrupt
2118:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2119:./include/lib_AT91SAM7A3.h **** __inline void AT91F_TC_InterruptEnable(
2120:./include/lib_AT91SAM7A3.h ****         AT91PS_TC pTc,   // \arg  pointer to a TC controller
2121:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  TC interrupt to be enabled
2122:./include/lib_AT91SAM7A3.h **** {
2123:./include/lib_AT91SAM7A3.h ****         pTc->TC_IER = flag;
2124:./include/lib_AT91SAM7A3.h **** }
2125:./include/lib_AT91SAM7A3.h **** 
2126:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2127:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_TC_InterruptDisable
2128:./include/lib_AT91SAM7A3.h **** //* \brief Disable TC Interrupt
2129:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2130:./include/lib_AT91SAM7A3.h **** __inline void AT91F_TC_InterruptDisable(
2131:./include/lib_AT91SAM7A3.h ****         AT91PS_TC pTc,   // \arg  pointer to a TC controller
2132:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  TC interrupt to be disabled
2133:./include/lib_AT91SAM7A3.h **** {
2134:./include/lib_AT91SAM7A3.h ****         pTc->TC_IDR = flag;
2135:./include/lib_AT91SAM7A3.h **** }
2136:./include/lib_AT91SAM7A3.h **** 
2137:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2138:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_TC_GetInterruptMaskStatus
2139:./include/lib_AT91SAM7A3.h **** //* \brief Return TC Interrupt Mask Status
2140:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2141:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_TC_GetInterruptMaskStatus( // \return TC Interrupt Mask Status
2142:./include/lib_AT91SAM7A3.h ****         AT91PS_TC pTc) // \arg  pointer to a TC controller
2143:./include/lib_AT91SAM7A3.h **** {
2144:./include/lib_AT91SAM7A3.h ****         return pTc->TC_IMR;
2145:./include/lib_AT91SAM7A3.h **** }
2146:./include/lib_AT91SAM7A3.h **** 
2147:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2148:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_TC_IsInterruptMasked
2149:./include/lib_AT91SAM7A3.h **** //* \brief Test if TC Interrupt is Masked 
2150:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2151:./include/lib_AT91SAM7A3.h **** __inline int AT91F_TC_IsInterruptMasked(
2152:./include/lib_AT91SAM7A3.h ****         AT91PS_TC pTc,   // \arg  pointer to a TC controller
2153:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
2154:./include/lib_AT91SAM7A3.h **** {
2155:./include/lib_AT91SAM7A3.h ****         return (AT91F_TC_GetInterruptMaskStatus(pTc) & flag);
2156:./include/lib_AT91SAM7A3.h **** }
2157:./include/lib_AT91SAM7A3.h **** 
2158:./include/lib_AT91SAM7A3.h **** /* *****************************************************************************
2159:./include/lib_AT91SAM7A3.h ****                 SOFTWARE API FOR MCI
2160:./include/lib_AT91SAM7A3.h ****    ***************************************************************************** */
2161:./include/lib_AT91SAM7A3.h **** //* Classic MCI Data Timeout Register Configuration with 1048576 MCK cycles between 2 data transfer
2162:./include/lib_AT91SAM7A3.h **** #define AT91C_MCI_DTOR_1MEGA_CYCLES	(AT91C_MCI_DTOCYC | AT91C_MCI_DTOMUL)
2163:./include/lib_AT91SAM7A3.h **** 
2164:./include/lib_AT91SAM7A3.h **** //* Classic MCI SDCard Register Configuration with 1-bit data bus on slot A
2165:./include/lib_AT91SAM7A3.h **** #define AT91C_MCI_MMC_SLOTA	(AT91C_MCI_SCDSEL & 0x0)
2166:./include/lib_AT91SAM7A3.h **** 
2167:./include/lib_AT91SAM7A3.h **** //* Classic MCI SDCard Register Configuration with 1-bit data bus on slot B
2168:./include/lib_AT91SAM7A3.h **** #define AT91C_MCI_MMC_SLOTB	(AT91C_MCI_SCDSEL & 0x1)
2169:./include/lib_AT91SAM7A3.h **** 
2170:./include/lib_AT91SAM7A3.h **** //* Classic MCI SDCard Register Configuration with 4-bit data bus on slot A
2171:./include/lib_AT91SAM7A3.h **** #define AT91C_MCI_SDCARD_4BITS_SLOTA	( (AT91C_MCI_SCDSEL & 0x0) | AT91C_MCI_SCDBUS )
2172:./include/lib_AT91SAM7A3.h **** 
2173:./include/lib_AT91SAM7A3.h **** //* Classic MCI SDCard Register Configuration with 4-bit data bus on slot B
2174:./include/lib_AT91SAM7A3.h **** #define AT91C_MCI_SDCARD_4BITS_SLOTB	( (AT91C_MCI_SCDSEL & 0x1) | AT91C_MCI_SCDBUS )
2175:./include/lib_AT91SAM7A3.h **** 
2176:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2177:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_Configure
2178:./include/lib_AT91SAM7A3.h **** //* \brief Configure the MCI
2179:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2180:./include/lib_AT91SAM7A3.h **** __inline void AT91F_MCI_Configure (
2181:./include/lib_AT91SAM7A3.h ****         AT91PS_MCI pMCI,  			 // \arg pointer to a MCI controller
2182:./include/lib_AT91SAM7A3.h ****         unsigned int DTOR_register,  // \arg Data Timeout Register to be programmed
2183:./include/lib_AT91SAM7A3.h ****         unsigned int MR_register,  	 // \arg Mode Register to be programmed
2184:./include/lib_AT91SAM7A3.h ****         unsigned int SDCR_register)  // \arg SDCard Register to be programmed
2185:./include/lib_AT91SAM7A3.h **** {
2186:./include/lib_AT91SAM7A3.h ****     //* Disable the MCI
2187:./include/lib_AT91SAM7A3.h ****     pMCI->MCI_CR = AT91C_MCI_MCIDIS | AT91C_MCI_PWSDIS;
2188:./include/lib_AT91SAM7A3.h **** 
2189:./include/lib_AT91SAM7A3.h ****     //* Disable all the interrupts
2190:./include/lib_AT91SAM7A3.h ****     pMCI->MCI_IDR = 0xFFFFFFFF;
2191:./include/lib_AT91SAM7A3.h **** 
2192:./include/lib_AT91SAM7A3.h ****     //* Set the Data Timeout Register
2193:./include/lib_AT91SAM7A3.h ****     pMCI->MCI_DTOR = DTOR_register;
2194:./include/lib_AT91SAM7A3.h **** 
2195:./include/lib_AT91SAM7A3.h ****     //* Set the Mode Register
2196:./include/lib_AT91SAM7A3.h ****     pMCI->MCI_MR = MR_register;
2197:./include/lib_AT91SAM7A3.h **** 
2198:./include/lib_AT91SAM7A3.h ****     //* Set the SDCard Register
2199:./include/lib_AT91SAM7A3.h ****     pMCI->MCI_SDCR = SDCR_register;
2200:./include/lib_AT91SAM7A3.h **** 
2201:./include/lib_AT91SAM7A3.h ****    //* Enable the MCI
2202:./include/lib_AT91SAM7A3.h ****     pMCI->MCI_CR = AT91C_MCI_MCIEN | AT91C_MCI_PWSEN;
2203:./include/lib_AT91SAM7A3.h **** }
2204:./include/lib_AT91SAM7A3.h **** 
2205:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2206:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_EnableIt
2207:./include/lib_AT91SAM7A3.h **** //* \brief Enable MCI IT
2208:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2209:./include/lib_AT91SAM7A3.h **** __inline void AT91F_MCI_EnableIt (
2210:./include/lib_AT91SAM7A3.h ****         AT91PS_MCI pMCI, // \arg pointer to a MCI controller
2211:./include/lib_AT91SAM7A3.h ****         unsigned int flag)   // \arg IT to be enabled
2212:./include/lib_AT91SAM7A3.h **** {
2213:./include/lib_AT91SAM7A3.h ****     //* Write to the IER register
2214:./include/lib_AT91SAM7A3.h ****     pMCI->MCI_IER = flag;
2215:./include/lib_AT91SAM7A3.h **** }
2216:./include/lib_AT91SAM7A3.h **** 
2217:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2218:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_DisableIt
2219:./include/lib_AT91SAM7A3.h **** //* \brief Disable MCI IT
2220:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2221:./include/lib_AT91SAM7A3.h **** __inline void AT91F_MCI_DisableIt (
2222:./include/lib_AT91SAM7A3.h ****         AT91PS_MCI pMCI, // \arg pointer to a MCI controller
2223:./include/lib_AT91SAM7A3.h ****         unsigned int flag)   // \arg IT to be disabled
2224:./include/lib_AT91SAM7A3.h **** {
2225:./include/lib_AT91SAM7A3.h ****     //* Write to the IDR register
2226:./include/lib_AT91SAM7A3.h ****     pMCI->MCI_IDR = flag;
2227:./include/lib_AT91SAM7A3.h **** }
2228:./include/lib_AT91SAM7A3.h **** 
2229:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2230:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_GetStatus
2231:./include/lib_AT91SAM7A3.h **** //* \brief Return MCI Interrupt Status
2232:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2233:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_MCI_GetStatus( // \return MCI Interrupt Status
2234:./include/lib_AT91SAM7A3.h **** 	AT91PS_MCI pMCI) // pointer to a MCI controller
2235:./include/lib_AT91SAM7A3.h **** {
2236:./include/lib_AT91SAM7A3.h **** 	return pMCI->MCI_SR;
2237:./include/lib_AT91SAM7A3.h **** }
2238:./include/lib_AT91SAM7A3.h **** 
2239:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2240:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_GetInterruptMaskStatus
2241:./include/lib_AT91SAM7A3.h **** //* \brief Return MCI Interrupt Mask Status
2242:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2243:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_MCI_GetInterruptMaskStatus( // \return MCI Interrupt Mask Status
2244:./include/lib_AT91SAM7A3.h **** 	AT91PS_MCI pMCI) // pointer to a MCI controller
2245:./include/lib_AT91SAM7A3.h **** {
2246:./include/lib_AT91SAM7A3.h **** 	return pMCI->MCI_IMR;
2247:./include/lib_AT91SAM7A3.h **** }
2248:./include/lib_AT91SAM7A3.h **** 
2249:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2250:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_IsInterruptMasked
2251:./include/lib_AT91SAM7A3.h **** //* \brief Test if MCI Interrupt is Masked 
2252:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2253:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_MCI_IsInterruptMasked(
2254:./include/lib_AT91SAM7A3.h ****         AT91PS_MCI pMCI,   // \arg  pointer to a MCI controller
2255:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
2256:./include/lib_AT91SAM7A3.h **** {
2257:./include/lib_AT91SAM7A3.h **** 	return (AT91F_MCI_GetInterruptMaskStatus(pMCI) & flag);
2258:./include/lib_AT91SAM7A3.h **** }
2259:./include/lib_AT91SAM7A3.h **** 
2260:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2261:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_IsStatusSet
2262:./include/lib_AT91SAM7A3.h **** //* \brief Test if MCI Status is Set
2263:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2264:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_MCI_IsStatusSet(
2265:./include/lib_AT91SAM7A3.h ****         AT91PS_MCI pMCI,   // \arg  pointer to a MCI controller
2266:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
2267:./include/lib_AT91SAM7A3.h **** {
2268:./include/lib_AT91SAM7A3.h **** 	return (AT91F_MCI_GetStatus(pMCI) & flag);
2269:./include/lib_AT91SAM7A3.h **** }
2270:./include/lib_AT91SAM7A3.h **** 
2271:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2272:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_Enable
2273:./include/lib_AT91SAM7A3.h **** //* \brief Enable the MCI Interface
2274:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2275:./include/lib_AT91SAM7A3.h **** __inline void AT91F_MCI_Enable (
2276:./include/lib_AT91SAM7A3.h ****         AT91PS_MCI pMCI)     // \arg pointer to a MCI controller
2277:./include/lib_AT91SAM7A3.h **** {
2278:./include/lib_AT91SAM7A3.h ****     //* Enable the MCI
2279:./include/lib_AT91SAM7A3.h ****     pMCI->MCI_CR = AT91C_MCI_MCIEN;
2280:./include/lib_AT91SAM7A3.h **** }
2281:./include/lib_AT91SAM7A3.h **** 
2282:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2283:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_Disable
2284:./include/lib_AT91SAM7A3.h **** //* \brief Disable the MCI Interface
2285:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2286:./include/lib_AT91SAM7A3.h **** __inline void AT91F_MCI_Disable (
2287:./include/lib_AT91SAM7A3.h ****         AT91PS_MCI pMCI)     // \arg pointer to a MCI controller
2288:./include/lib_AT91SAM7A3.h **** {
2289:./include/lib_AT91SAM7A3.h ****     //* Disable the MCI
2290:./include/lib_AT91SAM7A3.h ****     pMCI->MCI_CR = AT91C_MCI_MCIDIS;
2291:./include/lib_AT91SAM7A3.h **** }
2292:./include/lib_AT91SAM7A3.h **** 
2293:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2294:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_SW_Reset
2295:./include/lib_AT91SAM7A3.h **** //* \brief Reset the MCI Interface
2296:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2297:./include/lib_AT91SAM7A3.h **** __inline void AT91F_MCI_SW_Reset (
2298:./include/lib_AT91SAM7A3.h ****         AT91PS_MCI pMCI)     // \arg pointer to a MCI controller
2299:./include/lib_AT91SAM7A3.h **** {
2300:./include/lib_AT91SAM7A3.h ****     //* Disable the MCI
2301:./include/lib_AT91SAM7A3.h ****     pMCI->MCI_CR = AT91C_MCI_SWRST;
2302:./include/lib_AT91SAM7A3.h **** }
2303:./include/lib_AT91SAM7A3.h **** 
2304:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2305:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_CfgModeReg
2306:./include/lib_AT91SAM7A3.h **** //* \brief Configure the Mode Register of the MCI controller
2307:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2308:./include/lib_AT91SAM7A3.h **** __inline void AT91F_MCI_CfgModeReg (
2309:./include/lib_AT91SAM7A3.h **** 	AT91PS_MCI pMCI, // pointer to a MCI controller
2310:./include/lib_AT91SAM7A3.h **** 	unsigned int mode)        // mode register 
2311:./include/lib_AT91SAM7A3.h **** {
2312:./include/lib_AT91SAM7A3.h **** 	//* Write to the MR register
2313:./include/lib_AT91SAM7A3.h **** 	pMCI->MCI_MR = mode;
2314:./include/lib_AT91SAM7A3.h **** }
2315:./include/lib_AT91SAM7A3.h **** 
2316:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2317:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_GetModeReg
2318:./include/lib_AT91SAM7A3.h **** //* \brief Return the Mode Register of the MCI controller value
2319:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2320:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_MCI_GetModeReg (
2321:./include/lib_AT91SAM7A3.h **** 	AT91PS_MCI pMCI // pointer to a MCI controller
2322:./include/lib_AT91SAM7A3.h **** 	)
2323:./include/lib_AT91SAM7A3.h **** {
2324:./include/lib_AT91SAM7A3.h **** 	return pMCI->MCI_MR;	
2325:./include/lib_AT91SAM7A3.h **** }
2326:./include/lib_AT91SAM7A3.h **** 
2327:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2328:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_CfgFrequency
2329:./include/lib_AT91SAM7A3.h **** //* \brief Configure the frequency MCCK of the MCI controller
2330:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2331:./include/lib_AT91SAM7A3.h **** __inline void AT91F_MCI_CfgFrequency (
2332:./include/lib_AT91SAM7A3.h **** 	AT91PS_MCI pMCI, // pointer to a MCI controller
2333:./include/lib_AT91SAM7A3.h **** 	unsigned int mck_clock, // in MHz 
2334:./include/lib_AT91SAM7A3.h **** 	unsigned int mci_clock)	// in MHz  
2335:./include/lib_AT91SAM7A3.h **** {
2336:./include/lib_AT91SAM7A3.h **** 	unsigned int prescal;
2337:./include/lib_AT91SAM7A3.h **** 	
2338:./include/lib_AT91SAM7A3.h **** 	prescal = mck_clock/(2*mci_clock) - 1;
2339:./include/lib_AT91SAM7A3.h **** 	
2340:./include/lib_AT91SAM7A3.h **** 	//* Write to the MR register
2341:./include/lib_AT91SAM7A3.h **** 	pMCI->MCI_MR &= ~AT91C_MCI_CLKDIV;
2342:./include/lib_AT91SAM7A3.h **** 	pMCI->MCI_MR |= (prescal & AT91C_MCI_CLKDIV);
2343:./include/lib_AT91SAM7A3.h **** }
2344:./include/lib_AT91SAM7A3.h **** 
2345:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2346:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_CfgDataTimeOutReg
2347:./include/lib_AT91SAM7A3.h **** //* \brief Configure the Data TimeOut Register of the MCI controller
2348:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2349:./include/lib_AT91SAM7A3.h **** __inline void AT91F_MCI_CfgDataTimeOutReg (
2350:./include/lib_AT91SAM7A3.h **** 	AT91PS_MCI pMCI, // pointer to a MCI controller
2351:./include/lib_AT91SAM7A3.h **** 	unsigned int cfg)
2352:./include/lib_AT91SAM7A3.h **** {
2353:./include/lib_AT91SAM7A3.h **** 	//* Write to the DTOR register
2354:./include/lib_AT91SAM7A3.h **** 	pMCI->MCI_DTOR = cfg;
2355:./include/lib_AT91SAM7A3.h **** }
2356:./include/lib_AT91SAM7A3.h **** 
2357:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2358:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_GetDataTimeOutReg
2359:./include/lib_AT91SAM7A3.h **** //* \brief Return the Data TimeOut Register of the MCI controller value
2360:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2361:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_MCI_GetDataTimeOutReg (
2362:./include/lib_AT91SAM7A3.h **** 	AT91PS_MCI pMCI // pointer to a MCI controller
2363:./include/lib_AT91SAM7A3.h **** 	)
2364:./include/lib_AT91SAM7A3.h **** {
2365:./include/lib_AT91SAM7A3.h **** 	return pMCI->MCI_DTOR;	
2366:./include/lib_AT91SAM7A3.h **** }
2367:./include/lib_AT91SAM7A3.h **** 
2368:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2369:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_CfgSDCardReg
2370:./include/lib_AT91SAM7A3.h **** //* \brief Configure the SDCard Register of the MCI controller
2371:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2372:./include/lib_AT91SAM7A3.h **** __inline void AT91F_MCI_CfgSDCardReg (
2373:./include/lib_AT91SAM7A3.h **** 	AT91PS_MCI pMCI, // pointer to a MCI controller
2374:./include/lib_AT91SAM7A3.h **** 	unsigned int cfg)
2375:./include/lib_AT91SAM7A3.h **** {
2376:./include/lib_AT91SAM7A3.h **** 	//* Write to the SDCR register
2377:./include/lib_AT91SAM7A3.h **** 	pMCI->MCI_SDCR = cfg;
2378:./include/lib_AT91SAM7A3.h **** }
2379:./include/lib_AT91SAM7A3.h **** 
2380:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2381:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_GetSDCardReg
2382:./include/lib_AT91SAM7A3.h **** //* \brief Return the SDCard Register of the MCI controller value
2383:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2384:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_MCI_GetSDCardReg (
2385:./include/lib_AT91SAM7A3.h **** 	AT91PS_MCI pMCI // pointer to a MCI controller
2386:./include/lib_AT91SAM7A3.h **** 	)
2387:./include/lib_AT91SAM7A3.h **** {
2388:./include/lib_AT91SAM7A3.h **** 	return pMCI->MCI_SDCR;	
2389:./include/lib_AT91SAM7A3.h **** }
2390:./include/lib_AT91SAM7A3.h **** 
2391:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2392:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_CfgARGReg
2393:./include/lib_AT91SAM7A3.h **** //* \brief Configure the Command ARGUMENT Register of the MCI controller
2394:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2395:./include/lib_AT91SAM7A3.h **** __inline void AT91F_MCI_CfgARGReg (
2396:./include/lib_AT91SAM7A3.h **** 	AT91PS_MCI pMCI, // pointer to a MCI controller
2397:./include/lib_AT91SAM7A3.h **** 	unsigned int arg)
2398:./include/lib_AT91SAM7A3.h **** {
2399:./include/lib_AT91SAM7A3.h **** 	//* Write to the ARG register
2400:./include/lib_AT91SAM7A3.h **** 	pMCI->MCI_ARGR = arg;
2401:./include/lib_AT91SAM7A3.h **** }
2402:./include/lib_AT91SAM7A3.h **** 
2403:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2404:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_GetARGReg
2405:./include/lib_AT91SAM7A3.h **** //* \brief Return the Command ARGUMENT Register of the MCI controller value
2406:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2407:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_MCI_GetARGReg (
2408:./include/lib_AT91SAM7A3.h **** 	AT91PS_MCI pMCI // pointer to a MCI controller
2409:./include/lib_AT91SAM7A3.h **** 	)
2410:./include/lib_AT91SAM7A3.h **** {
2411:./include/lib_AT91SAM7A3.h **** 	return pMCI->MCI_ARGR;	
2412:./include/lib_AT91SAM7A3.h **** }
2413:./include/lib_AT91SAM7A3.h **** 
2414:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2415:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_CfgCMDReg
2416:./include/lib_AT91SAM7A3.h **** //* \brief Configure the COMMAND Register of the MCI controller
2417:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2418:./include/lib_AT91SAM7A3.h **** __inline void AT91F_MCI_CfgCMDReg (
2419:./include/lib_AT91SAM7A3.h **** 	AT91PS_MCI pMCI, // pointer to a MCI controller
2420:./include/lib_AT91SAM7A3.h **** 	unsigned int cmd)
2421:./include/lib_AT91SAM7A3.h **** {
2422:./include/lib_AT91SAM7A3.h **** 	//* Write to the ARG register
2423:./include/lib_AT91SAM7A3.h **** 	pMCI->MCI_CMDR = cmd;
2424:./include/lib_AT91SAM7A3.h **** }
2425:./include/lib_AT91SAM7A3.h **** 
2426:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2427:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_GetRSP0Reg
2428:./include/lib_AT91SAM7A3.h **** //* \brief Return the RESPONSE Register 0 of the MCI controller value
2429:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2430:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_MCI_GetRSP0Reg (
2431:./include/lib_AT91SAM7A3.h **** 	AT91PS_MCI pMCI // pointer to a MCI controller
2432:./include/lib_AT91SAM7A3.h **** 	)
2433:./include/lib_AT91SAM7A3.h **** {
2434:./include/lib_AT91SAM7A3.h **** 	return pMCI->MCI_RSPR[0];	
2435:./include/lib_AT91SAM7A3.h **** }
2436:./include/lib_AT91SAM7A3.h **** 
2437:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2438:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_GetRSP1Reg
2439:./include/lib_AT91SAM7A3.h **** //* \brief Return the RESPONSE Register 1 of the MCI controller value
2440:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2441:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_MCI_GetRSP1Reg (
2442:./include/lib_AT91SAM7A3.h **** 	AT91PS_MCI pMCI // pointer to a MCI controller
2443:./include/lib_AT91SAM7A3.h **** 	)
2444:./include/lib_AT91SAM7A3.h **** {
2445:./include/lib_AT91SAM7A3.h **** 	return pMCI->MCI_RSPR[0];	
2446:./include/lib_AT91SAM7A3.h **** }
2447:./include/lib_AT91SAM7A3.h **** 
2448:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2449:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_GetRSP2Reg
2450:./include/lib_AT91SAM7A3.h **** //* \brief Return the RESPONSE Register 2 of the MCI controller value
2451:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2452:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_MCI_GetRSP2Reg (
2453:./include/lib_AT91SAM7A3.h **** 	AT91PS_MCI pMCI // pointer to a MCI controller
2454:./include/lib_AT91SAM7A3.h **** 	)
2455:./include/lib_AT91SAM7A3.h **** {
2456:./include/lib_AT91SAM7A3.h **** 	return pMCI->MCI_RSPR[0];	
2457:./include/lib_AT91SAM7A3.h **** }
2458:./include/lib_AT91SAM7A3.h **** 
2459:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2460:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_MCI_GetRSP3Reg
2461:./include/lib_AT91SAM7A3.h **** //* \brief Return the RESPONSE Register 3 of the MCI controller value
2462:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2463:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_MCI_GetRSP3Reg (
2464:./include/lib_AT91SAM7A3.h **** 	AT91PS_MCI pMCI // pointer to a MCI controller
2465:./include/lib_AT91SAM7A3.h **** 	)
2466:./include/lib_AT91SAM7A3.h **** {
2467:./include/lib_AT91SAM7A3.h **** 	return pMCI->MCI_RSPR[0];	
2468:./include/lib_AT91SAM7A3.h **** }
2469:./include/lib_AT91SAM7A3.h **** 
2470:./include/lib_AT91SAM7A3.h **** /* *****************************************************************************
2471:./include/lib_AT91SAM7A3.h ****                 SOFTWARE API FOR UDP
2472:./include/lib_AT91SAM7A3.h ****    ***************************************************************************** */
2473:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2474:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_UDP_EnableIt
2475:./include/lib_AT91SAM7A3.h **** //* \brief Enable UDP IT
2476:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2477:./include/lib_AT91SAM7A3.h **** __inline void AT91F_UDP_EnableIt (
2478:./include/lib_AT91SAM7A3.h **** 	AT91PS_UDP pUDP,     // \arg pointer to a UDP controller
2479:./include/lib_AT91SAM7A3.h **** 	unsigned int flag)   // \arg IT to be enabled
2480:./include/lib_AT91SAM7A3.h **** {
2481:./include/lib_AT91SAM7A3.h **** 	//* Write to the IER register
2482:./include/lib_AT91SAM7A3.h **** 	pUDP->UDP_IER = flag;
2483:./include/lib_AT91SAM7A3.h **** }
2484:./include/lib_AT91SAM7A3.h **** 
2485:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2486:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_UDP_DisableIt
2487:./include/lib_AT91SAM7A3.h **** //* \brief Disable UDP IT
2488:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2489:./include/lib_AT91SAM7A3.h **** __inline void AT91F_UDP_DisableIt (
2490:./include/lib_AT91SAM7A3.h **** 	AT91PS_UDP pUDP,     // \arg pointer to a UDP controller
2491:./include/lib_AT91SAM7A3.h **** 	unsigned int flag)   // \arg IT to be disabled
2492:./include/lib_AT91SAM7A3.h **** {
2493:./include/lib_AT91SAM7A3.h **** 	//* Write to the IDR register
2494:./include/lib_AT91SAM7A3.h **** 	pUDP->UDP_IDR = flag;
2495:./include/lib_AT91SAM7A3.h **** }
2496:./include/lib_AT91SAM7A3.h **** 
2497:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2498:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_UDP_SetAddress
2499:./include/lib_AT91SAM7A3.h **** //* \brief Set UDP functional address
2500:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2501:./include/lib_AT91SAM7A3.h **** __inline void AT91F_UDP_SetAddress (
2502:./include/lib_AT91SAM7A3.h **** 	AT91PS_UDP pUDP,     // \arg pointer to a UDP controller
2503:./include/lib_AT91SAM7A3.h **** 	unsigned char address)   // \arg new UDP address
2504:./include/lib_AT91SAM7A3.h **** {
2505:./include/lib_AT91SAM7A3.h **** 	pUDP->UDP_FADDR = (AT91C_UDP_FEN | address);
2506:./include/lib_AT91SAM7A3.h **** }
2507:./include/lib_AT91SAM7A3.h **** 
2508:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2509:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_UDP_EnableEp
2510:./include/lib_AT91SAM7A3.h **** //* \brief Enable Endpoint
2511:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2512:./include/lib_AT91SAM7A3.h **** __inline void AT91F_UDP_EnableEp (
2513:./include/lib_AT91SAM7A3.h **** 	AT91PS_UDP pUDP,     // \arg pointer to a UDP controller
2514:./include/lib_AT91SAM7A3.h **** 	unsigned char endpoint)   // \arg endpoint number
2515:./include/lib_AT91SAM7A3.h **** {
2516:./include/lib_AT91SAM7A3.h **** 	pUDP->UDP_CSR[endpoint] |= AT91C_UDP_EPEDS;
2517:./include/lib_AT91SAM7A3.h **** }
2518:./include/lib_AT91SAM7A3.h **** 
2519:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2520:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_UDP_DisableEp
2521:./include/lib_AT91SAM7A3.h **** //* \brief Enable Endpoint
2522:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2523:./include/lib_AT91SAM7A3.h **** __inline void AT91F_UDP_DisableEp (
2524:./include/lib_AT91SAM7A3.h **** 	AT91PS_UDP pUDP,     // \arg pointer to a UDP controller
2525:./include/lib_AT91SAM7A3.h **** 	unsigned char endpoint)   // \arg endpoint number
2526:./include/lib_AT91SAM7A3.h **** {
2527:./include/lib_AT91SAM7A3.h **** 	pUDP->UDP_CSR[endpoint] &= ~AT91C_UDP_EPEDS;
2528:./include/lib_AT91SAM7A3.h **** }
2529:./include/lib_AT91SAM7A3.h **** 
2530:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2531:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_UDP_SetState
2532:./include/lib_AT91SAM7A3.h **** //* \brief Set UDP Device state
2533:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2534:./include/lib_AT91SAM7A3.h **** __inline void AT91F_UDP_SetState (
2535:./include/lib_AT91SAM7A3.h **** 	AT91PS_UDP pUDP,     // \arg pointer to a UDP controller
2536:./include/lib_AT91SAM7A3.h **** 	unsigned int flag)   // \arg new UDP address
2537:./include/lib_AT91SAM7A3.h **** {
2538:./include/lib_AT91SAM7A3.h **** 	pUDP->UDP_GLBSTATE  &= ~(AT91C_UDP_FADDEN | AT91C_UDP_CONFG);
2539:./include/lib_AT91SAM7A3.h **** 	pUDP->UDP_GLBSTATE  |= flag;
2540:./include/lib_AT91SAM7A3.h **** }
2541:./include/lib_AT91SAM7A3.h **** 
2542:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2543:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_UDP_GetState
2544:./include/lib_AT91SAM7A3.h **** //* \brief return UDP Device state
2545:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2546:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_UDP_GetState ( // \return the UDP device state
2547:./include/lib_AT91SAM7A3.h **** 	AT91PS_UDP pUDP)     // \arg pointer to a UDP controller
2548:./include/lib_AT91SAM7A3.h **** {
2549:./include/lib_AT91SAM7A3.h **** 	return (pUDP->UDP_GLBSTATE  & (AT91C_UDP_FADDEN | AT91C_UDP_CONFG));
2550:./include/lib_AT91SAM7A3.h **** }
2551:./include/lib_AT91SAM7A3.h **** 
2552:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2553:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_UDP_ResetEp
2554:./include/lib_AT91SAM7A3.h **** //* \brief Reset UDP endpoint
2555:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2556:./include/lib_AT91SAM7A3.h **** __inline void AT91F_UDP_ResetEp ( // \return the UDP device state
2557:./include/lib_AT91SAM7A3.h **** 	AT91PS_UDP pUDP,     // \arg pointer to a UDP controller
2558:./include/lib_AT91SAM7A3.h **** 	unsigned int flag)   // \arg Endpoints to be reset
2559:./include/lib_AT91SAM7A3.h **** {
2560:./include/lib_AT91SAM7A3.h **** 	pUDP->UDP_RSTEP = flag;
2561:./include/lib_AT91SAM7A3.h **** 	pUDP->UDP_RSTEP = 0;
2562:./include/lib_AT91SAM7A3.h **** }
2563:./include/lib_AT91SAM7A3.h **** 
2564:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2565:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_UDP_EpStall
2566:./include/lib_AT91SAM7A3.h **** //* \brief Endpoint will STALL requests
2567:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2568:./include/lib_AT91SAM7A3.h **** __inline void AT91F_UDP_EpStall(
2569:./include/lib_AT91SAM7A3.h **** 	AT91PS_UDP pUDP,     // \arg pointer to a UDP controller
2570:./include/lib_AT91SAM7A3.h **** 	unsigned char endpoint)   // \arg endpoint number
2571:./include/lib_AT91SAM7A3.h **** {
2572:./include/lib_AT91SAM7A3.h **** 	pUDP->UDP_CSR[endpoint] |= AT91C_UDP_FORCESTALL;
2573:./include/lib_AT91SAM7A3.h **** }
2574:./include/lib_AT91SAM7A3.h **** 
2575:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2576:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_UDP_EpWrite
2577:./include/lib_AT91SAM7A3.h **** //* \brief Write value in the DPR
2578:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2579:./include/lib_AT91SAM7A3.h **** __inline void AT91F_UDP_EpWrite(
2580:./include/lib_AT91SAM7A3.h **** 	AT91PS_UDP pUDP,         // \arg pointer to a UDP controller
2581:./include/lib_AT91SAM7A3.h **** 	unsigned char endpoint,  // \arg endpoint number
2582:./include/lib_AT91SAM7A3.h **** 	unsigned char value)     // \arg value to be written in the DPR
2583:./include/lib_AT91SAM7A3.h **** {
2584:./include/lib_AT91SAM7A3.h **** 	pUDP->UDP_FDR[endpoint] = value;
2585:./include/lib_AT91SAM7A3.h **** }
2586:./include/lib_AT91SAM7A3.h **** 
2587:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2588:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_UDP_EpRead
2589:./include/lib_AT91SAM7A3.h **** //* \brief Return value from the DPR
2590:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2591:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_UDP_EpRead(
2592:./include/lib_AT91SAM7A3.h **** 	AT91PS_UDP pUDP,         // \arg pointer to a UDP controller
2593:./include/lib_AT91SAM7A3.h **** 	unsigned char endpoint)  // \arg endpoint number
2594:./include/lib_AT91SAM7A3.h **** {
2595:./include/lib_AT91SAM7A3.h **** 	return pUDP->UDP_FDR[endpoint];
2596:./include/lib_AT91SAM7A3.h **** }
2597:./include/lib_AT91SAM7A3.h **** 
2598:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2599:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_UDP_EpEndOfWr
2600:./include/lib_AT91SAM7A3.h **** //* \brief Notify the UDP that values in DPR are ready to be sent
2601:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2602:./include/lib_AT91SAM7A3.h **** __inline void AT91F_UDP_EpEndOfWr(
2603:./include/lib_AT91SAM7A3.h **** 	AT91PS_UDP pUDP,         // \arg pointer to a UDP controller
2604:./include/lib_AT91SAM7A3.h **** 	unsigned char endpoint)  // \arg endpoint number
2605:./include/lib_AT91SAM7A3.h **** {
2606:./include/lib_AT91SAM7A3.h **** 	pUDP->UDP_CSR[endpoint] |= AT91C_UDP_TXPKTRDY;
2607:./include/lib_AT91SAM7A3.h **** }
2608:./include/lib_AT91SAM7A3.h **** 
2609:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2610:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_UDP_EpClear
2611:./include/lib_AT91SAM7A3.h **** //* \brief Clear flag in the endpoint CSR register
2612:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2613:./include/lib_AT91SAM7A3.h **** __inline void AT91F_UDP_EpClear(
2614:./include/lib_AT91SAM7A3.h **** 	AT91PS_UDP pUDP,         // \arg pointer to a UDP controller
2615:./include/lib_AT91SAM7A3.h **** 	unsigned char endpoint,  // \arg endpoint number
2616:./include/lib_AT91SAM7A3.h **** 	unsigned int flag)       // \arg flag to be cleared
2617:./include/lib_AT91SAM7A3.h **** {
2618:./include/lib_AT91SAM7A3.h **** 	pUDP->UDP_CSR[endpoint] &= ~(flag);
2619:./include/lib_AT91SAM7A3.h **** }
2620:./include/lib_AT91SAM7A3.h **** 
2621:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2622:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_UDP_EpSet
2623:./include/lib_AT91SAM7A3.h **** //* \brief Set flag in the endpoint CSR register
2624:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2625:./include/lib_AT91SAM7A3.h **** __inline void AT91F_UDP_EpSet(
2626:./include/lib_AT91SAM7A3.h **** 	AT91PS_UDP pUDP,         // \arg pointer to a UDP controller
2627:./include/lib_AT91SAM7A3.h **** 	unsigned char endpoint,  // \arg endpoint number
2628:./include/lib_AT91SAM7A3.h **** 	unsigned int flag)       // \arg flag to be cleared
2629:./include/lib_AT91SAM7A3.h **** {
2630:./include/lib_AT91SAM7A3.h **** 	pUDP->UDP_CSR[endpoint] |= flag;
2631:./include/lib_AT91SAM7A3.h **** }
2632:./include/lib_AT91SAM7A3.h **** 
2633:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2634:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_UDP_EpStatus
2635:./include/lib_AT91SAM7A3.h **** //* \brief Return the endpoint CSR register
2636:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2637:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_UDP_EpStatus(
2638:./include/lib_AT91SAM7A3.h **** 	AT91PS_UDP pUDP,         // \arg pointer to a UDP controller
2639:./include/lib_AT91SAM7A3.h **** 	unsigned char endpoint)  // \arg endpoint number
2640:./include/lib_AT91SAM7A3.h **** {
2641:./include/lib_AT91SAM7A3.h **** 	return pUDP->UDP_CSR[endpoint];
2642:./include/lib_AT91SAM7A3.h **** }
2643:./include/lib_AT91SAM7A3.h **** 
2644:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2645:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_UDP_GetInterruptMaskStatus
2646:./include/lib_AT91SAM7A3.h **** //* \brief Return UDP Interrupt Mask Status
2647:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2648:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_UDP_GetInterruptMaskStatus(
2649:./include/lib_AT91SAM7A3.h ****   AT91PS_UDP pUdp)        // \arg  pointer to a UDP controller
2650:./include/lib_AT91SAM7A3.h **** {
2651:./include/lib_AT91SAM7A3.h ****   return pUdp->UDP_IMR;
2652:./include/lib_AT91SAM7A3.h **** }
2653:./include/lib_AT91SAM7A3.h **** 
2654:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2655:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_UDP_IsInterruptMasked
2656:./include/lib_AT91SAM7A3.h **** //* \brief Test if UDP Interrupt is Masked 
2657:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2658:./include/lib_AT91SAM7A3.h **** __inline int AT91F_UDP_IsInterruptMasked(
2659:./include/lib_AT91SAM7A3.h ****   AT91PS_UDP pUdp,       // \arg  pointer to a UDP controller
2660:./include/lib_AT91SAM7A3.h ****   unsigned int flag)     // \arg  flag to be tested
2661:./include/lib_AT91SAM7A3.h **** {
2662:./include/lib_AT91SAM7A3.h ****   return (AT91F_UDP_GetInterruptMaskStatus(pUdp) & flag);
2663:./include/lib_AT91SAM7A3.h **** }
2664:./include/lib_AT91SAM7A3.h **** 
2665:./include/lib_AT91SAM7A3.h **** // ----------------------------------------------------------------------------
2666:./include/lib_AT91SAM7A3.h **** //  \fn    AT91F_UDP_InterruptStatusRegister
2667:./include/lib_AT91SAM7A3.h **** //  \brief Return the Interrupt Status Register
2668:./include/lib_AT91SAM7A3.h **** // ----------------------------------------------------------------------------
2669:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_UDP_InterruptStatusRegister( 
2670:./include/lib_AT91SAM7A3.h ****   AT91PS_UDP pUDP )      // \arg  pointer to a UDP controller
2671:./include/lib_AT91SAM7A3.h **** {
2672:./include/lib_AT91SAM7A3.h ****   return pUDP->UDP_ISR;
2673:./include/lib_AT91SAM7A3.h **** }
2674:./include/lib_AT91SAM7A3.h **** 
2675:./include/lib_AT91SAM7A3.h **** // ----------------------------------------------------------------------------
2676:./include/lib_AT91SAM7A3.h **** //  \fn    AT91F_UDP_InterruptClearRegister
2677:./include/lib_AT91SAM7A3.h **** //  \brief Clear Interrupt Register
2678:./include/lib_AT91SAM7A3.h **** // ----------------------------------------------------------------------------
2679:./include/lib_AT91SAM7A3.h **** __inline void AT91F_UDP_InterruptClearRegister (
2680:./include/lib_AT91SAM7A3.h ****   AT91PS_UDP pUDP,       // \arg pointer to UDP controller
2681:./include/lib_AT91SAM7A3.h ****   unsigned int flag)     // \arg IT to be cleat
2682:./include/lib_AT91SAM7A3.h **** {
2683:./include/lib_AT91SAM7A3.h ****   pUDP->UDP_ICR = flag; 
2684:./include/lib_AT91SAM7A3.h **** }
2685:./include/lib_AT91SAM7A3.h **** 
2686:./include/lib_AT91SAM7A3.h **** // ----------------------------------------------------------------------------
2687:./include/lib_AT91SAM7A3.h **** //  \fn    AT91F_UDP_EnableTransceiver
2688:./include/lib_AT91SAM7A3.h **** //  \brief Enable transceiver
2689:./include/lib_AT91SAM7A3.h **** // ----------------------------------------------------------------------------
2690:./include/lib_AT91SAM7A3.h **** __inline void AT91F_UDP_EnableTransceiver( 
2691:./include/lib_AT91SAM7A3.h ****   AT91PS_UDP pUDP )      // \arg  pointer to a UDP controller
2692:./include/lib_AT91SAM7A3.h **** {
2693:./include/lib_AT91SAM7A3.h ****     pUDP->UDP_TXVC &= ~AT91C_UDP_TXVDIS; 
2694:./include/lib_AT91SAM7A3.h **** }
2695:./include/lib_AT91SAM7A3.h **** 
2696:./include/lib_AT91SAM7A3.h **** // ----------------------------------------------------------------------------
2697:./include/lib_AT91SAM7A3.h **** //  \fn    AT91F_UDP_DisableTransceiver
2698:./include/lib_AT91SAM7A3.h **** //  \brief Disable transceiver
2699:./include/lib_AT91SAM7A3.h **** // ----------------------------------------------------------------------------
2700:./include/lib_AT91SAM7A3.h **** __inline void AT91F_UDP_DisableTransceiver( 
2701:./include/lib_AT91SAM7A3.h ****   AT91PS_UDP pUDP )      // \arg  pointer to a UDP controller
2702:./include/lib_AT91SAM7A3.h **** {
2703:./include/lib_AT91SAM7A3.h ****     pUDP->UDP_TXVC = AT91C_UDP_TXVDIS; 
2704:./include/lib_AT91SAM7A3.h **** }
2705:./include/lib_AT91SAM7A3.h **** 
2706:./include/lib_AT91SAM7A3.h **** /* *****************************************************************************
2707:./include/lib_AT91SAM7A3.h ****                 SOFTWARE API FOR TWI
2708:./include/lib_AT91SAM7A3.h ****    ***************************************************************************** */
2709:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2710:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_TWI_EnableIt
2711:./include/lib_AT91SAM7A3.h **** //* \brief Enable TWI IT
2712:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2713:./include/lib_AT91SAM7A3.h **** __inline void AT91F_TWI_EnableIt (
2714:./include/lib_AT91SAM7A3.h **** 	AT91PS_TWI pTWI, // \arg pointer to a TWI controller
2715:./include/lib_AT91SAM7A3.h **** 	unsigned int flag)   // \arg IT to be enabled
2716:./include/lib_AT91SAM7A3.h **** {
2717:./include/lib_AT91SAM7A3.h **** 	//* Write to the IER register
2718:./include/lib_AT91SAM7A3.h **** 	pTWI->TWI_IER = flag;
2719:./include/lib_AT91SAM7A3.h **** }
2720:./include/lib_AT91SAM7A3.h **** 
2721:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2722:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_TWI_DisableIt
2723:./include/lib_AT91SAM7A3.h **** //* \brief Disable TWI IT
2724:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2725:./include/lib_AT91SAM7A3.h **** __inline void AT91F_TWI_DisableIt (
2726:./include/lib_AT91SAM7A3.h **** 	AT91PS_TWI pTWI, // \arg pointer to a TWI controller
2727:./include/lib_AT91SAM7A3.h **** 	unsigned int flag)   // \arg IT to be disabled
2728:./include/lib_AT91SAM7A3.h **** {
2729:./include/lib_AT91SAM7A3.h **** 	//* Write to the IDR register
2730:./include/lib_AT91SAM7A3.h **** 	pTWI->TWI_IDR = flag;
2731:./include/lib_AT91SAM7A3.h **** }
2732:./include/lib_AT91SAM7A3.h **** 
2733:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2734:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_TWI_Configure
2735:./include/lib_AT91SAM7A3.h **** //* \brief Configure TWI in master mode
2736:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2737:./include/lib_AT91SAM7A3.h **** __inline void AT91F_TWI_Configure ( AT91PS_TWI pTWI )          // \arg pointer to a TWI controller
2738:./include/lib_AT91SAM7A3.h **** {
2739:./include/lib_AT91SAM7A3.h ****     //* Disable interrupts
2740:./include/lib_AT91SAM7A3.h **** 	pTWI->TWI_IDR = (unsigned int) -1;
2741:./include/lib_AT91SAM7A3.h **** 
2742:./include/lib_AT91SAM7A3.h ****     //* Reset peripheral
2743:./include/lib_AT91SAM7A3.h **** 	pTWI->TWI_CR = AT91C_TWI_SWRST;
2744:./include/lib_AT91SAM7A3.h **** 
2745:./include/lib_AT91SAM7A3.h **** 	//* Set Master mode
2746:./include/lib_AT91SAM7A3.h **** 	pTWI->TWI_CR = AT91C_TWI_MSEN;
2747:./include/lib_AT91SAM7A3.h **** 
2748:./include/lib_AT91SAM7A3.h **** }
2749:./include/lib_AT91SAM7A3.h **** 
2750:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2751:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_TWI_GetInterruptMaskStatus
2752:./include/lib_AT91SAM7A3.h **** //* \brief Return TWI Interrupt Mask Status
2753:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2754:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_TWI_GetInterruptMaskStatus( // \return TWI Interrupt Mask Status
2755:./include/lib_AT91SAM7A3.h ****         AT91PS_TWI pTwi) // \arg  pointer to a TWI controller
2756:./include/lib_AT91SAM7A3.h **** {
2757:./include/lib_AT91SAM7A3.h ****         return pTwi->TWI_IMR;
2758:./include/lib_AT91SAM7A3.h **** }
2759:./include/lib_AT91SAM7A3.h **** 
2760:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2761:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_TWI_IsInterruptMasked
2762:./include/lib_AT91SAM7A3.h **** //* \brief Test if TWI Interrupt is Masked 
2763:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2764:./include/lib_AT91SAM7A3.h **** __inline int AT91F_TWI_IsInterruptMasked(
2765:./include/lib_AT91SAM7A3.h ****         AT91PS_TWI pTwi,   // \arg  pointer to a TWI controller
2766:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
2767:./include/lib_AT91SAM7A3.h **** {
2768:./include/lib_AT91SAM7A3.h ****         return (AT91F_TWI_GetInterruptMaskStatus(pTwi) & flag);
2769:./include/lib_AT91SAM7A3.h **** }
2770:./include/lib_AT91SAM7A3.h **** 
2771:./include/lib_AT91SAM7A3.h **** /* *****************************************************************************
2772:./include/lib_AT91SAM7A3.h ****                 SOFTWARE API FOR USART
2773:./include/lib_AT91SAM7A3.h ****    ***************************************************************************** */
2774:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2775:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_US_Baudrate
2776:./include/lib_AT91SAM7A3.h **** //* \brief Calculate the baudrate
2777:./include/lib_AT91SAM7A3.h **** //* Standard Asynchronous Mode : 8 bits , 1 stop , no parity
2778:./include/lib_AT91SAM7A3.h **** #define AT91C_US_ASYNC_MODE ( AT91C_US_USMODE_NORMAL + \
2779:./include/lib_AT91SAM7A3.h ****                         AT91C_US_NBSTOP_1_BIT + \
2780:./include/lib_AT91SAM7A3.h ****                         AT91C_US_PAR_NONE + \
2781:./include/lib_AT91SAM7A3.h ****                         AT91C_US_CHRL_8_BITS + \
2782:./include/lib_AT91SAM7A3.h ****                         AT91C_US_CLKS_CLOCK )
2783:./include/lib_AT91SAM7A3.h **** 
2784:./include/lib_AT91SAM7A3.h **** //* Standard External Asynchronous Mode : 8 bits , 1 stop , no parity
2785:./include/lib_AT91SAM7A3.h **** #define AT91C_US_ASYNC_SCK_MODE ( AT91C_US_USMODE_NORMAL + \
2786:./include/lib_AT91SAM7A3.h ****                             AT91C_US_NBSTOP_1_BIT + \
2787:./include/lib_AT91SAM7A3.h ****                             AT91C_US_PAR_NONE + \
2788:./include/lib_AT91SAM7A3.h ****                             AT91C_US_CHRL_8_BITS + \
2789:./include/lib_AT91SAM7A3.h ****                             AT91C_US_CLKS_EXT )
2790:./include/lib_AT91SAM7A3.h **** 
2791:./include/lib_AT91SAM7A3.h **** //* Standard Synchronous Mode : 8 bits , 1 stop , no parity
2792:./include/lib_AT91SAM7A3.h **** #define AT91C_US_SYNC_MODE ( AT91C_US_SYNC + \
2793:./include/lib_AT91SAM7A3.h ****                        AT91C_US_USMODE_NORMAL + \
2794:./include/lib_AT91SAM7A3.h ****                        AT91C_US_NBSTOP_1_BIT + \
2795:./include/lib_AT91SAM7A3.h ****                        AT91C_US_PAR_NONE + \
2796:./include/lib_AT91SAM7A3.h ****                        AT91C_US_CHRL_8_BITS + \
2797:./include/lib_AT91SAM7A3.h ****                        AT91C_US_CLKS_CLOCK )
2798:./include/lib_AT91SAM7A3.h **** 
2799:./include/lib_AT91SAM7A3.h **** //* SCK used Label
2800:./include/lib_AT91SAM7A3.h **** #define AT91C_US_SCK_USED (AT91C_US_CKLO | AT91C_US_CLKS_EXT)
2801:./include/lib_AT91SAM7A3.h **** 
2802:./include/lib_AT91SAM7A3.h **** //* Standard ISO T=0 Mode : 8 bits , 1 stop , parity
2803:./include/lib_AT91SAM7A3.h **** #define AT91C_US_ISO_READER_MODE ( AT91C_US_USMODE_ISO7816_0 + \
2804:./include/lib_AT91SAM7A3.h **** 					   		 AT91C_US_CLKS_CLOCK +\
2805:./include/lib_AT91SAM7A3.h ****                        		 AT91C_US_NBSTOP_1_BIT + \
2806:./include/lib_AT91SAM7A3.h ****                        		 AT91C_US_PAR_EVEN + \
2807:./include/lib_AT91SAM7A3.h ****                        		 AT91C_US_CHRL_8_BITS + \
2808:./include/lib_AT91SAM7A3.h ****                        		 AT91C_US_CKLO +\
2809:./include/lib_AT91SAM7A3.h ****                        		 AT91C_US_OVER)
2810:./include/lib_AT91SAM7A3.h **** 
2811:./include/lib_AT91SAM7A3.h **** //* Standard IRDA mode
2812:./include/lib_AT91SAM7A3.h **** #define AT91C_US_ASYNC_IRDA_MODE (  AT91C_US_USMODE_IRDA + \
2813:./include/lib_AT91SAM7A3.h ****                             AT91C_US_NBSTOP_1_BIT + \
2814:./include/lib_AT91SAM7A3.h ****                             AT91C_US_PAR_NONE + \
2815:./include/lib_AT91SAM7A3.h ****                             AT91C_US_CHRL_8_BITS + \
2816:./include/lib_AT91SAM7A3.h ****                             AT91C_US_CLKS_CLOCK )
2817:./include/lib_AT91SAM7A3.h **** 
2818:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2819:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_US_Baudrate
2820:./include/lib_AT91SAM7A3.h **** //* \brief Caluculate baud_value according to the main clock and the baud rate
2821:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2822:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_US_Baudrate (
2823:./include/lib_AT91SAM7A3.h **** 	const unsigned int main_clock, // \arg peripheral clock
2824:./include/lib_AT91SAM7A3.h **** 	const unsigned int baud_rate)  // \arg UART baudrate
2825:./include/lib_AT91SAM7A3.h **** {
2826:./include/lib_AT91SAM7A3.h **** 	unsigned int baud_value = ((main_clock*10)/(baud_rate * 16));
2827:./include/lib_AT91SAM7A3.h **** 	if ((baud_value % 10) >= 5)
2828:./include/lib_AT91SAM7A3.h **** 		baud_value = (baud_value / 10) + 1;
2829:./include/lib_AT91SAM7A3.h **** 	else
2830:./include/lib_AT91SAM7A3.h **** 		baud_value /= 10;
2831:./include/lib_AT91SAM7A3.h **** 	return baud_value;
2832:./include/lib_AT91SAM7A3.h **** }
2833:./include/lib_AT91SAM7A3.h **** 
2834:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2835:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_US_SetBaudrate
2836:./include/lib_AT91SAM7A3.h **** //* \brief Set the baudrate according to the CPU clock
2837:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2838:./include/lib_AT91SAM7A3.h **** __inline void AT91F_US_SetBaudrate (
2839:./include/lib_AT91SAM7A3.h **** 	AT91PS_USART pUSART,    // \arg pointer to a USART controller
2840:./include/lib_AT91SAM7A3.h **** 	unsigned int mainClock, // \arg peripheral clock
2841:./include/lib_AT91SAM7A3.h **** 	unsigned int speed)     // \arg UART baudrate
2842:./include/lib_AT91SAM7A3.h **** {
2843:./include/lib_AT91SAM7A3.h **** 	//* Define the baud rate divisor register
2844:./include/lib_AT91SAM7A3.h **** 	pUSART->US_BRGR = AT91F_US_Baudrate(mainClock, speed);
2845:./include/lib_AT91SAM7A3.h **** }
2846:./include/lib_AT91SAM7A3.h **** 
2847:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2848:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_US_SetTimeguard
2849:./include/lib_AT91SAM7A3.h **** //* \brief Set USART timeguard
2850:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2851:./include/lib_AT91SAM7A3.h **** __inline void AT91F_US_SetTimeguard (
2852:./include/lib_AT91SAM7A3.h **** 	AT91PS_USART pUSART,    // \arg pointer to a USART controller
2853:./include/lib_AT91SAM7A3.h **** 	unsigned int timeguard) // \arg timeguard value
2854:./include/lib_AT91SAM7A3.h **** {
2855:./include/lib_AT91SAM7A3.h **** 	//* Write the Timeguard Register
2856:./include/lib_AT91SAM7A3.h **** 	pUSART->US_TTGR = timeguard ;
2857:./include/lib_AT91SAM7A3.h **** }
2858:./include/lib_AT91SAM7A3.h **** 
2859:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2860:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_US_EnableIt
2861:./include/lib_AT91SAM7A3.h **** //* \brief Enable USART IT
2862:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2863:./include/lib_AT91SAM7A3.h **** __inline void AT91F_US_EnableIt (
2864:./include/lib_AT91SAM7A3.h **** 	AT91PS_USART pUSART, // \arg pointer to a USART controller
2865:./include/lib_AT91SAM7A3.h **** 	unsigned int flag)   // \arg IT to be enabled
2866:./include/lib_AT91SAM7A3.h **** {
2867:./include/lib_AT91SAM7A3.h **** 	//* Write to the IER register
2868:./include/lib_AT91SAM7A3.h **** 	pUSART->US_IER = flag;
2869:./include/lib_AT91SAM7A3.h **** }
2870:./include/lib_AT91SAM7A3.h **** 
2871:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2872:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_US_DisableIt
2873:./include/lib_AT91SAM7A3.h **** //* \brief Disable USART IT
2874:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2875:./include/lib_AT91SAM7A3.h **** __inline void AT91F_US_DisableIt (
2876:./include/lib_AT91SAM7A3.h **** 	AT91PS_USART pUSART, // \arg pointer to a USART controller
2877:./include/lib_AT91SAM7A3.h **** 	unsigned int flag)   // \arg IT to be disabled
2878:./include/lib_AT91SAM7A3.h **** {
2879:./include/lib_AT91SAM7A3.h **** 	//* Write to the IER register
2880:./include/lib_AT91SAM7A3.h **** 	pUSART->US_IDR = flag;
2881:./include/lib_AT91SAM7A3.h **** }
2882:./include/lib_AT91SAM7A3.h **** 
2883:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2884:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_US_Configure
2885:./include/lib_AT91SAM7A3.h **** //* \brief Configure USART
2886:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2887:./include/lib_AT91SAM7A3.h **** __inline void AT91F_US_Configure (
2888:./include/lib_AT91SAM7A3.h **** 	AT91PS_USART pUSART,     // \arg pointer to a USART controller
2889:./include/lib_AT91SAM7A3.h **** 	unsigned int mainClock,  // \arg peripheral clock
2890:./include/lib_AT91SAM7A3.h **** 	unsigned int mode ,      // \arg mode Register to be programmed
2891:./include/lib_AT91SAM7A3.h **** 	unsigned int baudRate ,  // \arg baudrate to be programmed
2892:./include/lib_AT91SAM7A3.h **** 	unsigned int timeguard ) // \arg timeguard to be programmed
2893:./include/lib_AT91SAM7A3.h **** {
2894:./include/lib_AT91SAM7A3.h ****     //* Disable interrupts
2895:./include/lib_AT91SAM7A3.h ****     pUSART->US_IDR = (unsigned int) -1;
2896:./include/lib_AT91SAM7A3.h **** 
2897:./include/lib_AT91SAM7A3.h ****     //* Reset receiver and transmitter
2898:./include/lib_AT91SAM7A3.h ****     pUSART->US_CR = AT91C_US_RSTRX | AT91C_US_RSTTX | AT91C_US_RXDIS | AT91C_US_TXDIS ;
2899:./include/lib_AT91SAM7A3.h **** 
2900:./include/lib_AT91SAM7A3.h **** 	//* Define the baud rate divisor register
2901:./include/lib_AT91SAM7A3.h **** 	AT91F_US_SetBaudrate(pUSART, mainClock, baudRate);
2902:./include/lib_AT91SAM7A3.h **** 
2903:./include/lib_AT91SAM7A3.h **** 	//* Write the Timeguard Register
2904:./include/lib_AT91SAM7A3.h **** 	AT91F_US_SetTimeguard(pUSART, timeguard);
2905:./include/lib_AT91SAM7A3.h **** 
2906:./include/lib_AT91SAM7A3.h ****     //* Clear Transmit and Receive Counters
2907:./include/lib_AT91SAM7A3.h ****     AT91F_PDC_Open((AT91PS_PDC) &(pUSART->US_RPR));
2908:./include/lib_AT91SAM7A3.h **** 
2909:./include/lib_AT91SAM7A3.h ****     //* Define the USART mode
2910:./include/lib_AT91SAM7A3.h ****     pUSART->US_MR = mode  ;
2911:./include/lib_AT91SAM7A3.h **** 
2912:./include/lib_AT91SAM7A3.h **** }
2913:./include/lib_AT91SAM7A3.h **** 
2914:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2915:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_US_EnableRx
2916:./include/lib_AT91SAM7A3.h **** //* \brief Enable receiving characters
2917:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2918:./include/lib_AT91SAM7A3.h **** __inline void AT91F_US_EnableRx (
2919:./include/lib_AT91SAM7A3.h **** 	AT91PS_USART pUSART)     // \arg pointer to a USART controller
2920:./include/lib_AT91SAM7A3.h **** {
2921:./include/lib_AT91SAM7A3.h ****     //* Enable receiver
2922:./include/lib_AT91SAM7A3.h ****     pUSART->US_CR = AT91C_US_RXEN;
2923:./include/lib_AT91SAM7A3.h **** }
2924:./include/lib_AT91SAM7A3.h **** 
2925:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2926:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_US_EnableTx
2927:./include/lib_AT91SAM7A3.h **** //* \brief Enable sending characters
2928:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2929:./include/lib_AT91SAM7A3.h **** __inline void AT91F_US_EnableTx (
2930:./include/lib_AT91SAM7A3.h **** 	AT91PS_USART pUSART)     // \arg pointer to a USART controller
2931:./include/lib_AT91SAM7A3.h **** {
2932:./include/lib_AT91SAM7A3.h ****     //* Enable  transmitter
2933:./include/lib_AT91SAM7A3.h ****     pUSART->US_CR = AT91C_US_TXEN;
2934:./include/lib_AT91SAM7A3.h **** }
2935:./include/lib_AT91SAM7A3.h **** 
2936:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2937:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_US_ResetRx
2938:./include/lib_AT91SAM7A3.h **** //* \brief Reset Receiver and re-enable it
2939:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2940:./include/lib_AT91SAM7A3.h **** __inline void AT91F_US_ResetRx (
2941:./include/lib_AT91SAM7A3.h **** 	AT91PS_USART pUSART)     // \arg pointer to a USART controller
2942:./include/lib_AT91SAM7A3.h **** {
2943:./include/lib_AT91SAM7A3.h **** 	//* Reset receiver
2944:./include/lib_AT91SAM7A3.h **** 	pUSART->US_CR = AT91C_US_RSTRX;
2945:./include/lib_AT91SAM7A3.h ****     //* Re-Enable receiver
2946:./include/lib_AT91SAM7A3.h ****     pUSART->US_CR = AT91C_US_RXEN;
2947:./include/lib_AT91SAM7A3.h **** }
2948:./include/lib_AT91SAM7A3.h **** 
2949:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2950:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_US_ResetTx
2951:./include/lib_AT91SAM7A3.h **** //* \brief Reset Transmitter and re-enable it
2952:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2953:./include/lib_AT91SAM7A3.h **** __inline void AT91F_US_ResetTx (
2954:./include/lib_AT91SAM7A3.h **** 	AT91PS_USART pUSART)     // \arg pointer to a USART controller
2955:./include/lib_AT91SAM7A3.h **** {
2956:./include/lib_AT91SAM7A3.h **** 	//* Reset transmitter
2957:./include/lib_AT91SAM7A3.h **** 	pUSART->US_CR = AT91C_US_RSTTX;
2958:./include/lib_AT91SAM7A3.h ****     //* Enable transmitter
2959:./include/lib_AT91SAM7A3.h ****     pUSART->US_CR = AT91C_US_TXEN;
2960:./include/lib_AT91SAM7A3.h **** }
2961:./include/lib_AT91SAM7A3.h **** 
2962:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2963:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_US_DisableRx
2964:./include/lib_AT91SAM7A3.h **** //* \brief Disable Receiver
2965:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2966:./include/lib_AT91SAM7A3.h **** __inline void AT91F_US_DisableRx (
2967:./include/lib_AT91SAM7A3.h **** 	AT91PS_USART pUSART)     // \arg pointer to a USART controller
2968:./include/lib_AT91SAM7A3.h **** {
2969:./include/lib_AT91SAM7A3.h ****     //* Disable receiver
2970:./include/lib_AT91SAM7A3.h ****     pUSART->US_CR = AT91C_US_RXDIS;
2971:./include/lib_AT91SAM7A3.h **** }
2972:./include/lib_AT91SAM7A3.h **** 
2973:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2974:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_US_DisableTx
2975:./include/lib_AT91SAM7A3.h **** //* \brief Disable Transmitter
2976:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2977:./include/lib_AT91SAM7A3.h **** __inline void AT91F_US_DisableTx (
2978:./include/lib_AT91SAM7A3.h **** 	AT91PS_USART pUSART)     // \arg pointer to a USART controller
2979:./include/lib_AT91SAM7A3.h **** {
2980:./include/lib_AT91SAM7A3.h ****     //* Disable transmitter
2981:./include/lib_AT91SAM7A3.h ****     pUSART->US_CR = AT91C_US_TXDIS;
2982:./include/lib_AT91SAM7A3.h **** }
2983:./include/lib_AT91SAM7A3.h **** 
2984:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2985:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_US_Close
2986:./include/lib_AT91SAM7A3.h **** //* \brief Close USART: disable IT disable receiver and transmitter, close PDC
2987:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
2988:./include/lib_AT91SAM7A3.h **** __inline void AT91F_US_Close (
2989:./include/lib_AT91SAM7A3.h **** 	AT91PS_USART pUSART)     // \arg pointer to a USART controller
2990:./include/lib_AT91SAM7A3.h **** {
2991:./include/lib_AT91SAM7A3.h ****     //* Reset the baud rate divisor register
2992:./include/lib_AT91SAM7A3.h ****     pUSART->US_BRGR = 0 ;
2993:./include/lib_AT91SAM7A3.h **** 
2994:./include/lib_AT91SAM7A3.h ****     //* Reset the USART mode
2995:./include/lib_AT91SAM7A3.h ****     pUSART->US_MR = 0  ;
2996:./include/lib_AT91SAM7A3.h **** 
2997:./include/lib_AT91SAM7A3.h ****     //* Reset the Timeguard Register
2998:./include/lib_AT91SAM7A3.h ****     pUSART->US_TTGR = 0;
2999:./include/lib_AT91SAM7A3.h **** 
3000:./include/lib_AT91SAM7A3.h ****     //* Disable all interrupts
3001:./include/lib_AT91SAM7A3.h ****     pUSART->US_IDR = 0xFFFFFFFF ;
3002:./include/lib_AT91SAM7A3.h **** 
3003:./include/lib_AT91SAM7A3.h ****     //* Abort the Peripheral Data Transfers
3004:./include/lib_AT91SAM7A3.h ****     AT91F_PDC_Close((AT91PS_PDC) &(pUSART->US_RPR));
3005:./include/lib_AT91SAM7A3.h **** 
3006:./include/lib_AT91SAM7A3.h ****     //* Disable receiver and transmitter and stop any activity immediately
3007:./include/lib_AT91SAM7A3.h ****     pUSART->US_CR = AT91C_US_TXDIS | AT91C_US_RXDIS | AT91C_US_RSTTX | AT91C_US_RSTRX ;
3008:./include/lib_AT91SAM7A3.h **** }
3009:./include/lib_AT91SAM7A3.h **** 
3010:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3011:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_US_TxReady
3012:./include/lib_AT91SAM7A3.h **** //* \brief Return 1 if a character can be written in US_THR
3013:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3014:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_US_TxReady (
3015:./include/lib_AT91SAM7A3.h **** 	AT91PS_USART pUSART )     // \arg pointer to a USART controller
3016:./include/lib_AT91SAM7A3.h **** {
3017:./include/lib_AT91SAM7A3.h ****     return (pUSART->US_CSR & AT91C_US_TXRDY);
3018:./include/lib_AT91SAM7A3.h **** }
3019:./include/lib_AT91SAM7A3.h **** 
3020:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3021:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_US_RxReady
3022:./include/lib_AT91SAM7A3.h **** //* \brief Return 1 if a character can be read in US_RHR
3023:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3024:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_US_RxReady (
3025:./include/lib_AT91SAM7A3.h **** 	AT91PS_USART pUSART )     // \arg pointer to a USART controller
3026:./include/lib_AT91SAM7A3.h **** {
3027:./include/lib_AT91SAM7A3.h ****     return (pUSART->US_CSR & AT91C_US_RXRDY);
3028:./include/lib_AT91SAM7A3.h **** }
3029:./include/lib_AT91SAM7A3.h **** 
3030:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3031:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_US_Error
3032:./include/lib_AT91SAM7A3.h **** //* \brief Return the error flag
3033:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3034:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_US_Error (
3035:./include/lib_AT91SAM7A3.h **** 	AT91PS_USART pUSART )     // \arg pointer to a USART controller
3036:./include/lib_AT91SAM7A3.h **** {
3037:./include/lib_AT91SAM7A3.h ****     return (pUSART->US_CSR &
3038:./include/lib_AT91SAM7A3.h ****     	(AT91C_US_OVRE |  // Overrun error
3039:./include/lib_AT91SAM7A3.h ****     	 AT91C_US_FRAME | // Framing error
3040:./include/lib_AT91SAM7A3.h ****     	 AT91C_US_PARE));  // Parity error
3041:./include/lib_AT91SAM7A3.h **** }
3042:./include/lib_AT91SAM7A3.h **** 
3043:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3044:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_US_PutChar
3045:./include/lib_AT91SAM7A3.h **** //* \brief Send a character,does not check if ready to send
3046:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3047:./include/lib_AT91SAM7A3.h **** __inline void AT91F_US_PutChar (
3048:./include/lib_AT91SAM7A3.h **** 	AT91PS_USART pUSART,
3049:./include/lib_AT91SAM7A3.h **** 	int character )
3050:./include/lib_AT91SAM7A3.h **** {
3051:./include/lib_AT91SAM7A3.h ****     pUSART->US_THR = (character & 0x1FF);
3052:./include/lib_AT91SAM7A3.h **** }
3053:./include/lib_AT91SAM7A3.h **** 
3054:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3055:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_US_GetChar
3056:./include/lib_AT91SAM7A3.h **** //* \brief Receive a character,does not check if a character is available
3057:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3058:./include/lib_AT91SAM7A3.h **** __inline int AT91F_US_GetChar (
3059:./include/lib_AT91SAM7A3.h **** 	const AT91PS_USART pUSART)
3060:./include/lib_AT91SAM7A3.h **** {
3061:./include/lib_AT91SAM7A3.h ****     return((pUSART->US_RHR) & 0x1FF);
3062:./include/lib_AT91SAM7A3.h **** }
3063:./include/lib_AT91SAM7A3.h **** 
3064:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3065:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_US_SendFrame
3066:./include/lib_AT91SAM7A3.h **** //* \brief Return 2 if PDC has been initialized with Buffer and Next Buffer, 1 if PDC has been init
3067:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3068:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_US_SendFrame(
3069:./include/lib_AT91SAM7A3.h **** 	AT91PS_USART pUSART,
3070:./include/lib_AT91SAM7A3.h **** 	char *pBuffer,
3071:./include/lib_AT91SAM7A3.h **** 	unsigned int szBuffer,
3072:./include/lib_AT91SAM7A3.h **** 	char *pNextBuffer,
3073:./include/lib_AT91SAM7A3.h **** 	unsigned int szNextBuffer )
3074:./include/lib_AT91SAM7A3.h **** {
3075:./include/lib_AT91SAM7A3.h **** 	return AT91F_PDC_SendFrame(
3076:./include/lib_AT91SAM7A3.h **** 		(AT91PS_PDC) &(pUSART->US_RPR),
3077:./include/lib_AT91SAM7A3.h **** 		pBuffer,
3078:./include/lib_AT91SAM7A3.h **** 		szBuffer,
3079:./include/lib_AT91SAM7A3.h **** 		pNextBuffer,
3080:./include/lib_AT91SAM7A3.h **** 		szNextBuffer);
3081:./include/lib_AT91SAM7A3.h **** }
3082:./include/lib_AT91SAM7A3.h **** 
3083:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3084:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_US_ReceiveFrame
3085:./include/lib_AT91SAM7A3.h **** //* \brief Return 2 if PDC has been initialized with Buffer and Next Buffer, 1 if PDC has been init
3086:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3087:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_US_ReceiveFrame (
3088:./include/lib_AT91SAM7A3.h **** 	AT91PS_USART pUSART,
3089:./include/lib_AT91SAM7A3.h **** 	char *pBuffer,
3090:./include/lib_AT91SAM7A3.h **** 	unsigned int szBuffer,
3091:./include/lib_AT91SAM7A3.h **** 	char *pNextBuffer,
3092:./include/lib_AT91SAM7A3.h **** 	unsigned int szNextBuffer )
3093:./include/lib_AT91SAM7A3.h **** {
3094:./include/lib_AT91SAM7A3.h **** 	return AT91F_PDC_ReceiveFrame(
3095:./include/lib_AT91SAM7A3.h **** 		(AT91PS_PDC) &(pUSART->US_RPR),
3096:./include/lib_AT91SAM7A3.h **** 		pBuffer,
3097:./include/lib_AT91SAM7A3.h **** 		szBuffer,
3098:./include/lib_AT91SAM7A3.h **** 		pNextBuffer,
3099:./include/lib_AT91SAM7A3.h **** 		szNextBuffer);
3100:./include/lib_AT91SAM7A3.h **** }
3101:./include/lib_AT91SAM7A3.h **** 
3102:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3103:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_US_SetIrdaFilter
3104:./include/lib_AT91SAM7A3.h **** //* \brief Set the value of IrDa filter tregister
3105:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3106:./include/lib_AT91SAM7A3.h **** __inline void AT91F_US_SetIrdaFilter (
3107:./include/lib_AT91SAM7A3.h **** 	AT91PS_USART pUSART,
3108:./include/lib_AT91SAM7A3.h **** 	unsigned char value
3109:./include/lib_AT91SAM7A3.h **** )
3110:./include/lib_AT91SAM7A3.h **** {
3111:./include/lib_AT91SAM7A3.h **** 	pUSART->US_IF = value;
3112:./include/lib_AT91SAM7A3.h **** }
3113:./include/lib_AT91SAM7A3.h **** 
3114:./include/lib_AT91SAM7A3.h **** /* *****************************************************************************
3115:./include/lib_AT91SAM7A3.h ****                 SOFTWARE API FOR PWMC
3116:./include/lib_AT91SAM7A3.h ****    ***************************************************************************** */
3117:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3118:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PWM_GetStatus
3119:./include/lib_AT91SAM7A3.h **** //* \brief Return PWM Interrupt Status
3120:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3121:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PWMC_GetStatus( // \return PWM Interrupt Status
3122:./include/lib_AT91SAM7A3.h **** 	AT91PS_PWMC pPWM) // pointer to a PWM controller
3123:./include/lib_AT91SAM7A3.h **** {
3124:./include/lib_AT91SAM7A3.h **** 	return pPWM->PWMC_SR;
3125:./include/lib_AT91SAM7A3.h **** }
3126:./include/lib_AT91SAM7A3.h **** 
3127:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3128:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PWM_InterruptEnable
3129:./include/lib_AT91SAM7A3.h **** //* \brief Enable PWM Interrupt
3130:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3131:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PWMC_InterruptEnable(
3132:./include/lib_AT91SAM7A3.h ****         AT91PS_PWMC pPwm,   // \arg  pointer to a PWM controller
3133:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  PWM interrupt to be enabled
3134:./include/lib_AT91SAM7A3.h **** {
3135:./include/lib_AT91SAM7A3.h ****         pPwm->PWMC_IER = flag;
3136:./include/lib_AT91SAM7A3.h **** }
3137:./include/lib_AT91SAM7A3.h **** 
3138:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3139:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PWM_InterruptDisable
3140:./include/lib_AT91SAM7A3.h **** //* \brief Disable PWM Interrupt
3141:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3142:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PWMC_InterruptDisable(
3143:./include/lib_AT91SAM7A3.h ****         AT91PS_PWMC pPwm,   // \arg  pointer to a PWM controller
3144:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  PWM interrupt to be disabled
3145:./include/lib_AT91SAM7A3.h **** {
3146:./include/lib_AT91SAM7A3.h ****         pPwm->PWMC_IDR = flag;
3147:./include/lib_AT91SAM7A3.h **** }
3148:./include/lib_AT91SAM7A3.h **** 
3149:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3150:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PWM_GetInterruptMaskStatus
3151:./include/lib_AT91SAM7A3.h **** //* \brief Return PWM Interrupt Mask Status
3152:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3153:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PWMC_GetInterruptMaskStatus( // \return PWM Interrupt Mask Status
3154:./include/lib_AT91SAM7A3.h ****         AT91PS_PWMC pPwm) // \arg  pointer to a PWM controller
3155:./include/lib_AT91SAM7A3.h **** {
3156:./include/lib_AT91SAM7A3.h ****         return pPwm->PWMC_IMR;
3157:./include/lib_AT91SAM7A3.h **** }
3158:./include/lib_AT91SAM7A3.h **** 
3159:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3160:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PWM_IsInterruptMasked
3161:./include/lib_AT91SAM7A3.h **** //* \brief Test if PWM Interrupt is Masked
3162:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3163:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PWMC_IsInterruptMasked(
3164:./include/lib_AT91SAM7A3.h ****         AT91PS_PWMC pPWM,   // \arg  pointer to a PWM controller
3165:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
3166:./include/lib_AT91SAM7A3.h **** {
3167:./include/lib_AT91SAM7A3.h **** 	return (AT91F_PWMC_GetInterruptMaskStatus(pPWM) & flag);
3168:./include/lib_AT91SAM7A3.h **** }
3169:./include/lib_AT91SAM7A3.h **** 
3170:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3171:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PWM_IsStatusSet
3172:./include/lib_AT91SAM7A3.h **** //* \brief Test if PWM Interrupt is Set
3173:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3174:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_PWMC_IsStatusSet(
3175:./include/lib_AT91SAM7A3.h ****         AT91PS_PWMC pPWM,   // \arg  pointer to a PWM controller
3176:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
3177:./include/lib_AT91SAM7A3.h **** {
3178:./include/lib_AT91SAM7A3.h **** 	return (AT91F_PWMC_GetStatus(pPWM) & flag);
3179:./include/lib_AT91SAM7A3.h **** }
3180:./include/lib_AT91SAM7A3.h **** 
3181:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3182:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PWM_CfgChannel
3183:./include/lib_AT91SAM7A3.h **** //* \brief Test if PWM Interrupt is Set
3184:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3185:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PWMC_CfgChannel(
3186:./include/lib_AT91SAM7A3.h ****         AT91PS_PWMC pPWM,   // \arg  pointer to a PWM controller
3187:./include/lib_AT91SAM7A3.h ****         unsigned int channelId, // \arg PWM channel ID
3188:./include/lib_AT91SAM7A3.h ****         unsigned int mode, // \arg  PWM mode
3189:./include/lib_AT91SAM7A3.h ****         unsigned int period, // \arg PWM period
3190:./include/lib_AT91SAM7A3.h ****         unsigned int duty) // \arg PWM duty cycle
3191:./include/lib_AT91SAM7A3.h **** {
3192:./include/lib_AT91SAM7A3.h **** 	pPWM->PWMC_CH[channelId].PWMC_CMR = mode;
3193:./include/lib_AT91SAM7A3.h **** 	pPWM->PWMC_CH[channelId].PWMC_CDTYR = duty;
3194:./include/lib_AT91SAM7A3.h **** 	pPWM->PWMC_CH[channelId].PWMC_CPRDR = period;
3195:./include/lib_AT91SAM7A3.h **** }
3196:./include/lib_AT91SAM7A3.h **** 
3197:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3198:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PWM_StartChannel
3199:./include/lib_AT91SAM7A3.h **** //* \brief Enable channel
3200:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3201:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PWMC_StartChannel(
3202:./include/lib_AT91SAM7A3.h ****         AT91PS_PWMC pPWM,   // \arg  pointer to a PWM controller
3203:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  Channels IDs to be enabled
3204:./include/lib_AT91SAM7A3.h **** {
3205:./include/lib_AT91SAM7A3.h **** 	pPWM->PWMC_ENA = flag;
3206:./include/lib_AT91SAM7A3.h **** }
3207:./include/lib_AT91SAM7A3.h **** 
3208:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3209:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PWM_StopChannel
3210:./include/lib_AT91SAM7A3.h **** //* \brief Disable channel
3211:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3212:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PWMC_StopChannel(
3213:./include/lib_AT91SAM7A3.h ****         AT91PS_PWMC pPWM,   // \arg  pointer to a PWM controller
3214:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  Channels IDs to be enabled
3215:./include/lib_AT91SAM7A3.h **** {
3216:./include/lib_AT91SAM7A3.h **** 	pPWM->PWMC_DIS = flag;
3217:./include/lib_AT91SAM7A3.h **** }
3218:./include/lib_AT91SAM7A3.h **** 
3219:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3220:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_PWM_UpdateChannel
3221:./include/lib_AT91SAM7A3.h **** //* \brief Update Period or Duty Cycle
3222:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3223:./include/lib_AT91SAM7A3.h **** __inline void AT91F_PWMC_UpdateChannel(
3224:./include/lib_AT91SAM7A3.h ****         AT91PS_PWMC pPWM,   // \arg  pointer to a PWM controller
3225:./include/lib_AT91SAM7A3.h ****         unsigned int channelId, // \arg PWM channel ID
3226:./include/lib_AT91SAM7A3.h ****         unsigned int update) // \arg  Channels IDs to be enabled
3227:./include/lib_AT91SAM7A3.h **** {
3228:./include/lib_AT91SAM7A3.h **** 	pPWM->PWMC_CH[channelId].PWMC_CUPDR = update;
3229:./include/lib_AT91SAM7A3.h **** }
3230:./include/lib_AT91SAM7A3.h **** 
3231:./include/lib_AT91SAM7A3.h **** /* *****************************************************************************
3232:./include/lib_AT91SAM7A3.h ****                 SOFTWARE API FOR SSC
3233:./include/lib_AT91SAM7A3.h ****    ***************************************************************************** */
3234:./include/lib_AT91SAM7A3.h **** //* Define the standard I2S mode configuration
3235:./include/lib_AT91SAM7A3.h **** 
3236:./include/lib_AT91SAM7A3.h **** //* Configuration to set in the SSC Transmit Clock Mode Register
3237:./include/lib_AT91SAM7A3.h **** //* Parameters :  nb_bit_by_slot : 8, 16 or 32 bits
3238:./include/lib_AT91SAM7A3.h **** //* 			  nb_slot_by_frame : number of channels
3239:./include/lib_AT91SAM7A3.h **** #define AT91C_I2S_ASY_MASTER_TX_SETTING(nb_bit_by_slot, nb_slot_by_frame)( +\
3240:./include/lib_AT91SAM7A3.h **** 									   AT91C_SSC_CKS_DIV   +\
3241:./include/lib_AT91SAM7A3.h ****                             		   AT91C_SSC_CKO_CONTINOUS      +\
3242:./include/lib_AT91SAM7A3.h ****                             		   AT91C_SSC_CKG_NONE    +\
3243:./include/lib_AT91SAM7A3.h ****                                        AT91C_SSC_START_FALL_RF +\
3244:./include/lib_AT91SAM7A3.h ****                            			   AT91C_SSC_STTOUT  +\
3245:./include/lib_AT91SAM7A3.h ****                             		   ((1<<16) & AT91C_SSC_STTDLY) +\
3246:./include/lib_AT91SAM7A3.h ****                             		   ((((nb_bit_by_slot*nb_slot_by_frame)/2)-1) <<24))
3247:./include/lib_AT91SAM7A3.h **** 
3248:./include/lib_AT91SAM7A3.h **** 
3249:./include/lib_AT91SAM7A3.h **** //* Configuration to set in the SSC Transmit Frame Mode Register
3250:./include/lib_AT91SAM7A3.h **** //* Parameters : nb_bit_by_slot : 8, 16 or 32 bits
3251:./include/lib_AT91SAM7A3.h **** //* 			 nb_slot_by_frame : number of channels
3252:./include/lib_AT91SAM7A3.h **** #define AT91C_I2S_ASY_TX_FRAME_SETTING(nb_bit_by_slot, nb_slot_by_frame)( +\
3253:./include/lib_AT91SAM7A3.h **** 									(nb_bit_by_slot-1)  +\
3254:./include/lib_AT91SAM7A3.h ****                             		AT91C_SSC_MSBF   +\
3255:./include/lib_AT91SAM7A3.h ****                             		(((nb_slot_by_frame-1)<<8) & AT91C_SSC_DATNB)  +\
3256:./include/lib_AT91SAM7A3.h ****                             		(((nb_bit_by_slot-1)<<16) & AT91C_SSC_FSLEN) +\
3257:./include/lib_AT91SAM7A3.h ****                             		AT91C_SSC_FSOS_NEGATIVE)
3258:./include/lib_AT91SAM7A3.h **** 
3259:./include/lib_AT91SAM7A3.h **** 
3260:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3261:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_SSC_SetBaudrate
3262:./include/lib_AT91SAM7A3.h **** //* \brief Set the baudrate according to the CPU clock
3263:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3264:./include/lib_AT91SAM7A3.h **** __inline void AT91F_SSC_SetBaudrate (
3265:./include/lib_AT91SAM7A3.h ****         AT91PS_SSC pSSC,        // \arg pointer to a SSC controller
3266:./include/lib_AT91SAM7A3.h ****         unsigned int mainClock, // \arg peripheral clock
3267:./include/lib_AT91SAM7A3.h ****         unsigned int speed)     // \arg SSC baudrate
3268:./include/lib_AT91SAM7A3.h **** {
3269:./include/lib_AT91SAM7A3.h ****         unsigned int baud_value;
3270:./include/lib_AT91SAM7A3.h ****         //* Define the baud rate divisor register
3271:./include/lib_AT91SAM7A3.h ****         if (speed == 0)
3272:./include/lib_AT91SAM7A3.h ****            baud_value = 0;
3273:./include/lib_AT91SAM7A3.h ****         else
3274:./include/lib_AT91SAM7A3.h ****         {
3275:./include/lib_AT91SAM7A3.h ****            baud_value = (unsigned int) (mainClock * 10)/(2*speed);
3276:./include/lib_AT91SAM7A3.h ****            if ((baud_value % 10) >= 5)
3277:./include/lib_AT91SAM7A3.h ****                   baud_value = (baud_value / 10) + 1;
3278:./include/lib_AT91SAM7A3.h ****            else
3279:./include/lib_AT91SAM7A3.h ****                   baud_value /= 10;
3280:./include/lib_AT91SAM7A3.h ****         }
3281:./include/lib_AT91SAM7A3.h **** 
3282:./include/lib_AT91SAM7A3.h ****         pSSC->SSC_CMR = baud_value;
3283:./include/lib_AT91SAM7A3.h **** }
3284:./include/lib_AT91SAM7A3.h **** 
3285:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3286:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_SSC_Configure
3287:./include/lib_AT91SAM7A3.h **** //* \brief Configure SSC
3288:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3289:./include/lib_AT91SAM7A3.h **** __inline void AT91F_SSC_Configure (
3290:./include/lib_AT91SAM7A3.h ****              AT91PS_SSC pSSC,          // \arg pointer to a SSC controller
3291:./include/lib_AT91SAM7A3.h ****              unsigned int syst_clock,  // \arg System Clock Frequency
3292:./include/lib_AT91SAM7A3.h ****              unsigned int baud_rate,   // \arg Expected Baud Rate Frequency
3293:./include/lib_AT91SAM7A3.h ****              unsigned int clock_rx,    // \arg Receiver Clock Parameters
3294:./include/lib_AT91SAM7A3.h ****              unsigned int mode_rx,     // \arg mode Register to be programmed
3295:./include/lib_AT91SAM7A3.h ****              unsigned int clock_tx,    // \arg Transmitter Clock Parameters
3296:./include/lib_AT91SAM7A3.h ****              unsigned int mode_tx)     // \arg mode Register to be programmed
3297:./include/lib_AT91SAM7A3.h **** {
3298:./include/lib_AT91SAM7A3.h ****     //* Disable interrupts
3299:./include/lib_AT91SAM7A3.h **** 	pSSC->SSC_IDR = (unsigned int) -1;
3300:./include/lib_AT91SAM7A3.h **** 
3301:./include/lib_AT91SAM7A3.h ****     //* Reset receiver and transmitter
3302:./include/lib_AT91SAM7A3.h **** 	pSSC->SSC_CR = AT91C_SSC_SWRST | AT91C_SSC_RXDIS | AT91C_SSC_TXDIS ;
3303:./include/lib_AT91SAM7A3.h **** 
3304:./include/lib_AT91SAM7A3.h ****     //* Define the Clock Mode Register
3305:./include/lib_AT91SAM7A3.h **** 	AT91F_SSC_SetBaudrate(pSSC, syst_clock, baud_rate);
3306:./include/lib_AT91SAM7A3.h **** 
3307:./include/lib_AT91SAM7A3.h ****      //* Write the Receive Clock Mode Register
3308:./include/lib_AT91SAM7A3.h **** 	pSSC->SSC_RCMR =  clock_rx;
3309:./include/lib_AT91SAM7A3.h **** 
3310:./include/lib_AT91SAM7A3.h ****      //* Write the Transmit Clock Mode Register
3311:./include/lib_AT91SAM7A3.h **** 	pSSC->SSC_TCMR =  clock_tx;
3312:./include/lib_AT91SAM7A3.h **** 
3313:./include/lib_AT91SAM7A3.h ****      //* Write the Receive Frame Mode Register
3314:./include/lib_AT91SAM7A3.h **** 	pSSC->SSC_RFMR =  mode_rx;
3315:./include/lib_AT91SAM7A3.h **** 
3316:./include/lib_AT91SAM7A3.h ****      //* Write the Transmit Frame Mode Register
3317:./include/lib_AT91SAM7A3.h **** 	pSSC->SSC_TFMR =  mode_tx;
3318:./include/lib_AT91SAM7A3.h **** 
3319:./include/lib_AT91SAM7A3.h ****     //* Clear Transmit and Receive Counters
3320:./include/lib_AT91SAM7A3.h **** 	AT91F_PDC_Open((AT91PS_PDC) &(pSSC->SSC_RPR));
3321:./include/lib_AT91SAM7A3.h **** 
3322:./include/lib_AT91SAM7A3.h **** 
3323:./include/lib_AT91SAM7A3.h **** }
3324:./include/lib_AT91SAM7A3.h **** 
3325:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3326:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_SSC_EnableRx
3327:./include/lib_AT91SAM7A3.h **** //* \brief Enable receiving datas
3328:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3329:./include/lib_AT91SAM7A3.h **** __inline void AT91F_SSC_EnableRx (
3330:./include/lib_AT91SAM7A3.h **** 	AT91PS_SSC pSSC)     // \arg pointer to a SSC controller
3331:./include/lib_AT91SAM7A3.h **** {
3332:./include/lib_AT91SAM7A3.h ****     //* Enable receiver
3333:./include/lib_AT91SAM7A3.h ****     pSSC->SSC_CR = AT91C_SSC_RXEN;
3334:./include/lib_AT91SAM7A3.h **** }
3335:./include/lib_AT91SAM7A3.h **** 
3336:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3337:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_SSC_DisableRx
3338:./include/lib_AT91SAM7A3.h **** //* \brief Disable receiving datas
3339:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3340:./include/lib_AT91SAM7A3.h **** __inline void AT91F_SSC_DisableRx (
3341:./include/lib_AT91SAM7A3.h **** 	AT91PS_SSC pSSC)     // \arg pointer to a SSC controller
3342:./include/lib_AT91SAM7A3.h **** {
3343:./include/lib_AT91SAM7A3.h ****     //* Disable receiver
3344:./include/lib_AT91SAM7A3.h ****     pSSC->SSC_CR = AT91C_SSC_RXDIS;
3345:./include/lib_AT91SAM7A3.h **** }
3346:./include/lib_AT91SAM7A3.h **** 
3347:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3348:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_SSC_EnableTx
3349:./include/lib_AT91SAM7A3.h **** //* \brief Enable sending datas
3350:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3351:./include/lib_AT91SAM7A3.h **** __inline void AT91F_SSC_EnableTx (
3352:./include/lib_AT91SAM7A3.h **** 	AT91PS_SSC pSSC)     // \arg pointer to a SSC controller
3353:./include/lib_AT91SAM7A3.h **** {
3354:./include/lib_AT91SAM7A3.h ****     //* Enable  transmitter
3355:./include/lib_AT91SAM7A3.h ****     pSSC->SSC_CR = AT91C_SSC_TXEN;
3356:./include/lib_AT91SAM7A3.h **** }
3357:./include/lib_AT91SAM7A3.h **** 
3358:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3359:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_SSC_DisableTx
3360:./include/lib_AT91SAM7A3.h **** //* \brief Disable sending datas
3361:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3362:./include/lib_AT91SAM7A3.h **** __inline void AT91F_SSC_DisableTx (
3363:./include/lib_AT91SAM7A3.h **** 	AT91PS_SSC pSSC)     // \arg pointer to a SSC controller
3364:./include/lib_AT91SAM7A3.h **** {
3365:./include/lib_AT91SAM7A3.h ****     //* Disable  transmitter
3366:./include/lib_AT91SAM7A3.h ****     pSSC->SSC_CR = AT91C_SSC_TXDIS;
3367:./include/lib_AT91SAM7A3.h **** }
3368:./include/lib_AT91SAM7A3.h **** 
3369:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3370:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_SSC_EnableIt
3371:./include/lib_AT91SAM7A3.h **** //* \brief Enable SSC IT
3372:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3373:./include/lib_AT91SAM7A3.h **** __inline void AT91F_SSC_EnableIt (
3374:./include/lib_AT91SAM7A3.h **** 	AT91PS_SSC pSSC, // \arg pointer to a SSC controller
3375:./include/lib_AT91SAM7A3.h **** 	unsigned int flag)   // \arg IT to be enabled
3376:./include/lib_AT91SAM7A3.h **** {
3377:./include/lib_AT91SAM7A3.h **** 	//* Write to the IER register
3378:./include/lib_AT91SAM7A3.h **** 	pSSC->SSC_IER = flag;
3379:./include/lib_AT91SAM7A3.h **** }
3380:./include/lib_AT91SAM7A3.h **** 
3381:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3382:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_SSC_DisableIt
3383:./include/lib_AT91SAM7A3.h **** //* \brief Disable SSC IT
3384:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3385:./include/lib_AT91SAM7A3.h **** __inline void AT91F_SSC_DisableIt (
3386:./include/lib_AT91SAM7A3.h **** 	AT91PS_SSC pSSC, // \arg pointer to a SSC controller
3387:./include/lib_AT91SAM7A3.h **** 	unsigned int flag)   // \arg IT to be disabled
3388:./include/lib_AT91SAM7A3.h **** {
3389:./include/lib_AT91SAM7A3.h **** 	//* Write to the IDR register
3390:./include/lib_AT91SAM7A3.h **** 	pSSC->SSC_IDR = flag;
3391:./include/lib_AT91SAM7A3.h **** }
3392:./include/lib_AT91SAM7A3.h **** 
3393:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3394:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_SSC_ReceiveFrame
3395:./include/lib_AT91SAM7A3.h **** //* \brief Return 2 if PDC has been initialized with Buffer and Next Buffer, 1 if PDC has been init
3396:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3397:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_SSC_ReceiveFrame (
3398:./include/lib_AT91SAM7A3.h **** 	AT91PS_SSC pSSC,
3399:./include/lib_AT91SAM7A3.h **** 	char *pBuffer,
3400:./include/lib_AT91SAM7A3.h **** 	unsigned int szBuffer,
3401:./include/lib_AT91SAM7A3.h **** 	char *pNextBuffer,
3402:./include/lib_AT91SAM7A3.h **** 	unsigned int szNextBuffer )
3403:./include/lib_AT91SAM7A3.h **** {
3404:./include/lib_AT91SAM7A3.h **** 	return AT91F_PDC_ReceiveFrame(
3405:./include/lib_AT91SAM7A3.h **** 		(AT91PS_PDC) &(pSSC->SSC_RPR),
3406:./include/lib_AT91SAM7A3.h **** 		pBuffer,
3407:./include/lib_AT91SAM7A3.h **** 		szBuffer,
3408:./include/lib_AT91SAM7A3.h **** 		pNextBuffer,
3409:./include/lib_AT91SAM7A3.h **** 		szNextBuffer);
3410:./include/lib_AT91SAM7A3.h **** }
3411:./include/lib_AT91SAM7A3.h **** 
3412:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3413:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_SSC_SendFrame
3414:./include/lib_AT91SAM7A3.h **** //* \brief Return 2 if PDC has been initialized with Buffer and Next Buffer, 1 if PDC has been init
3415:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3416:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_SSC_SendFrame(
3417:./include/lib_AT91SAM7A3.h **** 	AT91PS_SSC pSSC,
3418:./include/lib_AT91SAM7A3.h **** 	char *pBuffer,
3419:./include/lib_AT91SAM7A3.h **** 	unsigned int szBuffer,
3420:./include/lib_AT91SAM7A3.h **** 	char *pNextBuffer,
3421:./include/lib_AT91SAM7A3.h **** 	unsigned int szNextBuffer )
3422:./include/lib_AT91SAM7A3.h **** {
3423:./include/lib_AT91SAM7A3.h **** 	return AT91F_PDC_SendFrame(
3424:./include/lib_AT91SAM7A3.h **** 		(AT91PS_PDC) &(pSSC->SSC_RPR),
3425:./include/lib_AT91SAM7A3.h **** 		pBuffer,
3426:./include/lib_AT91SAM7A3.h **** 		szBuffer,
3427:./include/lib_AT91SAM7A3.h **** 		pNextBuffer,
3428:./include/lib_AT91SAM7A3.h **** 		szNextBuffer);
3429:./include/lib_AT91SAM7A3.h **** }
3430:./include/lib_AT91SAM7A3.h **** 
3431:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3432:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_SSC_GetInterruptMaskStatus
3433:./include/lib_AT91SAM7A3.h **** //* \brief Return SSC Interrupt Mask Status
3434:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3435:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_SSC_GetInterruptMaskStatus( // \return SSC Interrupt Mask Status
3436:./include/lib_AT91SAM7A3.h ****         AT91PS_SSC pSsc) // \arg  pointer to a SSC controller
3437:./include/lib_AT91SAM7A3.h **** {
3438:./include/lib_AT91SAM7A3.h ****         return pSsc->SSC_IMR;
3439:./include/lib_AT91SAM7A3.h **** }
3440:./include/lib_AT91SAM7A3.h **** 
3441:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3442:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_SSC_IsInterruptMasked
3443:./include/lib_AT91SAM7A3.h **** //* \brief Test if SSC Interrupt is Masked 
3444:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3445:./include/lib_AT91SAM7A3.h **** __inline int AT91F_SSC_IsInterruptMasked(
3446:./include/lib_AT91SAM7A3.h ****         AT91PS_SSC pSsc,   // \arg  pointer to a SSC controller
3447:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
3448:./include/lib_AT91SAM7A3.h **** {
3449:./include/lib_AT91SAM7A3.h ****         return (AT91F_SSC_GetInterruptMaskStatus(pSsc) & flag);
3450:./include/lib_AT91SAM7A3.h **** }
3451:./include/lib_AT91SAM7A3.h **** 
3452:./include/lib_AT91SAM7A3.h **** /* *****************************************************************************
3453:./include/lib_AT91SAM7A3.h ****                 SOFTWARE API FOR ADC
3454:./include/lib_AT91SAM7A3.h ****    ***************************************************************************** */
3455:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3456:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_ADC_EnableIt
3457:./include/lib_AT91SAM7A3.h **** //* \brief Enable ADC interrupt
3458:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3459:./include/lib_AT91SAM7A3.h **** __inline void AT91F_ADC_EnableIt (
3460:./include/lib_AT91SAM7A3.h **** 	AT91PS_ADC pADC,     // pointer to a ADC controller
3461:./include/lib_AT91SAM7A3.h **** 	unsigned int flag)   // IT to be enabled
3462:./include/lib_AT91SAM7A3.h **** {
3463:./include/lib_AT91SAM7A3.h **** 	//* Write to the IER register
3464:./include/lib_AT91SAM7A3.h **** 	pADC->ADC_IER = flag;
3465:./include/lib_AT91SAM7A3.h **** }
3466:./include/lib_AT91SAM7A3.h **** 
3467:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3468:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_ADC_DisableIt
3469:./include/lib_AT91SAM7A3.h **** //* \brief Disable ADC interrupt
3470:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3471:./include/lib_AT91SAM7A3.h **** __inline void AT91F_ADC_DisableIt (
3472:./include/lib_AT91SAM7A3.h **** 	AT91PS_ADC pADC, // pointer to a ADC controller
3473:./include/lib_AT91SAM7A3.h **** 	unsigned int flag) // IT to be disabled
3474:./include/lib_AT91SAM7A3.h **** {
3475:./include/lib_AT91SAM7A3.h **** 	//* Write to the IDR register
3476:./include/lib_AT91SAM7A3.h **** 	pADC->ADC_IDR = flag;
3477:./include/lib_AT91SAM7A3.h **** }
3478:./include/lib_AT91SAM7A3.h **** 
3479:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3480:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_ADC_GetStatus
3481:./include/lib_AT91SAM7A3.h **** //* \brief Return ADC Interrupt Status
3482:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3483:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_ADC_GetStatus( // \return ADC Interrupt Status
3484:./include/lib_AT91SAM7A3.h **** 	AT91PS_ADC pADC) // pointer to a ADC controller
3485:./include/lib_AT91SAM7A3.h **** {
3486:./include/lib_AT91SAM7A3.h **** 	return pADC->ADC_SR;
3487:./include/lib_AT91SAM7A3.h **** }
3488:./include/lib_AT91SAM7A3.h **** 
3489:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3490:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_ADC_GetInterruptMaskStatus
3491:./include/lib_AT91SAM7A3.h **** //* \brief Return ADC Interrupt Mask Status
3492:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3493:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_ADC_GetInterruptMaskStatus( // \return ADC Interrupt Mask Status
3494:./include/lib_AT91SAM7A3.h **** 	AT91PS_ADC pADC) // pointer to a ADC controller
3495:./include/lib_AT91SAM7A3.h **** {
3496:./include/lib_AT91SAM7A3.h **** 	return pADC->ADC_IMR;
3497:./include/lib_AT91SAM7A3.h **** }
3498:./include/lib_AT91SAM7A3.h **** 
3499:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3500:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_ADC_IsInterruptMasked
3501:./include/lib_AT91SAM7A3.h **** //* \brief Test if ADC Interrupt is Masked 
3502:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3503:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_ADC_IsInterruptMasked(
3504:./include/lib_AT91SAM7A3.h ****         AT91PS_ADC pADC,   // \arg  pointer to a ADC controller
3505:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
3506:./include/lib_AT91SAM7A3.h **** {
3507:./include/lib_AT91SAM7A3.h **** 	return (AT91F_ADC_GetInterruptMaskStatus(pADC) & flag);
3508:./include/lib_AT91SAM7A3.h **** }
3509:./include/lib_AT91SAM7A3.h **** 
3510:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3511:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_ADC_IsStatusSet
3512:./include/lib_AT91SAM7A3.h **** //* \brief Test if ADC Status is Set
3513:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3514:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_ADC_IsStatusSet(
3515:./include/lib_AT91SAM7A3.h ****         AT91PS_ADC pADC,   // \arg  pointer to a ADC controller
3516:./include/lib_AT91SAM7A3.h ****         unsigned int flag) // \arg  flag to be tested
3517:./include/lib_AT91SAM7A3.h **** {
3518:./include/lib_AT91SAM7A3.h **** 	return (AT91F_ADC_GetStatus(pADC) & flag);
3519:./include/lib_AT91SAM7A3.h **** }
3520:./include/lib_AT91SAM7A3.h **** 
3521:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3522:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_ADC_CfgModeReg
3523:./include/lib_AT91SAM7A3.h **** //* \brief Configure the Mode Register of the ADC controller
3524:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3525:./include/lib_AT91SAM7A3.h **** __inline void AT91F_ADC_CfgModeReg (
3526:./include/lib_AT91SAM7A3.h **** 	AT91PS_ADC pADC, // pointer to a ADC controller
3527:./include/lib_AT91SAM7A3.h **** 	unsigned int mode)        // mode register 
3528:./include/lib_AT91SAM7A3.h **** {
3529:./include/lib_AT91SAM7A3.h **** 	//* Write to the MR register
3530:./include/lib_AT91SAM7A3.h **** 	pADC->ADC_MR = mode;
3531:./include/lib_AT91SAM7A3.h **** }
3532:./include/lib_AT91SAM7A3.h **** 
3533:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3534:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_ADC_GetModeReg
3535:./include/lib_AT91SAM7A3.h **** //* \brief Return the Mode Register of the ADC controller value
3536:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3537:./include/lib_AT91SAM7A3.h **** __inline unsigned int AT91F_ADC_GetModeReg (
3538:./include/lib_AT91SAM7A3.h **** 	AT91PS_ADC pADC // pointer to a ADC controller
3539:./include/lib_AT91SAM7A3.h **** 	)
3540:./include/lib_AT91SAM7A3.h **** {
3541:./include/lib_AT91SAM7A3.h **** 	return pADC->ADC_MR;	
3542:./include/lib_AT91SAM7A3.h **** }
3543:./include/lib_AT91SAM7A3.h **** 
3544:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3545:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_ADC_CfgTimings
3546:./include/lib_AT91SAM7A3.h **** //* \brief Configure the different necessary timings of the ADC controller
3547:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3548:./include/lib_AT91SAM7A3.h **** __inline void AT91F_ADC_CfgTimings (
3549:./include/lib_AT91SAM7A3.h **** 	AT91PS_ADC pADC, // pointer to a ADC controller
3550:./include/lib_AT91SAM7A3.h **** 	unsigned int mck_clock, // in MHz 
3551:./include/lib_AT91SAM7A3.h **** 	unsigned int adc_clock, // in MHz 
3552:./include/lib_AT91SAM7A3.h **** 	unsigned int startup_time, // in us 
3553:./include/lib_AT91SAM7A3.h **** 	unsigned int sample_and_hold_time)	// in ns  
3554:./include/lib_AT91SAM7A3.h **** {
3555:./include/lib_AT91SAM7A3.h **** 	unsigned int prescal,startup,shtim;
3556:./include/lib_AT91SAM7A3.h **** 	
3557:./include/lib_AT91SAM7A3.h **** 	prescal = mck_clock/(2*adc_clock) - 1;
3558:./include/lib_AT91SAM7A3.h **** 	startup = adc_clock*startup_time/8 - 1;
3559:./include/lib_AT91SAM7A3.h **** 	shtim = adc_clock*sample_and_hold_time/1000 - 1;
3560:./include/lib_AT91SAM7A3.h **** 	
3561:./include/lib_AT91SAM7A3.h **** 	//* Write to the MR register
3562:./include/lib_AT91SAM7A3.h **** 	pADC->ADC_MR = ( (prescal<<8) & AT91C_ADC_PRESCAL) | ( (startup<<16) & AT91C_ADC_STARTUP) | ( (sht
 174              		.loc 2 3562 0
 175 0086 624B     		ldr	r3, .L2+56
 176 0088 6249     		ldr	r1, .L2+60
 177 008a 5960     		str	r1, [r3, #4]
 178              	.LBE159:
 179              	.LBE158:
  65:main.c        ****  
  66:main.c        **** // setup AtoD
  67:main.c        **** // enable clock
  68:main.c        **** AT91F_ADC0_CfgPMC();
  69:main.c        **** // set timings, sets mode register _MR
  70:main.c        **** // clears TRGEN for software conversions only, and clears LOWRES for 10bit conversion
  71:main.c        **** // enable AtoD on ADC0_AD2 & ADC0_AD3
  72:main.c        **** AT91F_ADC_CfgTimings( AT91C_BASE_ADC0, 48, 6, 500, 5000 );
  73:main.c        **** // CfgTimings leaves trigger bits at 0, the following selects timer1 TIOA as hardware trigger
  74:main.c        **** AT91C_BASE_ADC0->ADC_MR |= (AT91C_ADC_TRGEN_EN | AT91C_ADC_TRGSEL_TIOA1 | AT91C_ADC_SLEEP_MODE);
 180              		.loc 1 74 0
 181 008c 5868     		ldr	r0, [r3, #4]
 182 008e 2321     		mov	r1, #35
 183 0090 0143     		orr	r1, r0
 184 0092 5960     		str	r1, [r3, #4]
 185              	.LVL8:
 186              	.LBB160:
 187              	.LBB161:
3563:./include/lib_AT91SAM7A3.h **** }
3564:./include/lib_AT91SAM7A3.h **** 
3565:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3566:./include/lib_AT91SAM7A3.h **** //* \fn    AT91F_ADC_EnableChannel
3567:./include/lib_AT91SAM7A3.h **** //* \brief Return ADC Timer Register Value
3568:./include/lib_AT91SAM7A3.h **** //*----------------------------------------------------------------------------
3569:./include/lib_AT91SAM7A3.h **** __inline void AT91F_ADC_EnableChannel (
3570:./include/lib_AT91SAM7A3.h **** 	AT91PS_ADC pADC, // pointer to a ADC controller
3571:./include/lib_AT91SAM7A3.h **** 	unsigned int channel)        // mode register 
3572:./include/lib_AT91SAM7A3.h **** {
3573:./include/lib_AT91SAM7A3.h **** 	//* Write to the CHER register
3574:./include/lib_AT91SAM7A3.h **** 	pADC->ADC_CHER = channel;
 188              		.loc 2 3574 0
 189 0094 BF21     		mov	r1, #191
 190 0096 1961     		str	r1, [r3, #16]
 191              	.LVL9:
 192              	.LBE161:
 193              	.LBE160:
 194              	.LBB162:
 195              	.LBB163:
  64:./include/lib_AT91SAM7A3.h ****     oldHandler = pAic->AIC_SVR[irq_id];
 196              		.loc 2 64 0
 197 0098 E021     		mov	r1, #224
 198 009a 6058     		ldr	r0, [r4, r1]
 199              	.LVL10:
  68:./include/lib_AT91SAM7A3.h ****     pAic->AIC_IDCR = mask ;
 200              		.loc 2 68 0
 201 009c 4846     		mov	r0, r9
 202 009e 2250     		str	r2, [r4, r0]
  70:./include/lib_AT91SAM7A3.h ****     pAic->AIC_SVR[irq_id] = (unsigned int) newHandler ;
 203              		.loc 2 70 0
 204 00a0 5D48     		ldr	r0, .L2+64
 205 00a2 6050     		str	r0, [r4, r1]
  72:./include/lib_AT91SAM7A3.h ****     pAic->AIC_SMR[irq_id] = src_type | priority  ;
 206              		.loc 2 72 0
 207 00a4 0721     		mov	r1, #7
 208 00a6 2166     		str	r1, [r4, #96]
  74:./include/lib_AT91SAM7A3.h ****     pAic->AIC_ICCR = mask ;
 209              		.loc 2 74 0
 210 00a8 4046     		mov	r0, r8
 211 00aa 2250     		str	r2, [r4, r0]
 212              	.LBE163:
 213              	.LBE162:
  75:main.c        **** //AT91F_ADC_CfgModeReg( AT91C_BASE_ADC0, ??? );
  76:main.c        **** AT91F_ADC_EnableChannel( AT91C_BASE_ADC0, ATOD_CHANNELS );
  77:main.c        **** // set start bit in control register _CR
  78:main.c        **** //AT91F_ADC_StartConversion( AT91C_BASE_ADC0 );
  79:main.c        **** 
  80:main.c        **** // as timer0 is used to start atod, we'll enable atod interrupt before starting timer
  81:main.c        **** AT91F_AIC_ConfigureIt( AT91C_BASE_AIC, AT91C_ID_ADC0, INTERRUPT_PRIORITY7, AT91C_AIC_SRCTYPE_INT_HI
  82:main.c        **** AT91C_BASE_ADC0->ADC_IER = AT91C_ADC_EOC7; // enable 'end of conversion on channel 7' interrupt
 214              		.loc 1 82 0
 215 00ac 8022     		mov	r2, #128
 216 00ae 5A62     		str	r2, [r3, #36]
 217              	.LVL11:
 218              	.LBB164:
 219              	.LBB165:
 220              	.LBB166:
1046:./include/lib_AT91SAM7A3.h **** 	pPMC->PMC_PCER = periphIds;
 221              		.loc 2 1046 0
 222 00b0 1202     		lsl	r2, r2, #8
 223 00b2 2A61     		str	r2, [r5, #16]
 224              	.LBE166:
 225              	.LBE165:
 226              	.LBE164:
  83:main.c        **** // atod interrupt enabled in Power.c
  84:main.c        **** 
  85:main.c        **** // time clock divider defines
  86:main.c        **** // AT91C_TC_CLKS_TIMER_DIV1_CLOCK = MCK / 2 = 47923200 / 2 
  87:main.c        **** // AT91C_TC_CLKS_TIMER_DIV2_CLOCK = MCK / 8 = 47923200 / 8
  88:main.c        **** // AT91C_TC_CLKS_TIMER_DIV3_CLOCK = MCK / 32 = 47923200 / 32
  89:main.c        **** // AT91C_TC_CLKS_TIMER_DIV4_CLOCK = MCK / 128 = 47923200 / 128
  90:main.c        **** // AT91C_TC_CLKS_TIMER_DIV5_CLOCK = MCK / 1024 = 47923200 / 1024
  91:main.c        **** 
  92:main.c        **** // --- timer0 setup for capture on TIOA0 --
  93:main.c        **** AT91F_TC0_CfgPMC();
  94:main.c        **** // Set the Mode of the Timer Counter, MCK/128,
  95:main.c        **** AT91C_BASE_TC0->TC_CMR = AT91C_TC_CLKS_TIMER_DIV4_CLOCK | AT91C_TC_LDRA_RISING | AT91C_TC_LDRB_FALL
 227              		.loc 1 95 0
 228 00b4 5949     		ldr	r1, .L2+68
 229 00b6 5A4B     		ldr	r3, .L2+72
 230 00b8 4B60     		str	r3, [r1, #4]
 231              	.LVL12:
 232              	.LBB167:
 233              	.LBB168:
  64:./include/lib_AT91SAM7A3.h ****     oldHandler = pAic->AIC_SVR[irq_id];
 234              		.loc 2 64 0
 235 00ba BC21     		mov	r1, #188
 236 00bc 6058     		ldr	r0, [r4, r1]
 237              	.LVL13:
  68:./include/lib_AT91SAM7A3.h ****     pAic->AIC_IDCR = mask ;
 238              		.loc 2 68 0
 239 00be 4846     		mov	r0, r9
 240 00c0 2250     		str	r2, [r4, r0]
  70:./include/lib_AT91SAM7A3.h ****     pAic->AIC_SVR[irq_id] = (unsigned int) newHandler ;
 241              		.loc 2 70 0
 242 00c2 5848     		ldr	r0, .L2+76
 243 00c4 6050     		str	r0, [r4, r1]
  72:./include/lib_AT91SAM7A3.h ****     pAic->AIC_SMR[irq_id] = src_type | priority  ;
 244              		.loc 2 72 0
 245 00c6 5146     		mov	r1, sl
 246 00c8 E163     		str	r1, [r4, #60]
  74:./include/lib_AT91SAM7A3.h ****     pAic->AIC_ICCR = mask ;
 247              		.loc 2 74 0
 248 00ca 4346     		mov	r3, r8
 249 00cc E250     		str	r2, [r4, r3]
 250              	.LVL14:
 251              	.LBE168:
 252              	.LBE167:
 253              	.LBB169:
 254              	.LBB170:
 255              	.LBB171:
1046:./include/lib_AT91SAM7A3.h **** 	pPMC->PMC_PCER = periphIds;
 256              		.loc 2 1046 0
 257 00ce 8022     		mov	r2, #128
 258 00d0 5202     		lsl	r2, r2, #9
 259 00d2 2A61     		str	r2, [r5, #16]
 260              	.LBE171:
 261              	.LBE170:
 262              	.LBE169:
  96:main.c        **** // timer started in operate.c
  97:main.c        **** 
  98:main.c        **** // --- timer 0 interrupt setup ---
  99:main.c        **** AT91F_AIC_ConfigureIt( AT91C_BASE_AIC, AT91C_ID_TC0, INTERRUPT_PRIORITY1, AT91C_AIC_SRCTYPE_INT_HIG
 100:main.c        **** // interrupt enabled in operate.c
 101:main.c        **** 
 102:main.c        **** // --- timer1 setup ---
 103:main.c        **** // timer1 starts atod sampling on rising edge of TIOA output
 104:main.c        **** AT91F_TC1_CfgPMC();
 105:main.c        **** //* Set the Mode of the Timer Counter - toggle TIOA0 at 1000Hz
 106:main.c        **** AT91C_BASE_TC1->TC_CMR = AT91C_TC_CLKS_TIMER_DIV2_CLOCK | AT91C_TC_WAVE | AT91C_TC_WAVESEL_UP_AUTO 
 263              		.loc 1 106 0
 264 00d4 5449     		ldr	r1, .L2+80
 265 00d6 5548     		ldr	r0, .L2+84
 266 00d8 4860     		str	r0, [r1, #4]
 107:main.c        ****   AT91C_TC_ACPA_CLEAR | AT91C_TC_ACPC_SET;
 108:main.c        **** AT91C_BASE_TC1->TC_RA = 1000;
 267              		.loc 1 108 0
 268 00da FA20     		mov	r0, #250
 269 00dc 8000     		lsl	r0, r0, #2
 270 00de 4861     		str	r0, [r1, #20]
 109:main.c        **** AT91C_BASE_TC1->TC_RC = 5990; // 47923200 / 8 / 5990 == 1000.0668
 271              		.loc 1 109 0
 272 00e0 5348     		ldr	r0, .L2+88
 273 00e2 C861     		str	r0, [r1, #28]
 110:main.c        **** // timer started in power.c
 111:main.c        **** 
 112:main.c        **** // --- timer1 interrupt setup ---
 113:main.c        **** TC1_interrupt_count = 0;
 274              		.loc 1 113 0
 275 00e4 5348     		ldr	r0, .L2+92
 276 00e6 5B46     		mov	r3, fp
 277 00e8 0360     		str	r3, [r0]
 278              	.LVL15:
 279              	.LBB172:
 280              	.LBB173:
  64:./include/lib_AT91SAM7A3.h ****     oldHandler = pAic->AIC_SVR[irq_id];
 281              		.loc 2 64 0
 282 00ea C023     		mov	r3, #192
 283 00ec E058     		ldr	r0, [r4, r3]
 284              	.LVL16:
  68:./include/lib_AT91SAM7A3.h ****     pAic->AIC_IDCR = mask ;
 285              		.loc 2 68 0
 286 00ee 4B46     		mov	r3, r9
 287 00f0 E250     		str	r2, [r4, r3]
  70:./include/lib_AT91SAM7A3.h ****     pAic->AIC_SVR[irq_id] = (unsigned int) newHandler ;
 288              		.loc 2 70 0
 289 00f2 5148     		ldr	r0, .L2+96
 290 00f4 C023     		mov	r3, #192
 291 00f6 E050     		str	r0, [r4, r3]
  72:./include/lib_AT91SAM7A3.h ****     pAic->AIC_SMR[irq_id] = src_type | priority  ;
 292              		.loc 2 72 0
 293 00f8 5346     		mov	r3, sl
 294 00fa 2364     		str	r3, [r4, #64]
  74:./include/lib_AT91SAM7A3.h ****     pAic->AIC_ICCR = mask ;
 295              		.loc 2 74 0
 296 00fc 4046     		mov	r0, r8
 297 00fe 2250     		str	r2, [r4, r0]
 298              	.LBE173:
 299              	.LBE172:
 114:main.c        **** AT91F_AIC_ConfigureIt( AT91C_BASE_AIC, AT91C_ID_TC1, INTERRUPT_PRIORITY1, AT91C_AIC_SRCTYPE_INT_HIG
 115:main.c        **** AT91C_BASE_TC1->TC_IER = AT91C_TC_CPCS; // enable 'RC compare' interrupt
 300              		.loc 1 115 0
 301 0100 1020     		mov	r0, #16
 302 0102 4862     		str	r0, [r1, #36]
 303              	.LVL17:
 304              	.LBB174:
 305              	.LBB175:
  88:./include/lib_AT91SAM7A3.h ****     pAic->AIC_IECR = 0x1 << irq_id ;
 306              		.loc 2 88 0
 307 0104 9021     		mov	r1, #144
 308 0106 4900     		lsl	r1, r1, #1
 309 0108 6250     		str	r2, [r4, r1]
 310              	.LVL18:
 311              	.LBE175:
 312              	.LBE174:
 313              	.LBB176:
 314              	.LBB177:
 315              	.LBB178:
1046:./include/lib_AT91SAM7A3.h **** 	pPMC->PMC_PCER = periphIds;
 316              		.loc 2 1046 0
 317 010a 8022     		mov	r2, #128
 318 010c 1203     		lsl	r2, r2, #12
 319 010e 2A61     		str	r2, [r5, #16]
 320              	.LBE178:
 321              	.LBE177:
 322              	.LBE176:
 116:main.c        **** AT91F_AIC_EnableIt( AT91C_BASE_AIC, AT91C_ID_TC1 );
 117:main.c        **** 
 118:main.c        **** // --- timer4 setup for capture on TIOA4 --
 119:main.c        **** AT91F_TC4_CfgPMC();
 120:main.c        **** // Set the Mode of the Timer Counter, MCK/128,
 121:main.c        **** AT91C_BASE_TC4->TC_CMR = AT91C_TC_CLKS_TIMER_DIV4_CLOCK | AT91C_TC_LDRA_RISING | AT91C_TC_LDRB_FALL
 323              		.loc 1 121 0
 324 0110 4A49     		ldr	r1, .L2+100
 325 0112 434B     		ldr	r3, .L2+72
 326 0114 4B60     		str	r3, [r1, #4]
 327              	.LVL19:
 328              	.LBB179:
 329              	.LBB180:
  64:./include/lib_AT91SAM7A3.h ****     oldHandler = pAic->AIC_SVR[irq_id];
 330              		.loc 2 64 0
 331 0116 CC21     		mov	r1, #204
 332 0118 6058     		ldr	r0, [r4, r1]
 333              	.LVL20:
  68:./include/lib_AT91SAM7A3.h ****     pAic->AIC_IDCR = mask ;
 334              		.loc 2 68 0
 335 011a 4846     		mov	r0, r9
 336 011c 2250     		str	r2, [r4, r0]
  70:./include/lib_AT91SAM7A3.h ****     pAic->AIC_SVR[irq_id] = (unsigned int) newHandler ;
 337              		.loc 2 70 0
 338 011e 4848     		ldr	r0, .L2+104
 339 0120 6050     		str	r0, [r4, r1]
  72:./include/lib_AT91SAM7A3.h ****     pAic->AIC_SMR[irq_id] = src_type | priority  ;
 340              		.loc 2 72 0
 341 0122 5146     		mov	r1, sl
 342 0124 E164     		str	r1, [r4, #76]
  74:./include/lib_AT91SAM7A3.h ****     pAic->AIC_ICCR = mask ;
 343              		.loc 2 74 0
 344 0126 4346     		mov	r3, r8
 345 0128 E250     		str	r2, [r4, r3]
 346              	.LVL21:
 347              	.LBE180:
 348              	.LBE179:
 349              	.LBB181:
 350              	.LBB182:
 351              	.LBB183:
1046:./include/lib_AT91SAM7A3.h **** 	pPMC->PMC_PCER = periphIds;
 352              		.loc 2 1046 0
 353 012a 8022     		mov	r2, #128
 354 012c 5203     		lsl	r2, r2, #13
 355 012e 2A61     		str	r2, [r5, #16]
 356              	.LBE183:
 357              	.LBE182:
 358              	.LBE181:
 122:main.c        **** // timer started in operate.c
 123:main.c        **** 
 124:main.c        **** // --- timer 4 interrupt setup ---
 125:main.c        **** AT91F_AIC_ConfigureIt( AT91C_BASE_AIC, AT91C_ID_TC4, INTERRUPT_PRIORITY1, AT91C_AIC_SRCTYPE_INT_HIG
 126:main.c        **** // interrupt enabled in operate.c
 127:main.c        **** 
 128:main.c        **** // --- timer5 setup for capture on TIOA5 --
 129:main.c        **** AT91F_TC5_CfgPMC();
 130:main.c        **** // Set the Mode of the Timer Counter, MCK/128,
 131:main.c        **** AT91C_BASE_TC5->TC_CMR = AT91C_TC_CLKS_TIMER_DIV4_CLOCK | AT91C_TC_LDRA_RISING | AT91C_TC_LDRB_FALL
 359              		.loc 1 131 0
 360 0130 4449     		ldr	r1, .L2+108
 361 0132 3B48     		ldr	r0, .L2+72
 362 0134 4860     		str	r0, [r1, #4]
 363              	.LVL22:
 364              	.LBB184:
 365              	.LBB185:
  64:./include/lib_AT91SAM7A3.h ****     oldHandler = pAic->AIC_SVR[irq_id];
 366              		.loc 2 64 0
 367 0136 D021     		mov	r1, #208
 368 0138 6058     		ldr	r0, [r4, r1]
 369              	.LVL23:
  68:./include/lib_AT91SAM7A3.h ****     pAic->AIC_IDCR = mask ;
 370              		.loc 2 68 0
 371 013a 4B46     		mov	r3, r9
 372 013c E250     		str	r2, [r4, r3]
  70:./include/lib_AT91SAM7A3.h ****     pAic->AIC_SVR[irq_id] = (unsigned int) newHandler ;
 373              		.loc 2 70 0
 374 013e 4248     		ldr	r0, .L2+112
 375 0140 6050     		str	r0, [r4, r1]
  72:./include/lib_AT91SAM7A3.h ****     pAic->AIC_SMR[irq_id] = src_type | priority  ;
 376              		.loc 2 72 0
 377 0142 5046     		mov	r0, sl
 378 0144 2065     		str	r0, [r4, #80]
  74:./include/lib_AT91SAM7A3.h ****     pAic->AIC_ICCR = mask ;
 379              		.loc 2 74 0
 380 0146 4146     		mov	r1, r8
 381 0148 6250     		str	r2, [r4, r1]
 382              	.LVL24:
 383              	.LBE185:
 384              	.LBE184:
 385              	.LBB186:
 386              	.LBB187:
 387              	.LBB188:
1046:./include/lib_AT91SAM7A3.h **** 	pPMC->PMC_PCER = periphIds;
 388              		.loc 2 1046 0
 389 014a 8022     		mov	r2, #128
 390 014c 9203     		lsl	r2, r2, #14
 391 014e 2A61     		str	r2, [r5, #16]
 392              	.LBE188:
 393              	.LBE187:
 394              	.LBE186:
 132:main.c        **** // timer started in operate.c
 133:main.c        **** 
 134:main.c        **** // --- timer 5 interrupt setup ---
 135:main.c        **** AT91F_AIC_ConfigureIt( AT91C_BASE_AIC, AT91C_ID_TC5, INTERRUPT_PRIORITY1, AT91C_AIC_SRCTYPE_INT_HIG
 136:main.c        **** // interrupt enabled in operate.c
 137:main.c        **** 
 138:main.c        **** // --- timer6 setup for capture on TIOA6 --
 139:main.c        **** AT91F_TC6_CfgPMC();
 140:main.c        **** // Set the Mode of the Timer Counter, MCK/128,
 141:main.c        **** AT91C_BASE_TC6->TC_CMR = AT91C_TC_CLKS_TIMER_DIV4_CLOCK | AT91C_TC_LDRA_RISING | AT91C_TC_LDRB_FALL
 395              		.loc 1 141 0
 396 0150 3E49     		ldr	r1, .L2+116
 397 0152 334B     		ldr	r3, .L2+72
 398 0154 4B60     		str	r3, [r1, #4]
 399              	.LVL25:
 400              	.LBB189:
 401              	.LBB190:
  64:./include/lib_AT91SAM7A3.h ****     oldHandler = pAic->AIC_SVR[irq_id];
 402              		.loc 2 64 0
 403 0156 D423     		mov	r3, #212
 404 0158 E158     		ldr	r1, [r4, r3]
 405              	.LVL26:
  68:./include/lib_AT91SAM7A3.h ****     pAic->AIC_IDCR = mask ;
 406              		.loc 2 68 0
 407 015a 4846     		mov	r0, r9
 408 015c 2250     		str	r2, [r4, r0]
  70:./include/lib_AT91SAM7A3.h ****     pAic->AIC_SVR[irq_id] = (unsigned int) newHandler ;
 409              		.loc 2 70 0
 410 015e 3C49     		ldr	r1, .L2+120
 411 0160 E150     		str	r1, [r4, r3]
  72:./include/lib_AT91SAM7A3.h ****     pAic->AIC_SMR[irq_id] = src_type | priority  ;
 412              		.loc 2 72 0
 413 0162 5146     		mov	r1, sl
 414 0164 6165     		str	r1, [r4, #84]
  74:./include/lib_AT91SAM7A3.h ****     pAic->AIC_ICCR = mask ;
 415              		.loc 2 74 0
 416 0166 4346     		mov	r3, r8
 417 0168 E250     		str	r2, [r4, r3]
 418              	.LVL27:
 419              	.LBE190:
 420              	.LBE189:
 421              	.LBB191:
 422              	.LBB192:
 423              	.LBB193:
1046:./include/lib_AT91SAM7A3.h **** 	pPMC->PMC_PCER = periphIds;
 424              		.loc 2 1046 0
 425 016a 8023     		mov	r3, #128
 426 016c DB00     		lsl	r3, r3, #3
 427 016e 2B61     		str	r3, [r5, #16]
 428              	.LBE193:
 429              	.LBE192:
 430              	.LBE191:
 142:main.c        **** // timer started in operate.c
 143:main.c        **** 
 144:main.c        **** // --- timer 6 interrupt setup ---
 145:main.c        **** AT91F_AIC_ConfigureIt( AT91C_BASE_AIC, AT91C_ID_TC6, INTERRUPT_PRIORITY1, AT91C_AIC_SRCTYPE_INT_HIG
 146:main.c        **** // interrupt enabled in operate.c
 147:main.c        **** 
 148:main.c        **** // setup TWI (IIC) - runs in display loop
 149:main.c        **** // enable clock
 150:main.c        **** AT91F_TWI_CfgPMC();
 151:main.c        **** // set clock divider CKDIV = 0, CHDIV = 57, CLDIV = 57 for 399.36 khz at MCK of 47923200
 152:main.c        **** AT91C_BASE_TWI->TWI_CWGR = (0 << 16) | (57 << 8) | (57 << 0);
 431              		.loc 1 152 0
 432 0170 384A     		ldr	r2, .L2+124
 433 0172 394B     		ldr	r3, .L2+128
 434 0174 1A61     		str	r2, [r3, #16]
 153:main.c        **** //AT91C_BASE_TWI->TWI_CWGR = (0 << 16) | (93 << 8) | (93 << 0); // 249.6 khz
 154:main.c        **** 
 155:main.c        **** // setup SPI1
 156:main.c        **** SPI1Setup();
 435              		.loc 1 156 0
 436 0176 FFF7FEFF 		bl	SPI1Setup
 437              	.LVL28:
 438              	.LBB194:
 439              	.LBB195:
 497:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_ASR = periphAEnable;
 440              		.loc 2 497 0
 441 017a 384B     		ldr	r3, .L2+132
 442 017c 3367     		str	r3, [r6, #112]
 498:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_BSR = periphBEnable;
 443              		.loc 2 498 0
 444 017e E623     		mov	r3, #230
 445 0180 DB00     		lsl	r3, r3, #3
 446 0182 7367     		str	r3, [r6, #116]
 499:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_PDR = (periphAEnable | periphBEnable); // Set in Periph mode
 447              		.loc 2 499 0
 448 0184 364B     		ldr	r3, .L2+136
 449 0186 7360     		str	r3, [r6, #4]
 450              	.LVL29:
 451              	.LBE195:
 452              	.LBE194:
 453              	.LBB196:
 454              	.LBB197:
 497:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_ASR = periphAEnable;
 455              		.loc 2 497 0
 456 0188 5846     		mov	r0, fp
 457 018a 3867     		str	r0, [r7, #112]
 498:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_BSR = periphBEnable;
 458              		.loc 2 498 0
 459 018c 7867     		str	r0, [r7, #116]
 499:./include/lib_AT91SAM7A3.h **** 	pPio->PIO_PDR = (periphAEnable | periphBEnable); // Set in Periph mode
 460              		.loc 2 499 0
 461 018e 7860     		str	r0, [r7, #4]
 462              	.LBE197:
 463              	.LBE196:
 157:main.c        **** 
 158:main.c        **** // setup CAN - taken care of in task setup
 159:main.c        **** //InitialiseCAN();
 160:main.c        **** 
 161:main.c        **** // enable shutdown peripheral - has no effect as is always clocked by slow clock
 162:main.c        **** //AT91F_SHDWC_CfgPMC();
 163:main.c        **** 
 164:main.c        **** AT91F_PIO_CfgPeriph( AT91C_BASE_PIOA, // PIO controller base address
 165:main.c        ****   // Peripheral A
 166:main.c        ****   ((unsigned int) AT91C_PA0_TWD) |
 167:main.c        ****   ((unsigned int) AT91C_PA1_TWCK) |
 168:main.c        ****   ((unsigned int) AT91C_PA2_RXD0) |
 169:main.c        ****   ((unsigned int) AT91C_PA3_TXD0) |
 170:main.c        ****   ((unsigned int) AT91C_PA11_SPI0_NPCS0) |
 171:main.c        ****   ((unsigned int) AT91C_PA12_SPI0_NPCS1) |
 172:main.c        ****   ((unsigned int) AT91C_PA16_SPI0_MOSI) |
 173:main.c        ****   ((unsigned int) AT91C_PA17_SPI0_SPCK) |
 174:main.c        ****   /*((unsigned int) AT91C_PA18_PWM0) |
 175:main.c        ****   ((unsigned int) AT91C_PA19_PWM1) |
 176:main.c        ****   ((unsigned int) AT91C_PA20_PWM2) |
 177:main.c        ****   ((unsigned int) AT91C_PA21_PWM3) |  PWM set by SetOutputPWM()
 178:main.c        ****   ((unsigned int) AT91C_PA22_PWM4) |
 179:main.c        ****   ((unsigned int) AT91C_PA23_PWM5) |
 180:main.c        ****   ((unsigned int) AT91C_PA24_PWM6) |
 181:main.c        ****   ((unsigned int) AT91C_PA25_PWM7) |*/
 182:main.c        ****   /*((unsigned int) AT91C_PA26_CANRX0) |
 183:main.c        ****   ((unsigned int) AT91C_PA27_CANTX0) |*/
 184:main.c        ****   /*((unsigned int) AT91C_PA28_CANRX1) | 		
 185:main.c        ****   ((unsigned int) AT91C_PA29_CANTX1) |*/
 186:main.c        ****   ((unsigned int) AT91C_PA30_DRXD) |
 187:main.c        ****   ((unsigned int) AT91C_PA31_DTXD),
 188:main.c        ****   // Peripheral B
 189:main.c        ****   ((unsigned int) AT91C_PA4_SPI1_NPCS0) |
 190:main.c        ****   ((unsigned int) AT91C_PA5_SPI1_NPCS1) |
 191:main.c        ****   /*((unsigned int) AT91C_PA6_SPI1_NPCS2) |*/
 192:main.c        ****   ((unsigned int) AT91C_PA8_SPI1_MISO) |
 193:main.c        ****   ((unsigned int) AT91C_PA9_SPI1_MOSI) |
 194:main.c        ****   ((unsigned int) AT91C_PA10_SPI1_SPCK)
 195:main.c        ****   );
 196:main.c        **** 
 197:main.c        **** #if 0 // test 
 198:main.c        **** //AT91F_PIO_CfgOutput( AT91C_BASE_PIOB, AT91C_PB21_TIOB4 );
 199:main.c        **** //AT91F_PIO_ClearOutput( AT91C_BASE_PIOB, AT91C_PB21_TIOB4 );
 200:main.c        **** //AT91F_PIO_CfgDirectDrive( AT91C_BASE_PIOB, AT91C_PB21_TIOB4 );
 201:main.c        **** #endif
 202:main.c        **** 
 203:main.c        **** AT91F_PIO_CfgPeriph( AT91C_BASE_PIOB, // PIO controller base address
 204:main.c        ****   // Peripheral A
 205:main.c        ****   0,
 206:main.c        ****   /*((unsigned int) AT91C_PB22_TIOA5),*/
 207:main.c        ****   // Peripheral B
 208:main.c        ****   0
 209:main.c        ****   );
 210:main.c        ****   
 211:main.c        **** // disable USB transceiver - may not be necessary for SAM7A3
 212:main.c        **** // enable peripheral clock of UDP
 213:main.c        **** AT91C_BASE_PMC->PMC_PCER = ((unsigned int)1 << AT91C_ID_UDP); // AT91F_UDP_CfgPMC();
 464              		.loc 1 213 0
 465 0190 8023     		mov	r3, #128
 466 0192 1B05     		lsl	r3, r3, #20
 467 0194 2B61     		str	r3, [r5, #16]
 214:main.c        **** // disable transceiver
 215:main.c        **** AT91C_BASE_UDP->UDP_TXVC = AT91C_UDP_TXVDIS; // AT91F_UDP_DisableTransceiver( AT91C_BASE_UDP );
 468              		.loc 1 215 0
 469 0196 8021     		mov	r1, #128
 470 0198 4900     		lsl	r1, r1, #1
 471 019a 324A     		ldr	r2, .L2+140
 472 019c 5167     		str	r1, [r2, #116]
 216:main.c        **** // turn off peripheral clock for UDP
 217:main.c        **** AT91C_BASE_PMC->PMC_PCDR = ((unsigned int)1 << AT91C_ID_UDP); // AT91F_PMC_DisablePeriphClock( AT91
 473              		.loc 1 217 0
 474 019e 6B61     		str	r3, [r5, #20]
 218:main.c        ****   
 219:main.c        **** /* Start FreeRTOS application tasks */
 220:main.c        **** vStartPowerTask( mainPOWER_TASK_PRIORITY );
 475              		.loc 1 220 0
 476 01a0 0420     		mov	r0, #4
 477 01a2 FFF7FEFF 		bl	vStartPowerTask
 478              	.LVL30:
 221:main.c        **** vStartTWITask( mainTWI_TASK_READ_PRIORITY );
 479              		.loc 1 221 0
 480 01a6 0120     		mov	r0, #1
 481 01a8 FFF7FEFF 		bl	vStartTWITask
 482              	.LVL31:
 222:main.c        **** vStartComTasks( mainCOM_TEST_PRIORITY, 9600 );
 483              		.loc 1 222 0
 484 01ac 0220     		mov	r0, #2
 485 01ae 9621     		mov	r1, #150
 486 01b0 8901     		lsl	r1, r1, #6
 487 01b2 FFF7FEFF 		bl	vStartComTasks
 488              	.LVL32:
 223:main.c        **** //vStartCANTasks( mainCAN_TEST_PRIORITY ); // Removed
 224:main.c        **** vStartDisplayTask( mainDISPLAY_TASK_PRIORITY );
 489              		.loc 1 224 0
 490 01b6 0220     		mov	r0, #2
 491 01b8 FFF7FEFF 		bl	vStartDisplayTask
 492              	.LVL33:
 225:main.c        **** vStartOperateTask( mainOPERATE_TASK_PRIORITY );
 493              		.loc 1 225 0
 494 01bc 0220     		mov	r0, #2
 495 01be FFF7FEFF 		bl	vStartOperateTask
 496              	.LVL34:
 226:main.c        **** 
 227:main.c        **** /* 
 228:main.c        **** NOTE : Tasks run in system mode and the scheduler runs in Supervisor mode.
 229:main.c        **** The processor MUST be in supervisor mode when vTaskStartScheduler is 
 230:main.c        **** called.  The demo applications included in the FreeRTOS.org download switch
 231:main.c        **** to supervisor mode prior to main being called.  If you are not using one of
 232:main.c        **** these demo application projects then ensure Supervisor mode is used here.
 233:main.c        **** */
 234:main.c        **** 
 235:main.c        **** /* Now all the tasks have been started - start the scheduler. */
 236:main.c        **** vTaskStartScheduler();
 497              		.loc 1 236 0
 498 01c2 FFF7FEFF 		bl	vTaskStartScheduler
 499              	.LVL35:
 237:main.c        **** 
 238:main.c        **** return( 0 );
 239:main.c        ****   
 240:main.c        **** } // End main()
 500              		.loc 1 240 0
 501 01c6 0020     		mov	r0, #0
 502              		@ sp needed for prologue
 503 01c8 3CBC     		pop	{r2, r3, r4, r5}
 504 01ca 9046     		mov	r8, r2
 505 01cc 9946     		mov	r9, r3
 506 01ce A246     		mov	sl, r4
 507 01d0 AB46     		mov	fp, r5
 508 01d2 F8BC     		pop	{r3, r4, r5, r6, r7}
 509 01d4 02BC     		pop	{r1}
 510 01d6 0847     		bx	r1
 511              	.L3:
 512              		.align	2
 513              	.L2:
 514 01d8 10FDFFFF 		.word	-752
 515 01dc 010400A5 		.word	-1526725631
 516 01e0 00FDFFFF 		.word	-768
 517 01e4 00FCFFFF 		.word	-1024
 518 01e8 00F4FFFF 		.word	-3072
 519 01ec 40E0FC03 		.word	66904128
 520 01f0 00E0FC03 		.word	66904064
 521 01f4 40000800 		.word	524352
 522 01f8 04010040 		.word	1073742084
 523 01fc 00F6FFFF 		.word	-2560
 524 0200 002C802A 		.word	713042944
 525 0204 00D05F15 		.word	358600704
 526 0208 00F0FFFF 		.word	-4096
 527 020c 00000000 		.word	PIOB_irq_handler
 528 0210 0080FDFF 		.word	-163840
 529 0214 0003160D 		.word	219546368
 530 0218 00000000 		.word	ADC0_irq_handler
 531 021c 0000FAFF 		.word	-393216
 532 0220 03000900 		.word	589827
 533 0224 00000000 		.word	TC0_irq_handler
 534 0228 4000FAFF 		.word	-393152
 535 022c 01C00600 		.word	442369
 536 0230 66170000 		.word	5990
 537 0234 00000000 		.word	TC1_interrupt_count
 538 0238 00000000 		.word	TC1_irq_handler
 539 023c 4040FAFF 		.word	-376768
 540 0240 00000000 		.word	TC4_irq_handler
 541 0244 8040FAFF 		.word	-376704
 542 0248 00000000 		.word	TC5_irq_handler
 543 024c 0080FAFF 		.word	-360448
 544 0250 00000000 		.word	TC6_irq_handler
 545 0254 39390000 		.word	14649
 546 0258 0080FBFF 		.word	-294912
 547 025c 0F1803C0 		.word	-1073539057
 548 0260 3F1F03C0 		.word	-1073537217
 549 0264 0000FBFF 		.word	-327680
 550              		.cfi_endproc
 551              	.LFE376:
 553              		.comm	POWERtaskhandle,4,4
 554              		.comm	TWItaskhandle,4,4
 555              		.comm	SetTime,4,4
 556              		.text
 557              	.Letext0:
 558              		.file 3 "./include/AT91SAM7A3.h"
 559              		.file 4 "./include/task.h"
 560              		.file 5 "./include/queue.h"
 561              		.file 6 "./include/semphr.h"
 562              		.file 7 "Board.h"
DEFINED SYMBOLS
                            *ABS*:00000000 main.c
  C:\Temp\ccgeQfpu.s:18     .text.main:00000000 $t
  C:\Temp\ccgeQfpu.s:23     .text.main:00000000 main
  C:\Temp\ccgeQfpu.s:514    .text.main:000001d8 $d
                            *COM*:00000004 POWERtaskhandle
                            *COM*:00000004 TWItaskhandle
                            *COM*:00000004 SetTime
                     .debug_frame:00000010 $d
                           .group:00000000 wm4.1.e755308d0f97ac5a4d77c88bfa88161b
                           .group:00000000 wm4.Board.h.9.fb7d243db0e7e4c70fc5c5308962051c
                           .group:00000000 wm4.AT91SAM7A3.h.47.d520374ed0d352801eee6a21dd2220a3
                           .group:00000000 wm4.lib_AT91SAM7A3.h.43.b96965aef7b64d3c61b53421dff32f3d
                           .group:00000000 wm4.stddef.h.40.50cf36416e06376af8a9dca28536f2e4
                           .group:00000000 wm4.projdefs.h.55.cdae9ead80b5a2ac004f41bb277aad45
                           .group:00000000 wm4.FreeRTOSConfig.h.55.21a0bf6949661856eb9bd458ca526d69
                           .group:00000000 wm4.portmacro.h.78.312ea2a2591c2c784e5cb239eea0b39c
                           .group:00000000 wm4.portable.h.311.02653c2286cc0addcb8e7b32211fdde5
                           .group:00000000 wm4.mpu_wrappers.h.55.46a4a008a193040c38098e9a5f07ff9d
                           .group:00000000 wm4.FreeRTOS.h.136.ac0125896626c2d69b79b44ea315652b
                           .group:00000000 wm4.list.h.90.ffdb657f66139f74e2982d5a33457923
                           .group:00000000 wm4.task.h.75.6c9adf28cb16a37dd5593a2f9c33f128
                           .group:00000000 wm4.queue.h.62.c626e69c2c492f5b1e4920732a8be821
                           .group:00000000 wm4.semphr.h.65.030ef7caa4665b46960b9de8a1cccba7
                           .group:00000000 wm4.Board.h.1257.275975018c8e952526c2554b98141b95
                           .group:00000000 wm4.Board.h.1481.126b635f2c4daf829686312d1e66f9ec
                           .group:00000000 wm4.config.h.193.5fb8ef056cdff92dec3dee9552839d8c
                           .group:00000000 wm4._ansi.h.23.95dee4059009fe3ab635a191bb73dc66
                           .group:00000000 wm4.stdio.h.31.f48311dde756a2aec27351b58a280fb9
                           .group:00000000 wm4.stddef.h.161.e50ff8a9d5d1abbc15641da28ac571bf
                           .group:00000000 wm4.stdarg.h.34.3a23a216c0c293b3d2ea2e89281481e6
                           .group:00000000 wm4._default_types.h.6.1dbd2e581fd590860c7c17f21d147e91
                           .group:00000000 wm4.lock.h.2.9bc98482741e5e2a9450b12934a684ea
                           .group:00000000 wm4.stddef.h.161.c6104a0666cf681b6269ddc9b4f516d4
                           .group:00000000 wm4.reent.h.16.9e42f0e588b85e70b2bf6572af57ce64
                           .group:00000000 wm4.types.h.23.0d949686bbcadd1621462d4fa1f884f9
                           .group:00000000 wm4.types.h.2.e9cec8c90ab35f77d9f499e06ae02400
                           .group:00000000 wm4.types.h.80.4c41f90a958351ce40b14103f7ff82ee
                           .group:00000000 wm4.stdio.h.2.4aa87247282eca6c8f36f9de33d8df1a
                           .group:00000000 wm4.stdio.h.63.dfdea6580b080784d08faace69b6ed76

UNDEFINED SYMBOLS
SetOutputPWM
SPI1Setup
vStartPowerTask
vStartTWITask
vStartComTasks
vStartDisplayTask
vStartOperateTask
vTaskStartScheduler
PIOB_irq_handler
ADC0_irq_handler
TC0_irq_handler
TC1_interrupt_count
TC1_irq_handler
TC4_irq_handler
TC5_irq_handler
TC6_irq_handler
